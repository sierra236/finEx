!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(globalThis,()=>(()=>{var t={23:function(t,e,i){"use strict";let n;{let t=/(^.*\/@clerk\/clerk-js@)(.+?)(\/dist.*)/;(()=>{try{let e=new URL(document.currentScript.src),n=new URL(e.href.split("/").slice(0,-1).join("/")).href;n+=n.endsWith("/")?"":"/",i.p=n.replace(t,"$1".concat("5.61.0","$3"))}catch{}})()}function s(t,e){return e.get?e.get.call(t):e.value}function r(t,e,i){if(!e.has(t))throw TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function a(t,e){var i=r(t,e,"get");return s(t,i)}function o(t,e){if(e.has(t))throw TypeError("Cannot initialize the same private elements twice on an object")}function l(t,e,i){o(t,e),e.set(t,i)}function c(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw TypeError("attempted to set read only private field");e.value=i}}function h(t,e,i){var n=r(t,e,"set");return c(t,n,i),i}function d(t,e,i){if(!e.has(t))throw TypeError("attempted to get private field on non-instance");return i}function u(t,e){o(t,e),e.add(t)}function p(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function m(){return"undefined"!=typeof window}i(647);var f,v,_,g,w,b,y,S,k,U,A,O,I,C,P,T,E,x,R,M,z,N,W=RegExp("bot|spider|crawl|APIs-Google|AdsBot|Googlebot|mediapartners|Google Favicon|FeedFetcher|Google-Read-Aloud|DuplexWeb-Google|googleweblight|bing|yandex|baidu|duckduck|yahoo|ecosia|ia_archiver|facebook|instagram|pinterest|reddit|slack|twitter|whatsapp|youtube|semrush","i");function F(){var t,e;let i=m()?null===(t=window)||void 0===t?void 0:t.navigator:null;return!!i&&!((e=null==i?void 0:i.userAgent)&&W.test(e))&&!(null==i?void 0:i.webdriver)}function D(){var t,e,i;let n=m()?null===(t=window)||void 0===t?void 0:t.navigator:null;if(!n)return!1;let s=null==n?void 0:n.onLine;return(null==n?void 0:null===(e=n.connection)||void 0===e?void 0:e.rtt)!==0&&(null==n?void 0:null===(i=n.connection)||void 0===i?void 0:i.downlink)!==0&&s}Object.prototype.hasOwnProperty;var L=t=>{throw TypeError(t)},j=(t,e,i)=>e.has(t)||L("Cannot "+i),J=(t,e,i)=>(j(t,e,"read from private field"),i?i.call(t):e.get(t)),V=(t,e,i)=>e.has(t)?L("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),K=(t,e,i,n)=>(j(t,e,"write to private field"),n?n.call(t,i):e.set(t,i),i),B=(t,e,i)=>(j(t,e,"access private method"),i),q=()=>!1,G=()=>{try{return!0}catch{}return!1},H=new Set,$=(t,e,i)=>{let n=q()||G(),s=null!=i?i:t;!H.has(s)&&!n&&(H.add(s),console.warn('Clerk - DEPRECATION WARNING: "'.concat(t,'" is deprecated and will be removed in the next major release.\n').concat(e)))};function Y(t){let e=null==t?void 0:t.status;return!!e&&e>=400&&e<500}function X(t){return"clerkError"in t}function Z(t){return"clerkRuntimeError"in t}function Q(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.length>0?t.map(tt):[]}function tt(t){var e,i,n,s,r;return{code:t.code,message:t.message,longMessage:t.long_message,meta:{paramName:null==t?void 0:null===(e=t.meta)||void 0===e?void 0:e.param_name,sessionId:null==t?void 0:null===(i=t.meta)||void 0===i?void 0:i.session_id,emailAddresses:null==t?void 0:null===(n=t.meta)||void 0===n?void 0:n.email_addresses,identifiers:null==t?void 0:null===(s=t.meta)||void 0===s?void 0:s.identifiers,zxcvbn:null==t?void 0:null===(r=t.meta)||void 0===r?void 0:r.zxcvbn}}}var te=class t extends Error{constructor(e,{data:i,status:n,clerkTraceId:s,retryAfter:r}){super(e),this.toString=()=>{let t="[".concat(this.name,"]\nMessage:").concat(this.message,"\nStatus:").concat(this.status,"\nSerialized errors: ").concat(this.errors.map(t=>JSON.stringify(t)));return this.clerkTraceId&&(t+="\nClerk Trace ID: ".concat(this.clerkTraceId)),t},Object.setPrototypeOf(this,t.prototype),this.status=n,this.message=e,this.clerkTraceId=s,this.retryAfter=r,this.clerkError=!0,this.errors=Q(i)}},ti=class t extends Error{constructor(e,{code:i}){let n="\uD83D\uDD12 Clerk:",s=RegExp(n.replace(" ","\\s*"),"i"),r=e.replace(s,""),a="".concat(n," ").concat(r.trim(),'\n\n(code="').concat(i,'")\n');super(a),this.toString=()=>"[".concat(this.name,"]\nMessage:").concat(this.message),Object.setPrototypeOf(this,t.prototype),this.code=i,this.message=a,this.clerkRuntimeError=!0,this.name="ClerkRuntimeError"}},tn=class t extends Error{constructor(e){super(e),this.code=e,this.name="EmailLinkError",Object.setPrototypeOf(this,t.prototype)}},ts={Expired:"expired",Failed:"failed",ClientMismatch:"client_mismatch"},tr=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"}),ta=class extends ti{constructor(t,{code:e}){super(t,{code:e}),this.code=e}},to=t=>"undefined"!=typeof atob&&"function"==typeof atob?atob(t):"undefined"!=typeof global&&global.Buffer?new global.Buffer(t,"base64").toString():t,tl=t=>"undefined"!=typeof btoa&&"function"==typeof btoa?btoa(t):"undefined"!=typeof global&&global.Buffer?new global.Buffer(t).toString("base64"):t,tc=[".lcl.dev",".lclstage.dev",".lclclerk.com"],th=[".accounts.dev",".accountsstage.dev",".accounts.lclclerk.com"],td=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],tu="pk_live_";function tp(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(t=t||"")||!tm(t)){if(e.fatal&&!t)throw Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(e.fatal&&!tm(t))throw Error("Publishable key not valid.");return null}let i=t.startsWith(tu)?"production":"development",n=to(t.split("_")[2]);return n=n.slice(0,-1),e.proxyUrl?n=e.proxyUrl:"development"!==i&&e.domain&&(n="clerk.".concat(e.domain)),{instanceType:i,frontendApi:n}}function tm(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{let e=t.startsWith(tu)||t.startsWith("pk_test_"),i=to(t.split("_")[2]||"").endsWith("$");return e&&i}catch{return!1}}async function tf(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis.crypto.subtle,i=new TextEncoder().encode(t);return tl(String.fromCharCode(...new Uint8Array(await e.digest("sha-1",i)))).replace(/\+/gi,"-").replace(/\//gi,"_").substring(0,8)}var tv=(t,e)=>"".concat(t,"_").concat(e),t_=class{prefixEventName(t){return this.channelKey+t}constructor(t){this.eventTarget=window,this.postMessage=t=>{if("undefined"!=typeof window)try{window.localStorage.setItem(this.channelKey,JSON.stringify(t)),window.localStorage.removeItem(this.channelKey)}catch{}},this.addEventListener=(t,e)=>{this.eventTarget.addEventListener(this.prefixEventName(t),t=>{e(t)})},this.setupLocalStorageListener=()=>{window.addEventListener("storage",t=>{if(t.key===this.channelKey&&t.newValue)try{let e=JSON.parse(t.newValue||""),i=new MessageEvent(this.prefixEventName("message"),{data:e});this.eventTarget.dispatchEvent(i)}catch{}})},this.channelKey="__lsbc__"+t,this.setupLocalStorageListener()}},tg=new Set,tw={warnOnce:t=>{!tg.has(t)&&(tg.add(t),console.warn(t))},logOnce:t=>{!tg.has(t)&&(console.log(t),tg.add(t))}};function tb(t){return/^http(s)?:\/\//.test(t||"")}function ty(t){return t.startsWith("/")}function tS(t){return t?t.replace(/[A-Z]/g,t=>"_".concat(t.toLowerCase())):""}var tk=t=>{let e=i=>{if(!i)return i;if(Array.isArray(i))return i.map(t=>"object"==typeof t||Array.isArray(t)?e(t):t);let n={...i};for(let i of Object.keys(n)){let s=t(i.toString());s!==i&&(n[s]=n[i],delete n[i]),"object"==typeof n[s]&&(n[s]=e(n[s]))}return n};return e},tU=tk(tS),tA=tk(function(t){return t?t.replace(/([-_][a-z])/g,t=>t.toUpperCase().replace(/-|_/,"")):""});function tO(t){if("boolean"==typeof t)return t;if(null==t)return!1;if("string"==typeof t){if("true"===t.toLowerCase())return!0;if("false"===t.toLowerCase())return!1}let e=parseInt(t,10);return!isNaN(e)&&e>0}var tI=class{isEventThrottled(t){var e;if(!J(this,_,b))return!1;let i=Date.now(),n=B(this,_,g).call(this,t),s=null===(e=J(this,_,w))||void 0===e?void 0:e[n];if(!s){let t={...J(this,_,w),[n]:i};localStorage.setItem(J(this,f),JSON.stringify(t))}if(s&&i-s>J(this,v)){let t=J(this,_,w);delete t[n],localStorage.setItem(J(this,f),JSON.stringify(t))}return!!s}constructor(){V(this,_),V(this,f,"clerk_telemetry_throttler"),V(this,v,864e5)}};f=new WeakMap,v=new WeakMap,_=new WeakSet,g=function(t){let{sk:e,pk:i,payload:n,...s}=t,r={...n,...s};return JSON.stringify(Object.keys({...n,...s}).sort().map(t=>r[t]))},w=function(){let t=localStorage.getItem(J(this,f));return t?JSON.parse(t):{}},b=function(){if("undefined"==typeof window)return!1;let t=window.localStorage;if(!t)return!1;try{let e="test";return t.setItem(e,e),t.removeItem(e),!0}catch(e){return e instanceof DOMException&&("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t.length>0&&t.removeItem(J(this,f)),!1}};var tC={samplingRate:1,maxBufferSize:5,endpoint:"https://clerk-telemetry.com"},tP=class{get isEnabled(){var t,e;return!("development"!==J(this,k).instanceType||J(this,y).disabled||"undefined"!=typeof process&&tO(process.env.CLERK_TELEMETRY_DISABLED))&&("undefined"==typeof window||null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t||!t.webdriver)}get isDebug(){return J(this,y).debug||"undefined"!=typeof process&&tO(process.env.CLERK_TELEMETRY_DEBUG)}record(t){let e=B(this,O,R).call(this,t.event,t.payload);B(this,O,E).call(this,e.event,e),B(this,O,I).call(this,e,t.eventSamplingRate)&&(J(this,U).push(e),B(this,O,P).call(this))}constructor(t){var e,i,n,s,r,a;V(this,O),V(this,y),V(this,S),V(this,k,{}),V(this,U,[]),V(this,A),K(this,y,{maxBufferSize:null!==(e=t.maxBufferSize)&&void 0!==e?e:tC.maxBufferSize,samplingRate:null!==(i=t.samplingRate)&&void 0!==i?i:tC.samplingRate,disabled:null!==(n=t.disabled)&&void 0!==n&&n,debug:null!==(s=t.debug)&&void 0!==s&&s,endpoint:tC.endpoint}),t.clerkVersion||"undefined"!=typeof window?J(this,k).clerkVersion=null!==(r=t.clerkVersion)&&void 0!==r?r:"":J(this,k).clerkVersion="",J(this,k).sdk=t.sdk,J(this,k).sdkVersion=t.sdkVersion,J(this,k).publishableKey=null!==(a=t.publishableKey)&&void 0!==a?a:"";let o=tp(t.publishableKey);o&&(J(this,k).instanceType=o.instanceType),t.secretKey&&(J(this,k).secretKey=t.secretKey.substring(0,16)),K(this,S,new tI)}};function tT(t){return function(e,i,n){var s,r,a;return{event:t,eventSamplingRate:.1,payload:{component:e,appearanceProp:!!(null==i?void 0:i.appearance),baseTheme:!!(null==i?void 0:null===(s=i.appearance)||void 0===s?void 0:s.baseTheme),elements:!!(null==i?void 0:null===(r=i.appearance)||void 0===r?void 0:r.elements),variables:!!(null==i?void 0:null===(a=i.appearance)||void 0===a?void 0:a.variables),...n}}}}function tE(t,e,i){return tT("COMPONENT_MOUNTED")(t,e,i)}function tx(t,e,i){return tT("COMPONENT_OPENED")(t,e,i)}y=new WeakMap,S=new WeakMap,k=new WeakMap,U=new WeakMap,A=new WeakMap,O=new WeakSet,I=function(t,e){return this.isEnabled&&!this.isDebug&&B(this,O,C).call(this,t,e)},C=function(t,e){let i=Math.random();return i<=J(this,y).samplingRate&&(void 0===e||i<=e)&&!J(this,S).isEventThrottled(t)},P=function(){if("undefined"==typeof window){B(this,O,T).call(this);return}if(J(this,U).length>=J(this,y).maxBufferSize){J(this,A)&&("undefined"!=typeof cancelIdleCallback?cancelIdleCallback:clearTimeout)(J(this,A)),B(this,O,T).call(this);return}!J(this,A)&&("requestIdleCallback"in window?K(this,A,requestIdleCallback(()=>{B(this,O,T).call(this)})):K(this,A,setTimeout(()=>{B(this,O,T).call(this)},0)))},T=function(){fetch(new URL("/v1/event",J(this,y).endpoint),{method:"POST",body:JSON.stringify({events:J(this,U)}),headers:{"Content-Type":"application/json"}}).catch(()=>void 0).then(()=>{K(this,U,[])}).catch(()=>void 0)},E=function(t,e){this.isDebug&&(void 0!==console.groupCollapsed?(console.groupCollapsed("[clerk/telemetry]",t),console.log(e),console.groupEnd()):console.log("[clerk/telemetry]",t,e))},x=function(){let t={name:J(this,k).sdk,version:J(this,k).sdkVersion};return"undefined"!=typeof window&&window.Clerk&&(t={...t,...window.Clerk.constructor.sdkMetadata}),t},R=function(t,e){var i,n;let s=B(this,O,x).call(this);return{event:t,cv:null!==(i=J(this,k).clerkVersion)&&void 0!==i?i:"",it:null!==(n=J(this,k).instanceType)&&void 0!==n?n:"",sdk:s.name,sdkv:s.version,...J(this,k).publishableKey?{pk:J(this,k).publishableKey}:{},...J(this,k).secretKey?{sk:J(this,k).secretKey}:{},payload:e}};var tR=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,tM=t=>tR.test(t),tz=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i]};function tN(t,e,i){return"function"==typeof t?t(e):void 0!==t?t:void 0!==i?i:void 0}let tW="clerk:beforeunload",tF=["http:","https:","wails:","chrome-extension:"];function tD(t){let e=new URL(t,window.location.href);window.dispatchEvent(new CustomEvent(tW)),window.location.href=e.href}let tL=()=>{let t=!1,e=()=>t=!0;return{startListening:()=>{window.addEventListener("beforeunload",e),window.addEventListener(tW,e)},stopListening:()=>{window.removeEventListener("beforeunload",e),window.removeEventListener(tW,e)},isUnloading:()=>t}},tj=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return{track:async t=>{await t()},isUnloading:()=>!1};let e=tL();return{track:async t=>{e.startListening(),await t(),e.stopListening()},isUnloading:e.isUnloading}},tJ=t=>({amount:t.amount,amountFormatted:t.amount_formatted,currency:t.currency,currencySymbol:t.currency_symbol}),tV=t=>({grandTotal:tJ(t.grand_total),subtotal:tJ(t.subtotal),taxTotal:tJ(t.tax_total),totalDueNow:t.total_due_now?tJ(t.total_due_now):void 0}),tK=t=>{let{signUp:e,verifyEmailPath:i,verifyPhonePath:n,continuePath:s,navigate:r,handleComplete:a,redirectUrl:o="",redirectUrlComplete:l=""}=t;if("complete"===e.status)return a&&a();if("missing_requirements"===e.status){var c,h;if(e.missingFields.some(t=>"saml"===t||"enterprise_sso"===t))return e.authenticateWithRedirect({strategy:"enterprise_sso",redirectUrl:o,redirectUrlComplete:l,continueSignUp:!0});if((null===(c=e.unverifiedFields)||void 0===c?void 0:c.includes("email_address"))&&i)return r(i);if((null===(h=e.unverifiedFields)||void 0===h?void 0:h.includes("phone_number"))&&n)return r(n);if(s)return r(s)}},tB=(t,e)=>!!(t.session&&(null==e?void 0:e.authConfig.singleSessionMode)),tq=t=>!t.user,tG=t=>!t.organization,tH=(t,e)=>!(null==e?void 0:e.organizationSettings.enabled),t$=(t,e)=>!(null==e?void 0:e.__experimental_commerceSettings.billing.enabled);function tY(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.errors&&!!t.errors.find(t=>t.code===e)}let tX=function(t){let{packageName:e,customMessages:i}=t,n=e,s={...tr,...i};function r(t,e){if(!e)return"".concat(n,": ").concat(t);let i=t;for(let n of t.matchAll(/{{([a-zA-Z0-9-_]+)}}/g)){let t=(e[n[1]]||"").toString();i=i.replace("{{".concat(n[1],"}}"),t)}return"".concat(n,": ").concat(i)}return{setPackageName(t){let{packageName:e}=t;return"string"==typeof e&&(n=e),this},setMessages(t){let{customMessages:e}=t;return Object.assign(s,e||{}),this},throwInvalidPublishableKeyError(t){throw Error(r(s.InvalidPublishableKeyErrorMessage,t))},throwInvalidProxyUrl(t){throw Error(r(s.InvalidProxyUrlErrorMessage,t))},throwMissingPublishableKeyError(){throw Error(r(s.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw Error(r(s.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(t){throw Error(r(s.MissingClerkProvider,t))},throw(t){throw Error(r(t))}}}({packageName:"@clerk/clerk-js"});function tZ(t){return new URL(window.location.href).searchParams.get(t)||null}function tQ(t){let e=new URL(window.location.href);e.searchParams.has(t)&&(e.searchParams.delete(t),window.history.replaceState(window.history.state,"",e))}var t0=i(763),t1={toRegexp:t=>{try{return t0(t)}catch(e){throw Error("Invalid pattern: ".concat(t,".\nConsult the documentation of glob-to-regexp here: https://www.npmjs.com/package/glob-to-regexp.\n").concat(e.message))}}};let t3=RegExp("/{1,}","g"),t2=t=>{let e={};return new URLSearchParams(t).forEach((t,i)=>{if(i in e){let n=e[i];Array.isArray(n)?n.push(t):e[i]=[n,t]}else e[i]=t}),e},t4=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==t||!t||"object"!=typeof t)return"";let i=new URLSearchParams;return Object.keys(t).forEach(n=>{let s=e.keyEncoder?e.keyEncoder(n):n,r=t[n];if(Array.isArray(r))r.forEach(t=>void 0!==t&&i.append(s,t||""));else{if(void 0===r)return;"object"==typeof r&&null!==r?i.append(s,JSON.stringify(r)):i.append(s,String(null!=r?r:""))}}),i.toString()},t6="http://clerk-dummy",t5=["javascript:"],{isDevOrStagingUrl:t9}=function(){let t=new Map;return{isDevOrStagingUrl:e=>{if(!e)return!1;let i="string"==typeof e?e:e.hostname,n=t.get(i);return void 0===n&&(n=td.some(t=>i.endsWith(t)),t.set(i,n)),n}}}(),t7=new Map;function t8(t){return t.replace("clerk.","")}function et(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{base:i,hashPath:n,hashSearch:s,searchParams:r,hashSearchParams:a,...o}=t,l="",c=new URL(i||"","undefined"!=typeof window&&window.location?window.location.href:"http://react-native-fake-base-url");if(r instanceof URLSearchParams&&r.forEach((t,e)=>{null!=t&&c.searchParams.set(tS(e),t)}),Object.assign(c,o),n||s||a){let t=new URL(t6+c.hash.substring(1));for(let[e,i]of(t.pathname=[t.pathname,n||""].filter(t=>t).join("/").replace(t3,"/"),Object.entries(t2(s||""))))t.searchParams.append(e,i);if(a)for(let e of Array.isArray(a)?a:[a])(e instanceof URLSearchParams||"object"==typeof e)&&new URLSearchParams(e).forEach((e,i)=>{null!=e&&t.searchParams.set(tS(i),e)});let e=t.href.replace(t6,"");"/"!==e&&(c.hash=e)}let{stringify:h,skipOrigin:d}=e;return h?d?c.href.replace(c.origin,""):c.href:c}let ee=t=>(t||"").replace(/\/+$/,""),ei=t=>{let{externalAccount:e}=t.verifications;return!!e.error};function en(t,e){try{return new URL(t)}catch{return new URL(t,e)}}let es=[/\0/,/^\/\//,/[\x00-\x1F]/],er=["/oauth/authorize"],ea=["/v1/verify","/v1/tickets/accept"],eo=(t,e)=>i=>{let n=i;if("string"==typeof n&&(n=en(n,e)),!t)return!0;let s=e===n.origin,r=!function(t){if(function(t){if(!function(t){if(!t)return!1;try{return new URL(t),!0}catch{return!1}}(t))return!1;let e=new URL(t).protocol;return t5.some(t=>t===e)}(t))return!0;for(let e of es)if(e.test(t.pathname))return!0;return!1}(n)&&(s||t.map(t=>"string"==typeof t?t1.toRegexp(ee(t)):t).some(t=>t.test(ee(n.origin))));return r||tw.warnOnce("Clerk: Redirect URL ".concat(n," is not on one of the allowedRedirectOrigins, falling back to the default redirect URL.")),r};function el(t){var e;return e=t.replace(/_/g,"/").replace(/-/g,"+"),decodeURIComponent(i.g.atob(e).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join(""))}function ec(t){let e=(t||"").split("."),[i,n,s]=e;if(3!==e.length||!i||!n||!s)throw Error("JWT could not be decoded");let r=JSON.parse(el(n)),a={__raw:t};return Object.keys(r).forEach(t=>{a[t]=r[t]}),{encoded:{header:i,payload:n,signature:s},header:JSON.parse(el(i)),claims:a}}let eh=()=>{if(!m())return{onPageFocus:tz};let t={focus:[]};return window.addEventListener("focus",()=>{"visible"===document.visibilityState&&t.focus.forEach(t=>t())}),{onPageFocus:e=>{t.focus.push(e)}}};function ed(){return void 0!==globalThis.document}function eu(){return ed()&&globalThis.document.hasFocus()}function ep(){return ed()&&window.self!==window.top&&!window.frameElement}function em(t,e){if(t!==e)throw TypeError("Private static access of wrong provenance")}function ef(t,e){if(void 0===t)throw TypeError("attempted to "+e+" private static field before its declaration")}function ev(t,e,i){return em(t,e),ef(i,"get"),s(t,i)}var e_=new WeakMap,eg=new WeakMap,ew=new WeakMap;class eb{static getInstance(){if(!ev(eb,eb,ey)){var t;t=new eb,em(eb,eb),ef(ey,"set"),c(eb,ey,t)}return ev(eb,eb,ey)}constructor(){if(l(this,e_,{writable:!0,value:[]}),l(this,eg,{writable:!0,value:{metamask:"MetaMask",okx_wallet:"OKX Wallet"}}),p(this,"get",t=>{var e;let i=null===(e=a(this,e_).find(e=>e.info.name===a(this,eg)[t]))||void 0===e?void 0:e.provider;return void 0!==i?i:window.ethereum}),l(this,ew,{writable:!0,value:t=>{!a(this,e_).some(e=>e.info.uuid===t.detail.info.uuid)&&a(this,e_).push(t.detail)}}),"undefined"==typeof window)return;window.addEventListener("eip6963:announceProvider",a(this,ew)),window.dispatchEvent(new Event("eip6963:requestProvider"))}}var ey={writable:!0,value:null};let eS=()=>eb.getInstance();async function ek(t){let{provider:e}=t,i=await eE(e);if(!i)return"";let n=await i.request({method:"eth_requestAccounts"});return n&&n[0]||""}async function eU(t){let{identifier:e,nonce:i,provider:n}=t,s=await eE(n);return s?await s.request({method:"personal_sign",params:["0x".concat(i.split("").map(t=>t.charCodeAt(0).toString(16).padStart(2,"0")).join("")),e]}):""}async function eA(){return await ek({provider:"metamask"})}async function eO(){return await ek({provider:"coinbase_wallet"})}async function eI(){return await ek({provider:"okx_wallet"})}async function eC(t){return await eU({...t,provider:"metamask"})}async function eP(t){return await eU({...t,provider:"coinbase_wallet"})}async function eT(t){return await eU({...t,provider:"okx_wallet"})}async function eE(t){return"coinbase_wallet"===t?(await Promise.all([i.e("956"),i.e("192")]).then(i.bind(i,453)).then(t=>t.createCoinbaseWalletSDK))({preference:{options:"all"}}).getProvider():eS().get(t)}function ex(t){let e=["redirectUrl","afterSignInUrl","afterSignUpUrl","after_sign_in_url","after_sign_up_url"],i=Object.keys(t).find(t=>e.includes(t));i&&t[i]&&tw.warnOnce('Clerk: The prop "'.concat(i,'" is deprecated and should be replaced with the new "fallbackRedirectUrl" or "forceRedirectUrl" props instead. Learn more: https://clerk.com/docs/guides/custom-redirects#redirect-url-props'))}let eR="environment",eM=JSON.stringify,ez=JSON.parse;class eN{static _key(t){return"".concat("__clerk_").concat(t)}static isExpired(t){return!!t.exp&&Date.now()>t.exp}static setItem(t,e,i){try{let n={value:e,...i&&{exp:Date.now()+i}};window.localStorage.setItem(this._key(t),eM(n))}catch{}}static getItem(t,e){try{var i;let n=window.localStorage.getItem(this._key(t));if(!n)return e;let s=ez(n);if(!s)return e;if(this.isExpired(s))return this.removeItem(t),e;return null!==(i=null==s?void 0:s.value)&&void 0!==i?i:e}catch{return e}}static removeItem(t){try{window.localStorage.removeItem(this._key(t))}catch{}}}let eW="ClerkJS:";function eF(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";throw Error("".concat(eW," Something went wrong initializing Clerk in development mode.").concat(t&&" ".concat(t)))}function eD(t){throw Error("".concat(eW," Something went wrong initializing Clerk during the ").concat(t," flow. Please contact support."))}function eL(t){throw Error("".concat(eW," You need to start a ").concat(t," flow by calling ").concat(t,".create() first."))}function ej(t,e){throw Error("".concat(eW,' Strategy "').concat(e,'" is not a valid strategy for ').concat(t,"."))}function eJ(t){throw Error("".concat(eW," You need to start a ").concat(t," flow by calling ").concat(t,".create({ identifier: 'your web3 wallet address' }) first"))}function eV(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";throw Error("".concat(eW," Missing '").concat(t,"' option"))}function eK(t,e){throw Error("".concat(eW," Response: ").concat(t||0," not supported yet.\nFor more information contact us at ").concat(e))}function eB(t){throw Error("".concat(eW," Missing publicKey. When calling 'navigator.credentials.").concat(t,"()' it is required to pass a publicKey object."))}var eq={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(t,e)=>e<5,retryImmediately:!1,jitter:!0},eG=async t=>new Promise(e=>setTimeout(e,t)),eH=(t,e)=>e?t*(1+Math.random()):t,e$=t=>{let e=0,i=()=>{let i=t.initialDelay*Math.pow(t.factor,e);return i=eH(i,t.jitter),Math.min(t.maxDelayBetweenRetries||i,i)};return async()=>{await eG(i()),e++}},eY=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=0,{shouldRetry:n,initialDelay:s,maxDelayBetweenRetries:r,factor:a,retryImmediately:o,jitter:l}={...eq,...e},c=e$({initialDelay:s,maxDelayBetweenRetries:r,factor:a,jitter:l});for(;;)try{return await t()}catch(t){if(!n(t,++i))throw t;o&&1===i?await eG(eH(100,l)):await c()}};async function eX(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,{async:i,defer:n,beforeLoad:s,crossOrigin:r,nonce:a}=e||{};return eY(()=>new Promise((e,o)=>{t||o(Error("loadScript cannot be called without a src")),document&&document.body||o("loadScript cannot be called when document does not exist");let l=document.createElement("script");r&&l.setAttribute("crossorigin",r),l.async=i||!1,l.defer=n||!1,l.addEventListener("load",()=>{l.remove(),e(l)}),l.addEventListener("error",()=>{l.remove(),o()}),l.src=t,l.nonce=a,null==s||s(l),document.body.appendChild(l)}),{shouldRetry:(t,e)=>e<=5})}let eZ="clerk-captcha",eQ="clerk-invisible-captcha",e0=t=>!!["crashed","undefined_error","102","103","104","106","110600","300","600"].find(e=>t.startsWith(e));async function e1(){return window.turnstile||await e3().catch(()=>{throw{captchaError:"captcha_script_failed_to_load"}}),window.turnstile}async function e3(){try{return await eX("https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit",{defer:!0})}catch(t){throw console.warn("Clerk: Failed to load the CAPTCHA script from Cloudflare. If you see a CSP error in your browser, please add the necessary CSP rules to your app. Visit https://clerk.com/docs/security/clerk-csp for more information."),t}}function e2(t){try{let e=t.getAttribute("data-cl-theme")||void 0,i=t.getAttribute("data-cl-language")||void 0,n=t.getAttribute("data-cl-size")||void 0;return{theme:e,language:i,size:n}}catch{return{theme:void 0,language:void 0,size:void 0}}}let e4=async t=>{let e,i,n,s;let{siteKey:r,widgetType:a,invisibleSiteKey:o}=t,{modalContainerQuerySelector:l,modalWrapperQuerySelector:c,closeModal:h,openModal:d}=t,u=await e1(),p=[],m="",f="",v=r,_=0,g=null;if(l&&c){g=a,s=l;try{await (null==d?void 0:d())}catch{throw{captchaError:"modal_component_not_ready"}}let t=await new Promise(t=>{if(document.querySelector(l))return t(document.querySelector(l));let e=new MutationObserver(()=>{document.querySelector(l)&&(e.disconnect(),t(document.querySelector(l)))});e.observe(document.body,{childList:!0,subtree:!0})});if(t){let{theme:s,language:r,size:a}=e2(t);e=s,n=r,i=a}}if(!s&&"smart"===a){let t=document.getElementById(eZ);if(t){g="smart",s="#".concat(eZ),t.style.maxHeight="0";let{theme:r,language:a,size:o}=e2(t);e=r,n=a,i=o}else console.error("Cannot initialize Smart CAPTCHA widget because the `clerk-captcha` DOM element was not found; falling back to Invisible CAPTCHA widget. If you are using a custom flow, visit https://clerk.com/docs/custom-flows/bot-sign-up-protection for instructions")}if(!s){v=o,g="invisible",s=".".concat(eQ);let t=document.createElement("div");t.classList.add(eQ),t.style.maxHeight="0",document.body.appendChild(t)}let w=async()=>new Promise((r,a)=>{try{let o=u.render(s,{sitekey:v,appearance:"interaction-only",theme:e||"auto",size:i||"normal",language:n||"auto",action:t.action,retry:"never","refresh-expired":"auto",callback:function(t){null==h||h(),r([t,o])},"before-interactive-callback":()=>{if(c){let t=document.querySelector(c);null==t||t.style.setProperty("visibility","visible"),null==t||t.style.setProperty("pointer-events","all")}else{let t=document.getElementById(eZ);t&&(t.style.maxHeight="unset",t.style.minHeight="compact"===i?"140px":"68px",t.style.marginBottom="1.5rem")}},"error-callback":function(t){if(p.push(t),_<2&&e0(t.toString())){setTimeout(()=>{u.reset(o),_++},250);return}a([p.join(","),o])},"unsupported-callback":function(){return a(["This browser is not supported by the CAPTCHA.",o]),!0}})}catch(t){a([t,void 0])}});try{[m,f]=await w(),u.remove(f)}catch(i){let[t,e]=i;throw e&&u.remove(e),{captchaError:t}}finally{null==h||h();let t=document.querySelector(".".concat(eQ));t&&document.body.removeChild(t);let e=document.getElementById(eZ);e&&(e.style.maxHeight="0",e.style.minHeight="unset",e.style.marginBottom="unset")}return{captchaToken:m,captchaWidgetType:g}},e6=t=>e4(t),e5=t=>{let e=t.__unstable__environment,i=e?e.displayConfig.captchaProvider:"turnstile";return{captchaSiteKey:e?e.displayConfig.captchaPublicKey:null,captchaWidgetType:e?e.displayConfig.captchaWidgetType:null,captchaProvider:i,captchaPublicKeyInvisible:e?e.displayConfig.captchaPublicKeyInvisible:null,canUseCaptcha:e?e.userSettings.signUp.captcha_enabled&&t.isStandardBrowser:null}};class e9{async invisible(t){let{captchaSiteKey:e,canUseCaptcha:i,captchaPublicKeyInvisible:n}=e5(this.clerk);return i&&e&&n?{...await e6({siteKey:n,invisibleSiteKey:n,widgetType:"invisible",captchaProvider:"turnstile",action:null==t?void 0:t.action}).catch(t=>t.captchaError?{captchaError:t.captchaError}:{captchaError:(null==t?void 0:t.message)||t||"unexpected_captcha_error"}),captchaAction:null==t?void 0:t.action}:{captchaError:"captcha_unavailable",captchaAction:null==t?void 0:t.action}}async managedOrInvisible(t){let{captchaSiteKey:e,canUseCaptcha:i,captchaWidgetType:n,captchaProvider:s,captchaPublicKeyInvisible:r}=e5(this.clerk);if(i&&e&&r){let i=await e6({siteKey:e,widgetType:n,invisibleSiteKey:r,captchaProvider:s,...t}).catch(e=>e.captchaError?{captchaError:e.captchaError}:(null==t?void 0:t.action)==="verify"?{captchaError:(null==e?void 0:e.message)||e||"unexpected_captcha_error"}:void 0);return(null==t?void 0:t.action)==="verify"?{...i,captchaAction:"verify"}:i}return(null==t?void 0:t.action)==="verify"?{captchaError:"captcha_unavailable",captchaAction:null==t?void 0:t.action}:{}}async managedInModal(t){return this.managedOrInvisible({modalWrapperQuerySelector:"#cl-modal-captcha-wrapper",modalContainerQuerySelector:"#cl-modal-captcha-container",openModal:()=>this.clerk.__internal_openBlankCaptchaModal(),closeModal:()=>this.clerk.__internal_closeBlankCaptchaModal(),action:null==t?void 0:t.action})}constructor(t){p(this,"clerk",void 0),this.clerk=t}}class e7{static getInstance(){return e7.instance||(e7.instance=new e7(il,e9)),e7.instance}async execute(t,e){if(this.captchaAttemptsExceeded())throw new ti("Security verification failed. Please try again by refreshing the page, clearing your browser cookies, or using a different web browser.",{code:"captcha_client_attempts_exceeded"});try{return this.inflightException&&await this.inflightException,await e()}catch(s){var i;let n;if(!X(s)||(null===(i=s.errors[0])||void 0===i?void 0:i.code)!=="requires_captcha")throw s;if(this.inflightException)return await this.inflightException,await e();this.inflightException=new Promise(t=>n=t);try{let e=await this.managedChallenge(t);(null==e?void 0:e.captchaError)!=="modal_component_not_ready"&&(await this.client.getOrCreateInstance().__internal_sendCaptchaToken(e),this.captchaRetryCount=0)}catch(t){throw this.captchaRetryCount++,t}finally{n(),this.inflightException=null}return await e()}}managedChallenge(t){return new this.CaptchaChallengeImpl(t).managedInModal({action:"verify"})}constructor(t,e){p(this,"client",void 0),p(this,"CaptchaChallengeImpl",void 0),p(this,"inflightException",void 0),p(this,"captchaRetryCount",void 0),p(this,"MAX_RETRY_ATTEMPTS",void 0),p(this,"captchaAttemptsExceeded",void 0),this.client=t,this.CaptchaChallengeImpl=e,this.inflightException=null,this.captchaRetryCount=0,this.MAX_RETRY_ATTEMPTS=3,this.captchaAttemptsExceeded=()=>this.captchaRetryCount>=this.MAX_RETRY_ATTEMPTS}}p(e7,"instance",void 0);class e8{static get fapiClient(){return e8.clerk.getFapiClient()}async reload(t){let{rotatingTokenNonce:e}=t||{};return this._baseGet({forceUpdateClient:!0,rotatingTokenNonce:e})}isNew(){return!this.id}static async _fetch(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e7.getInstance().execute(this.clerk,()=>this._baseFetch(t,e))}static async _baseFetch(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e8.fapiClient||function(){throw Error("".concat(eW," Missing FAPI client in resources."))}();let{fetchMaxTries:n}=i;try{e=await e8.fapiClient.request(t,{fetchMaxTries:n})}catch(t){if(this.shouldRethrowOfflineNetworkErrors())throw new ti((null==t?void 0:t.message)||t,{code:"network_error"});if(!(D()&&F()))return console.warn(t),null;throw t}let{payload:s,status:r,statusText:a,headers:o}=e;if(o){let t=o.get("x-country");this.clerk.__internal_setCountry(t?t.toLowerCase():null)}if(("GET"!==t.method||i.forceUpdateClient)&&this._updateClient(s),r>=200&&r<=299)return s;if(r>=400){var l,c;let t=null==s?void 0:s.errors,e=null==t?void 0:null===(l=t[0])||void 0===l?void 0:l.long_message,i=null==t?void 0:null===(c=t[0])||void 0===c?void 0:c.code;401===r&&"requires_captcha"!==i&&await e8.clerk.handleUnauthenticated(),function(t,e){var i;if(!e||!e[0])return;let n=e[0],s=n.long_message;if("origin_invalid"===n.code&&((i=e8.clerk.publishableKey).startsWith("live_")||i.startsWith("pk_live_"))){let i=e8.clerk.frontendApi.replace("clerk.","");throw new te('Clerk: Production Keys are only allowed for domain "'.concat(i,'". \nAPI Error: ').concat(s),{data:e,status:t})}}(r,t);let n={data:t,status:r};if(429===r&&o){let t=o.get("retry-after");if(t){let e=parseInt(t,10);isNaN(e)||(n.retryAfter=e)}}throw new te(e||a,n)}return null}static _updateClient(t){var e;if(!t)return;let i=t.client||(null===(e=t.meta)||void 0===e?void 0:e.client);i&&e8.clerk&&e8.clerk.updateClient(il.getOrCreateInstance().fromJSON(i))}path(t){let e=this.pathRoot;if(this.isNew())return e;let i=e.replace(/[^/]$/,"$&/")+encodeURIComponent(this.id);return t?i.replace(/[^/]$/,"$&/")+encodeURIComponent(t):i}withDefault(t,e){return null!=t?t:e}async _baseGet(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=await e8._fetch({method:"GET",path:this.path(),rotatingTokenNonce:t.rotatingTokenNonce},t);return this.fromJSON((null==e?void 0:e.response)||e)}async _baseMutate(t){let{action:e,body:i,method:n,path:s}=t,r=await e8._fetch({method:n,path:s||this.path(e),body:i});return this.fromJSON((null==r?void 0:r.response)||r)}async _baseMutateBypass(t){let{action:e,body:i,method:n,path:s}=t,r=await e8._baseFetch({method:n,path:s||this.path(e),body:i});return this.fromJSON((null==r?void 0:r.response)||r)}async _basePost(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseMutate({...t,method:"POST"})}async _basePostBypass(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseMutateBypass({...t,method:"POST"})}async _basePut(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseMutate({...t,method:"PUT"})}async _basePatch(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseMutate({...t,method:"PATCH"})}async _baseDelete(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await this._baseMutate({...t,method:"DELETE"})}static shouldRethrowOfflineNetworkErrors(){var t,e;let i=null===(e=e8.clerk)||void 0===e?void 0:null===(t=e.__internal_getOption)||void 0===t?void 0:t.call(e,"experimental");return(null==i?void 0:i.rethrowOfflineNetworkErrors)||!1}constructor(){p(this,"id",void 0),p(this,"pathRoot","")}}p(e8,"clerk",void 0);let it={enabled:!1,first_factors:[],name:"phone_number",required:!1,second_factors:[],used_for_first_factor:!1,used_for_second_factor:!1,verifications:[],verify_at_sign_up:!1};class ie extends e8{get authenticatableSocialStrategies(){return this.social?Object.entries(this.social).filter(t=>{let[,e]=t;return e.enabled&&e.authenticatable}).map(t=>{let[,e]=t;return e.strategy}).sort():[]}get enabledFirstFactorIdentifiers(){return this.attributes?Object.entries(this.attributes).filter(t=>{let[e,i]=t;return i.used_for_first_factor&&!e.startsWith("web3")}).map(t=>{let[e]=t;return e}):[]}get socialProviderStrategies(){return this.social?Object.entries(this.social).filter(t=>{let[,e]=t;return e.enabled}).map(t=>{let[,e]=t;return e.strategy}).sort():[]}get web3FirstFactors(){return this.attributes?Object.entries(this.attributes).filter(t=>{let[e,i]=t;return i.used_for_first_factor&&e.startsWith("web3")}).map(t=>{let[,e]=t;return e.first_factors}).flat():[]}get instanceIsPasswordBased(){var t,e,i;return!!((null===(e=this.attributes)||void 0===e?void 0:null===(t=e.password)||void 0===t?void 0:t.enabled)&&(null===(i=this.attributes.password)||void 0===i?void 0:i.required))}get hasValidAuthFactor(){var t,e,i,n,s,r;return!!((null===(e=this.attributes)||void 0===e?void 0:null===(t=e.email_address)||void 0===t?void 0:t.enabled)||(null===(n=this.attributes)||void 0===n?void 0:null===(i=n.phone_number)||void 0===i?void 0:i.enabled)||(null===(s=this.attributes.password)||void 0===s?void 0:s.required)&&(null===(r=this.attributes.username)||void 0===r?void 0:r.required))}fromJSON(t){var e,i,n,s,r,a,o,l,c;return t&&(this.attributes=this.withDefault(t.attributes?Object.fromEntries(Object.entries(t.attributes).map(t=>[t[0],{...t[1],name:t[0]}])):null,this.attributes),this.actions=this.withDefault(t.actions,this.actions),this.enterpriseSSO=this.withDefault(t.enterprise_sso,this.enterpriseSSO),this.passkeySettings=this.withDefault(t.passkey_settings,this.passkeySettings),this.passwordSettings=t.password_settings?{...t.password_settings,min_length:Math.max(null!==(a=null===(e=t.password_settings)||void 0===e?void 0:e.min_length)&&void 0!==a?a:8,8),max_length:(null===(i=t.password_settings)||void 0===i?void 0:i.max_length)===0?72:Math.min(null!==(o=null===(n=t.password_settings)||void 0===n?void 0:n.max_length)&&void 0!==o?o:72,72)}:this.passwordSettings,this.saml=this.withDefault(t.saml,this.saml),this.signIn=this.withDefault(t.sign_in,this.signIn),this.signUp=this.withDefault(t.sign_up,this.signUp),this.social=this.withDefault(t.social,this.social),this.usernameSettings=t.username_settings?{...t.username_settings,min_length:Math.max(null!==(l=null===(s=t.username_settings)||void 0===s?void 0:s.min_length)&&void 0!==l?l:4,4),max_length:Math.min(null!==(c=null===(r=t.username_settings)||void 0===r?void 0:r.max_length)&&void 0!==c?c:64,64)}:this.usernameSettings),this}__internal_toSnapshot(){return{actions:this.actions,attributes:this.attributes,passkey_settings:this.passkeySettings,password_settings:this.passwordSettings,saml:this.saml,sign_in:this.signIn,sign_up:this.signUp,social:this.social}}constructor(t=null){super(),p(this,"id",void 0),p(this,"actions",{create_organization:!1,delete_self:!1}),p(this,"attributes",{email_address:{enabled:!0,first_factors:["email_code"],name:"email_address",required:!0,second_factors:[],used_for_first_factor:!0,used_for_second_factor:!1,verifications:["email_code"],verify_at_sign_up:!0},phone_number:{...it,name:"phone_number"},username:{...it,name:"username"},web3_wallet:{...it,name:"web3_wallet"},first_name:{...it,name:"first_name"},last_name:{...it,name:"last_name"},password:{enabled:!0,first_factors:[],name:"password",required:!0,second_factors:[],used_for_first_factor:!1,used_for_second_factor:!1,verifications:[],verify_at_sign_up:!1},authenticator_app:{...it,name:"authenticator_app"},backup_code:{...it,name:"backup_code"},passkey:{...it,name:"passkey"}}),p(this,"enterpriseSSO",{enabled:!1}),p(this,"passkeySettings",{allow_autofill:!1,show_sign_in_button:!1}),p(this,"passwordSettings",{}),p(this,"saml",{enabled:!1}),p(this,"signIn",{second_factor:{required:!1,enabled:!1}}),p(this,"signUp",{allowlist_only:!1,captcha_enabled:!1,legal_consent_enabled:!1,mode:"public",progressive:!0}),p(this,"social",{}),p(this,"usernameSettings",{}),this.fromJSON(t)}}class ii extends e8{fromJSON(t){var e,i;return t&&(this.billing.stripePublishableKey=(null==t?void 0:null===(e=t.billing)||void 0===e?void 0:e.stripe_publishable_key)||"",this.billing.enabled=(null==t?void 0:null===(i=t.billing)||void 0===i?void 0:i.enabled)||!1),this}__internal_toSnapshot(){return{billing:{stripe_publishable_key:this.billing.stripePublishableKey,enabled:this.billing.enabled}}}constructor(t=null){super(),p(this,"billing",{stripePublishableKey:"",enabled:!1}),this.fromJSON(t)}}function is(t){let e=new Date(t||new Date);return e instanceof Date&&!isNaN(e.getTime())?e:new Date}class ir extends e8{fromJSON(t){return t&&(this.claimedAt=this.withDefault(t.claimed_at?is(t.claimed_at):null,this.claimedAt),this.reverification=this.withDefault(t.reverification,this.reverification),this.singleSessionMode=this.withDefault(t.single_session_mode,this.singleSessionMode)),this}__internal_toSnapshot(){var t;return{claimed_at:this.claimedAt?this.claimedAt.getTime():null,id:null!==(t=this.id)&&void 0!==t?t:"",object:"auth_config",reverification:this.reverification,single_session_mode:this.singleSessionMode}}constructor(t=null){super(),p(this,"claimedAt",null),p(this,"reverification",!1),p(this,"singleSessionMode",!1),this.fromJSON(t)}}class ia{static fromKey(t){let[e,i,n=""]=t.split("::");return new ia(e,{audience:n,tokenId:i})}toKey(){let{tokenId:t,audience:e}=this.data;return[this.prefix,t,e||""].join("::")}constructor(t,e){p(this,"prefix",void 0),p(this,"data",void 0),this.prefix=t,this.data=e,this.prefix=t,this.data=e}}let io=function(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"clerk",i=new Map;return{get:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,s=new ia(e,t),r=i.get(s.toKey());if(!r)return;let a=Math.floor(Date.now()/1e3)-r.createdAt;if(r.expiresIn-a<(n||1)+5){i.delete(s.toKey());return}return r.entry},set:n=>{let s=new ia(e,{audience:n.audience,tokenId:n.tokenId}).toKey(),r={entry:n,createdAt:Math.floor(Date.now()/1e3)},a=()=>{i.get(s)===r&&i.delete(s)};n.tokenResolver.then(e=>{if(!e.jwt)return a();let i=e.jwt.claims.exp-e.jwt.claims.iat;r.expiresIn=i,"function"==typeof(t=setTimeout(a,1e3*i)).unref&&t.unref()}).catch(()=>{a()}),i.set(s,r)},clear:()=>{clearTimeout(t),i.clear()},size:()=>i.size}}();class il extends e8{static getOrCreateInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return il.instance||(il.instance=new il(t)),il.instance}static clearInstance(){il.instance=null}static isClientResource(t){return!!t&&t instanceof il}get signUpAttempt(){return this.signUp}get signInAttempt(){return this.signIn}get activeSessions(){return this.sessions.filter(t=>"active"===t.status)}get signedInSessions(){return this.sessions.filter(t=>"active"===t.status||"pending"===t.status)}create(){return this._basePut()}fetch(){let{fetchMaxTries:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseGet({fetchMaxTries:t})}async destroy(){return this._baseDelete({path:"/client"}).then(()=>{io.clear(),this.id="",this.sessions=[],this.signUp=new nM(null),this.signIn=new nE(null),this.lastActiveSessionId=null,this.cookieExpiresAt=null,this.createdAt=null,this.updatedAt=null})}removeSessions(){return this._baseDelete({path:this.path()+"/sessions"}).then(t=>(io.clear(),t))}clearCache(){return this.sessions.forEach(t=>t.clearCache())}isEligibleForTouch(){return!!this.cookieExpiresAt&&this.cookieExpiresAt.getTime()-Date.now()<=6912e5}buildTouchUrl(t){let{redirectUrl:e}=t;return e8.fapiClient.buildUrl({method:"GET",path:"/client/touch",pathPrefix:"v1",search:{redirect_url:e.toString()}}).toString()}__internal_sendCaptchaToken(t){return this._basePostBypass({body:t,path:this.path()+"/verify"})}fromJSON(t){return t&&(this.id=t.id,this.sessions=(t.sessions||[]).map(t=>new ng(t)),this.signUp=new nM(t.sign_up),this.signIn=new nE(t.sign_in),this.lastActiveSessionId=t.last_active_session_id,this.captchaBypass=t.captcha_bypass||!1,this.cookieExpiresAt=t.cookie_expires_at?is(t.cookie_expires_at):null,this.createdAt=is(t.created_at||void 0),this.updatedAt=is(t.updated_at||void 0)),this}__internal_toSnapshot(){var t,e,i,n;return{object:"client",id:this.id||"",sessions:this.sessions.map(t=>t.__internal_toSnapshot()),sign_up:this.signUp.__internal_toSnapshot(),sign_in:this.signIn.__internal_toSnapshot(),last_active_session_id:this.lastActiveSessionId,captcha_bypass:this.captchaBypass,cookie_expires_at:this.cookieExpiresAt?this.cookieExpiresAt.getTime():null,created_at:null!==(i=null===(t=this.createdAt)||void 0===t?void 0:t.getTime())&&void 0!==i?i:null,updated_at:null!==(n=null===(e=this.updatedAt)||void 0===e?void 0:e.getTime())&&void 0!==n?n:null}}path(){return this.pathRoot}constructor(t=null){super(),p(this,"pathRoot","/client"),p(this,"sessions",[]),p(this,"signUp",new nM),p(this,"signIn",new nE),p(this,"lastActiveSessionId",null),p(this,"captchaBypass",!1),p(this,"cookieExpiresAt",null),p(this,"createdAt",null),p(this,"updatedAt",null),this.fromJSON(t)}}p(il,"instance",void 0);class ic extends e8{fromJSON(t){return t&&(this.id=t.id,this.externalClientSecret=t.external_client_secret,this.externalGatewayId=t.external_gateway_id,this.invoice=t.invoice?new id(t.invoice):void 0,this.paymentSource=t.payment_source?new iu(t.payment_source):void 0,this.plan=new im(t.plan),this.planPeriod=t.plan_period,this.status=t.status,this.subscription=t.subscription?new iv(t.subscription):void 0,this.totals=tV(t.totals)),this}constructor(t,e){super(),p(this,"id",void 0),p(this,"externalClientSecret",void 0),p(this,"externalGatewayId",void 0),p(this,"invoice",void 0),p(this,"paymentSource",void 0),p(this,"plan",void 0),p(this,"planPeriod",void 0),p(this,"status",void 0),p(this,"subscription",void 0),p(this,"totals",void 0),p(this,"confirm",t=>{let{orgId:e,...i}=t;return this._basePatch({path:e?"/organizations/".concat(e,"/commerce/checkouts/").concat(this.id,"/confirm"):"/me/commerce/checkouts/".concat(this.id,"/confirm"),body:i})}),this.fromJSON(t),this.pathRoot=e?"/organizations/".concat(e,"/commerce/checkouts"):"/me/commerce/checkouts"}}class ih extends e8{fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.description=t.description,this.slug=t.slug,this.avatarUrl=t.avatar_url),this}constructor(t){super(),p(this,"id",void 0),p(this,"name",void 0),p(this,"description",void 0),p(this,"slug",void 0),p(this,"avatarUrl",void 0),this.fromJSON(t)}}class id extends e8{fromJSON(t){return t&&(this.id=t.id,this.paymentSourceId=t.payment_source_id,this.planId=t.plan_id,this.paymentDueOn=t.payment_due_on,this.paidOn=t.paid_on,this.status=t.status,this.totals=tV(t.totals)),this}constructor(t){super(),p(this,"id",void 0),p(this,"paymentSourceId",void 0),p(this,"planId",void 0),p(this,"paymentDueOn",void 0),p(this,"paidOn",void 0),p(this,"status",void 0),p(this,"totals",void 0),this.fromJSON(t)}}class iu extends e8{fromJSON(t){var e;return t&&(this.id=t.id,this.last4=t.last4,this.paymentMethod=t.payment_method,this.cardType=t.card_type,this.isDefault=t.is_default,this.status=t.status,this.walletType=null!==(e=t.wallet_type)&&void 0!==e?e:void 0),this}async remove(t){var e;let{orgId:i}=null!=t?t:{};return new i_(null===(e=await e8._fetch({path:i?"/organizations/".concat(i,"/commerce/payment_sources/").concat(this.id):"/me/commerce/payment_sources/".concat(this.id),method:"DELETE"}))||void 0===e?void 0:e.response)}async makeDefault(t){let{orgId:e}=null!=t?t:{};return await e8._fetch({path:e?"/organizations/".concat(e,"/commerce/payers/default_payment_source"):"/me/commerce/payers/default_payment_source",method:"PUT",body:{payment_source_id:this.id}}),null}constructor(t){super(),p(this,"id",void 0),p(this,"last4",void 0),p(this,"paymentMethod",void 0),p(this,"cardType",void 0),p(this,"isDefault",void 0),p(this,"status",void 0),p(this,"walletType",void 0),this.fromJSON(t)}}class ip extends e8{fromJSON(t){return t&&(this.externalClientSecret=t.external_client_secret,this.externalGatewayId=t.external_gateway_id),this}constructor(t){super(),p(this,"externalClientSecret",void 0),p(this,"externalGatewayId",void 0),this.fromJSON(t)}}class im extends e8{fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.amount=t.amount,this.amountFormatted=t.amount_formatted,this.annualMonthlyAmount=t.annual_monthly_amount,this.annualMonthlyAmountFormatted=t.annual_monthly_amount_formatted,this.currencySymbol=t.currency_symbol,this.currency=t.currency,this.description=t.description,this.isRecurring=t.is_recurring,this.hasBaseFee=t.has_base_fee,this.payerType=t.payer_type,this.publiclyVisible=t.publicly_visible,this.slug=t.slug,this.avatarUrl=t.avatar_url,this.features=t.features.map(t=>new ih(t))),this}constructor(t){super(),p(this,"id",void 0),p(this,"name",void 0),p(this,"amount",void 0),p(this,"amountFormatted",void 0),p(this,"annualMonthlyAmount",void 0),p(this,"annualMonthlyAmountFormatted",void 0),p(this,"currencySymbol",void 0),p(this,"currency",void 0),p(this,"description",void 0),p(this,"isRecurring",void 0),p(this,"hasBaseFee",void 0),p(this,"payerType",void 0),p(this,"publiclyVisible",void 0),p(this,"slug",void 0),p(this,"avatarUrl",void 0),p(this,"features",void 0),p(this,"subscriptionIdForCurrentSubscriber",void 0),this.fromJSON(t)}}class iv extends e8{fromJSON(t){return t&&(this.id=t.id,this.paymentSourceId=t.payment_source_id,this.plan=new im(t.plan),this.planPeriod=t.plan_period,this.status=t.status),this}async cancel(t){var e;let{orgId:i}=t;return new i_(null===(e=await e8._fetch({path:i?"/organizations/".concat(i,"/commerce/subscriptions/").concat(this.id):"/me/commerce/subscriptions/".concat(this.id),method:"DELETE"}))||void 0===e?void 0:e.response)}constructor(t){super(),p(this,"id",void 0),p(this,"paymentSourceId",void 0),p(this,"plan",void 0),p(this,"planPeriod",void 0),p(this,"status",void 0),this.fromJSON(t)}}class i_{fromJSON(t){return t&&(this.object=t.object,this.id=t.id,this.slug=t.slug,this.deleted=t.deleted),this}constructor(t){p(this,"object",""),p(this,"id",void 0),p(this,"slug",void 0),p(this,"deleted",!1),this.fromJSON(t)}}class ig extends e8{fromJSON(t){return t&&(this.afterCreateOrganizationUrl=this.withDefault(t.after_create_organization_url,this.afterCreateOrganizationUrl),this.afterJoinWaitlistUrl=this.withDefault(t.after_join_waitlist_url,this.afterJoinWaitlistUrl),this.afterLeaveOrganizationUrl=this.withDefault(t.after_leave_organization_url,this.afterLeaveOrganizationUrl),this.afterSignInUrl=this.withDefault(t.after_sign_in_url,this.afterSignInUrl),this.afterSignOutAllUrl=this.withDefault(t.after_sign_out_all_url,this.afterSignOutAllUrl),this.afterSignOutOneUrl=this.withDefault(t.after_sign_out_one_url,this.afterSignOutOneUrl),this.afterSignUpUrl=this.withDefault(t.after_sign_up_url,this.afterSignUpUrl),this.afterSwitchSessionUrl=this.withDefault(t.after_switch_session_url,this.afterSwitchSessionUrl),this.applicationName=this.withDefault(t.application_name,this.applicationName),this.branded=this.withDefault(t.branded,this.branded),this.captchaHeartbeat=this.withDefault(t.captcha_heartbeat,this.captchaHeartbeat),this.captchaHeartbeatIntervalMs=this.withDefault(t.captcha_heartbeat_interval_ms,this.captchaHeartbeatIntervalMs),this.captchaOauthBypass=this.withDefault(t.captcha_oauth_bypass,this.captchaOauthBypass),this.captchaProvider=this.withDefault(t.captcha_provider,this.captchaProvider),this.captchaPublicKey=this.withDefault(t.captcha_public_key,this.captchaPublicKey),this.captchaPublicKeyInvisible=this.withDefault(t.captcha_public_key_invisible,this.captchaPublicKeyInvisible),this.captchaWidgetType=this.withDefault(t.captcha_widget_type,this.captchaWidgetType),this.clerkJSVersion=this.withDefault(t.clerk_js_version,this.clerkJSVersion),this.createOrganizationUrl=this.withDefault(t.create_organization_url,this.createOrganizationUrl),this.faviconImageUrl=this.withDefault(t.favicon_image_url,this.faviconImageUrl),this.googleOneTapClientId=this.withDefault(t.google_one_tap_client_id,this.googleOneTapClientId),this.homeUrl=this.withDefault(t.home_url,this.homeUrl),this.id=this.withDefault(t.id,this.id),this.instanceEnvironmentType=this.withDefault(t.instance_environment_type,this.instanceEnvironmentType),this.logoImageUrl=this.withDefault(t.logo_image_url,this.logoImageUrl),this.organizationProfileUrl=this.withDefault(t.organization_profile_url,this.organizationProfileUrl),this.preferredSignInStrategy=this.withDefault(t.preferred_sign_in_strategy,this.preferredSignInStrategy),this.privacyPolicyUrl=this.withDefault(t.privacy_policy_url,this.privacyPolicyUrl),this.showDevModeWarning=this.withDefault(t.show_devmode_warning,this.showDevModeWarning),this.signInUrl=this.withDefault(t.sign_in_url,this.signInUrl),this.signUpUrl=this.withDefault(t.sign_up_url,this.signUpUrl),this.supportEmail=this.withDefault(t.support_email,this.supportEmail),this.termsUrl=this.withDefault(t.terms_url,this.termsUrl),this.theme=this.withDefault(t.theme,this.theme),this.userProfileUrl=this.withDefault(t.user_profile_url,this.userProfileUrl),this.waitlistUrl=this.withDefault(t.waitlist_url,this.waitlistUrl)),this}__internal_toSnapshot(){return{object:"display_config",after_create_organization_url:this.afterCreateOrganizationUrl,after_join_waitlist_url:this.afterJoinWaitlistUrl,after_leave_organization_url:this.afterLeaveOrganizationUrl,after_sign_in_url:this.afterSignInUrl,after_sign_out_all_url:this.afterSignOutAllUrl,after_sign_out_one_url:this.afterSignOutOneUrl,after_sign_up_url:this.afterSignUpUrl,after_switch_session_url:this.afterSwitchSessionUrl,application_name:this.applicationName,branded:this.branded,captcha_heartbeat_interval_ms:this.captchaHeartbeatIntervalMs,captcha_heartbeat:this.captchaHeartbeat,captcha_oauth_bypass:this.captchaOauthBypass,captcha_provider:this.captchaProvider,captcha_public_key_invisible:this.captchaPublicKeyInvisible,captcha_public_key:this.captchaPublicKey,captcha_widget_type:this.captchaWidgetType,clerk_js_version:this.clerkJSVersion,create_organization_url:this.createOrganizationUrl,favicon_image_url:this.faviconImageUrl,google_one_tap_client_id:this.googleOneTapClientId,home_url:this.homeUrl,id:this.id,instance_environment_type:this.instanceEnvironmentType,logo_image_url:this.logoImageUrl,organization_profile_url:this.organizationProfileUrl,preferred_sign_in_strategy:this.preferredSignInStrategy,privacy_policy_url:this.privacyPolicyUrl,show_devmode_warning:this.showDevModeWarning,sign_in_url:this.signInUrl,sign_up_url:this.signUpUrl,support_email:this.supportEmail,terms_url:this.termsUrl,theme:this.theme,user_profile_url:this.userProfileUrl,waitlist_url:this.waitlistUrl}}constructor(t=null){super(),p(this,"afterCreateOrganizationUrl",""),p(this,"afterJoinWaitlistUrl",""),p(this,"afterLeaveOrganizationUrl",""),p(this,"afterSignInUrl",""),p(this,"afterSignOutAllUrl",""),p(this,"afterSignOutOneUrl",""),p(this,"afterSignOutUrl",""),p(this,"afterSignUpUrl",""),p(this,"afterSwitchSessionUrl",""),p(this,"applicationName",""),p(this,"backendHost",""),p(this,"branded",!1),p(this,"captchaHeartbeat",!1),p(this,"captchaHeartbeatIntervalMs",void 0),p(this,"captchaOauthBypass",["oauth_google","oauth_microsoft","oauth_apple"]),p(this,"captchaProvider","turnstile"),p(this,"captchaPublicKey",null),p(this,"captchaPublicKeyInvisible",null),p(this,"captchaWidgetType",null),p(this,"clerkJSVersion",void 0),p(this,"createOrganizationUrl",""),p(this,"experimental__forceOauthFirst",void 0),p(this,"faviconImageUrl",""),p(this,"googleOneTapClientId",void 0),p(this,"homeUrl",""),p(this,"id",""),p(this,"instanceEnvironmentType",""),p(this,"logoImageUrl",""),p(this,"organizationProfileUrl",""),p(this,"preferredSignInStrategy","password"),p(this,"privacyPolicyUrl",""),p(this,"showDevModeWarning",!1),p(this,"signInUrl",""),p(this,"signUpUrl",""),p(this,"supportEmail",""),p(this,"termsUrl",""),p(this,"theme",{}),p(this,"userProfileUrl",""),p(this,"waitlistUrl",""),this.fromJSON(t)}}var iw='const respond=r=>{self.postMessage(r)},workerToTabIds={};self.addEventListener("message",r=>{const e=r.data;switch(e.type){case"setTimeout":workerToTabIds[e.id]=setTimeout(()=>{respond({id:e.id}),delete workerToTabIds[e.id]},e.ms);break;case"clearTimeout":workerToTabIds[e.id]&&(clearTimeout(workerToTabIds[e.id]),delete workerToTabIds[e.id]);break;case"setInterval":workerToTabIds[e.id]=setInterval(()=>{respond({id:e.id})},e.ms);break;case"clearInterval":workerToTabIds[e.id]&&(clearInterval(workerToTabIds[e.id]),delete workerToTabIds[e.id]);break}});\n',ib=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"==typeof Worker)return null;try{let i=new Blob([t],{type:"application/javascript; charset=utf-8"}),n=globalThis.URL.createObjectURL(i);return new Worker(n,e)}catch{return console.warn("Clerk: Cannot create worker from blob. Consider adding worker-src blob:; to your CSP"),null}},iy=()=>{let t=globalThis.setTimeout.bind(globalThis),e=globalThis.setInterval.bind(globalThis);return{setTimeout:t,setInterval:e,clearTimeout:globalThis.clearTimeout.bind(globalThis),clearInterval:globalThis.clearInterval.bind(globalThis),cleanup:tz}},iS=()=>{let t=0,e=()=>t++,i=new Map,n=(t,e)=>null==t?void 0:t.postMessage(e),s=t=>{var e;null===(e=i.get(t.data.id))||void 0===e||e()},r=ib(iw,{name:"clerk-timers"});if(null==r||r.addEventListener("message",s),!r)return iy();let a=()=>{r||null==(r=ib(iw,{name:"clerk-timers"}))||r.addEventListener("message",s)};return{setTimeout:(t,s)=>{a();let o=e();return i.set(o,()=>{t(),i.delete(o)}),n(r,{type:"setTimeout",id:o,ms:s}),o},setInterval:(t,s)=>{a();let o=e();return i.set(o,t),n(r,{type:"setInterval",id:o,ms:s}),o},clearTimeout:t=>{a(),i.delete(t),n(r,{type:"clearTimeout",id:t})},clearInterval:t=>{a(),i.delete(t),n(r,{type:"clearInterval",id:t})},cleanup:()=>{r&&(r.terminate(),r=null,i.clear())}}};function ik(){let t,{delayInMs:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{delayInMs:1e3},i=iS(),n=!1,s=()=>{t&&(i.clearTimeout(t),i.cleanup()),n=!0},r=async a=>{n=!1,await a(s),!n&&(t=i.setTimeout(()=>{r(a)},e))};return{run:r,stop:s}}class iU extends e8{create(){return this._basePost({body:{email_address:this.emailAddress}})}fromJSON(t){return t&&(this.id=t.id,this.emailAddress=t.email_address,this.verification=new iJ(t.verification),this.matchesSsoConnection=t.matches_sso_connection,this.linkedTo=(t.linked_to||[]).map(t=>new i$(t))),this}__internal_toSnapshot(){return{object:"email_address",id:this.id,email_address:this.emailAddress,verification:this.verification.__internal_toSnapshot(),linked_to:this.linkedTo.map(t=>t.__internal_toSnapshot()),matches_sso_connection:this.matchesSsoConnection}}constructor(t,e){super(),p(this,"id",void 0),p(this,"emailAddress",""),p(this,"matchesSsoConnection",!1),p(this,"linkedTo",[]),p(this,"verification",void 0),p(this,"prepareVerification",t=>this._basePost({action:"prepare_verification",body:{...t}})),p(this,"attemptVerification",t=>{let{code:e}=t||{};return this._basePost({action:"attempt_verification",body:{code:e}})}),p(this,"createEmailLinkFlow",()=>{let{run:t,stop:e}=ik();return{startEmailLinkFlow:async i=>{let{redirectUrl:n}=i;return await this.prepareVerification({strategy:"email_link",redirectUrl:n}),new Promise((i,n)=>{t(()=>this.reload().then(t=>{"verified"===t.verification.status&&(e(),i(t))}).catch(t=>{e(),n(t)}))})},cancelEmailLinkFlow:e}}),p(this,"createEnterpriseSSOLinkFlow",()=>{let{run:t,stop:e}=ik();return{startEnterpriseSSOLinkFlow:async i=>{let{redirectUrl:n}=i;if(!(await this.prepareVerification({strategy:"enterprise_sso",redirectUrl:n})).verification.externalVerificationRedirectURL)throw Error("Unexpected: External verification redirect URL is missing");return new Promise((i,n)=>{t(()=>this.reload().then(t=>{"verified"===t.verification.status&&(e(),i(t))}).catch(t=>{e(),n(t)}))})},cancelEnterpriseSSOLinkFlow:e}}),p(this,"destroy",()=>this._baseDelete()),p(this,"toString",()=>this.emailAddress),this.pathRoot=e,this.fromJSON(t)}}var iA=(t,e,i,n,s)=>{let{notify:r}=s||{},a=t.get(i);a||(a=[],t.set(i,a)),a.push(n),r&&e.has(i)&&n(e.get(i))},iO=(t,e,i)=>(t.get(e)||[]).map(t=>t(i)),iI=(t,e,i)=>{let n=t.get(e);n&&(i?n.splice(n.indexOf(i)>>>0,1):t.set(e,[]))};let iC={TokenUpdate:"token:update",UserSignOut:"user:signOut",EnvironmentUpdate:"environment:update",SessionTokenResolved:"session:tokenResolved"},iP=(()=>{let t=new Map,e=new Map,i=new Map;return{on:function(){for(var i=arguments.length,n=Array(i),s=0;s<i;s++)n[s]=arguments[s];return iA(t,e,...n)},prioritizedOn:function(){for(var t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];return iA(i,e,...n)},emit:(n,s)=>{e.set(n,s),iO(i,n,s),iO(t,n,s)},off:function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return iI(t,...i)},prioritizedOff:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return iI(i,...e)},internal:{retrieveListeners:e=>t.get(e)||[]}}})();class iT extends e8{fromJSON(t){return t&&(t.actions&&(this.actions.adminDelete=this.withDefault(t.actions.admin_delete,this.actions.adminDelete)),t.domains&&(this.domains.enabled=this.withDefault(t.domains.enabled,this.domains.enabled),this.domains.enrollmentModes=this.withDefault(t.domains.enrollment_modes,this.domains.enrollmentModes),this.domains.defaultRole=this.withDefault(t.domains.default_role,this.domains.defaultRole)),this.enabled=this.withDefault(t.enabled,this.enabled),this.maxAllowedMemberships=this.withDefault(t.max_allowed_memberships,this.maxAllowedMemberships),this.forceOrganizationSelection=this.withDefault(t.force_organization_selection,this.forceOrganizationSelection)),this}__internal_toSnapshot(){return{actions:{admin_delete:this.actions.adminDelete},domains:{enabled:this.domains.enabled,enrollment_modes:this.domains.enrollmentModes,default_role:this.domains.defaultRole},enabled:this.enabled,max_allowed_memberships:this.maxAllowedMemberships}}constructor(t=null){super(),p(this,"actions",{adminDelete:!1}),p(this,"domains",{enabled:!1,enrollmentModes:[],defaultRole:null}),p(this,"enabled",!1),p(this,"maxAllowedMemberships",1),p(this,"forceOrganizationSelection",void 0),this.fromJSON(t)}}class iE extends e8{static getInstance(){return iE.instance||(iE.instance=new iE),iE.instance}fromJSON(t){return t&&(this.authConfig=new ir(t.auth_config),this.displayConfig=new ig(t.display_config),this.maintenanceMode=this.withDefault(t.maintenance_mode,this.maintenanceMode),this.organizationSettings=new iT(t.organization_settings),this.userSettings=new ie(t.user_settings),this.__experimental_commerceSettings=new ii(t.commerce_settings)),this}fetch(){let{touch:t,fetchMaxTries:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{touch:!1};return(t?this._basePatch({}):this._baseGet({fetchMaxTries:e})).then(t=>(iP.emit(iC.EnvironmentUpdate,null),t))}__internal_toSnapshot(){var t;return{object:"environment",auth_config:this.authConfig.__internal_toSnapshot(),display_config:this.displayConfig.__internal_toSnapshot(),id:null!==(t=this.id)&&void 0!==t?t:"",maintenance_mode:this.maintenanceMode,organization_settings:this.organizationSettings.__internal_toSnapshot(),user_settings:this.userSettings.__internal_toSnapshot(),commerce_settings:this.__experimental_commerceSettings.__internal_toSnapshot()}}constructor(t=null){super(),p(this,"authConfig",new ir),p(this,"displayConfig",new ig),p(this,"maintenanceMode",!1),p(this,"pathRoot","/environment"),p(this,"userSettings",new ie),p(this,"organizationSettings",new iT),p(this,"__experimental_commerceSettings",new ii),p(this,"isDevelopmentOrStaging",()=>!this.isProduction()),p(this,"isProduction",()=>"production"===this.displayConfig.instanceEnvironmentType),p(this,"isSingleSession",()=>this.authConfig.singleSessionMode),p(this,"onWindowLocationHost",()=>this.displayConfig.backendHost===window.location.host),this.fromJSON(t)}}p(iE,"instance",void 0);class ix{static encode(t){return btoa(String.fromCharCode(...new Uint8Array(t))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}static decode(t){let e=atob(t.replace(/-/g,"+").replace(/_/g,"/")),i=e.length,n=new Uint8Array(i);for(let t=0;t<i;t++)n[t]=e.charCodeAt(t);return n.buffer}}async function iR(t){try{let e=await navigator.credentials.create({publicKey:t});if(!e)return{error:new ta("Browser failed to create credential",{code:"passkey_registration_failed"}),publicKeyCredential:null};return{publicKeyCredential:e,error:null}}catch(t){var e;return{error:"InvalidStateError"===(e=t).name?new ta(e.message,{code:"passkey_already_exists"}):"NotAllowedError"===e.name?new ta(e.message,{code:"passkey_registration_cancelled"}):iN(e),publicKeyCredential:null}}}let iM=new class{__abort(){if(!this.controller)return;let t=Error();t.name="AbortError",this.controller.abort(t)}createAbortSignal(){this.__abort();let t=new AbortController;return this.controller=t,t.signal}abort(){this.__abort(),this.controller=void 0}constructor(){p(this,"controller",void 0)}};async function iz(t){let{publicKeyOptions:e,conditionalUI:i}=t;try{let t=await navigator.credentials.get({publicKey:e,mediation:i?"conditional":"optional",signal:iM.createAbortSignal()});if(!t)return{error:new ta("Browser failed to get credential",{code:"passkey_retrieval_failed"}),publicKeyCredential:null};return{publicKeyCredential:t,error:null}}catch(t){var n;return{error:"NotAllowedError"===(n=t).name?new ta(n.message,{code:"passkey_retrieval_cancelled"}):iN(n),publicKeyCredential:null}}}function iN(t){return"AbortError"===t.name?new ta(t.message,{code:"passkey_operation_aborted"}):"SecurityError"===t.name?new ta(t.message,{code:"passkey_invalid_rpID_or_domain"}):t}function iW(t){let e=ij(t.challenge),i=(t.allowCredentials||[]).map(t=>({...t,id:ij(t.id)}));return{...t,allowCredentials:i,challenge:e}}function iF(t){return{type:t.type,id:t.id,rawId:iL(t.rawId),authenticatorAttachment:t.authenticatorAttachment}}function iD(t){let e=t.response;return{...iF(t),response:{clientDataJSON:iL(e.clientDataJSON),authenticatorData:iL(e.authenticatorData),signature:iL(e.signature),userHandle:e.userHandle?iL(e.userHandle):null}}}let iL=ix.encode.bind(ix),ij=ix.decode.bind(ix);class iJ extends e8{fromJSON(t){return t&&(this.status=t.status,this.verifiedAtClient=t.verified_at_client,this.strategy=t.strategy,this.nonce=t.nonce||null,this.message=t.message||null,t.external_verification_redirect_url?this.externalVerificationRedirectURL=new URL(t.external_verification_redirect_url):this.externalVerificationRedirectURL=null,this.attempts=t.attempts,this.expireAt=is(t.expire_at||void 0),this.error=t.error?tt(t.error):null),this}__internal_toSnapshot(){var t,e,i,n,s,r,a,o;return{object:"verification",id:this.id||"",status:this.status,strategy:this.strategy,nonce:this.nonce,message:this.message,external_verification_redirect_url:(null===(t=this.externalVerificationRedirectURL)||void 0===t?void 0:t.toString())||null,attempts:this.attempts,expire_at:(null===(e=this.expireAt)||void 0===e?void 0:e.getTime())||null,error:{code:(null==(i=this.error)?void 0:i.code)||"",message:(null==i?void 0:i.message)||"",long_message:null==i?void 0:i.longMessage,meta:{param_name:null==i?void 0:null===(n=i.meta)||void 0===n?void 0:n.paramName,session_id:null==i?void 0:null===(s=i.meta)||void 0===s?void 0:s.sessionId,email_addresses:null==i?void 0:null===(r=i.meta)||void 0===r?void 0:r.emailAddresses,identifiers:null==i?void 0:null===(a=i.meta)||void 0===a?void 0:a.identifiers,zxcvbn:null==i?void 0:null===(o=i.meta)||void 0===o?void 0:o.zxcvbn}},verified_at_client:this.verifiedAtClient}}constructor(t){super(),p(this,"pathRoot",""),p(this,"status",null),p(this,"strategy",null),p(this,"nonce",null),p(this,"message",null),p(this,"externalVerificationRedirectURL",null),p(this,"attempts",null),p(this,"expireAt",null),p(this,"error",null),p(this,"verifiedAtClient",null),p(this,"verifiedFromTheSameClient",()=>{var t,e;return this.verifiedAtClient===(null===(e=e8.clerk)||void 0===e?void 0:null===(t=e.client)||void 0===t?void 0:t.id)}),this.fromJSON(t)}}class iV extends iJ{fromJSON(t){return super.fromJSON(t),(null==t?void 0:t.nonce)&&(this.publicKey=function(t){let e=ij(t.user.id),i=ij(t.challenge),n=(t.excludeCredentials||[]).map(t=>({...t,id:ij(t.id)}));return{...t,excludeCredentials:n,challenge:i,user:{...t.user,id:e}}}(JSON.parse(t.nonce))),this}constructor(t){super(t),p(this,"publicKey",null),this.fromJSON(t)}}class iK{__internal_toSnapshot(){return{email_address:this.emailAddress.__internal_toSnapshot(),phone_number:this.phoneNumber.__internal_toSnapshot(),web3_wallet:this.web3Wallet.__internal_toSnapshot(),external_account:this.externalAccount.__internal_toSnapshot()}}constructor(t){p(this,"emailAddress",void 0),p(this,"phoneNumber",void 0),p(this,"web3Wallet",void 0),p(this,"externalAccount",void 0),t?(this.emailAddress=new iB(t.email_address),this.phoneNumber=new iB(t.phone_number),this.web3Wallet=new iB(t.web3_wallet),this.externalAccount=new iJ(t.external_account)):(this.emailAddress=new iB(null),this.phoneNumber=new iB(null),this.web3Wallet=new iB(null),this.externalAccount=new iJ(null))}}class iB extends iJ{__internal_toSnapshot(){return{...super.__internal_toSnapshot(),next_action:this.nextAction,supported_strategies:this.supportedStrategies}}constructor(t){super(t),p(this,"nextAction",void 0),p(this,"supportedStrategies",void 0),t?(this.nextAction=t.next_action,this.supportedStrategies=t.supported_strategies):(this.nextAction="",this.supportedStrategies=[])}}class iq extends e8{fromJSON(t){return t&&(this.id=t.id,this.identificationId=t.identification_id,this.providerUserId=t.provider_user_id,this.approvedScopes=t.approved_scopes,this.imageUrl=t.image_url,this.emailAddress=t.email_address,this.firstName=t.first_name,this.lastName=t.last_name,this.provider=(t.provider||"").replace("oauth_",""),this.username=t.username,this.phoneNumber=t.phone_number,this.publicMetadata=t.public_metadata,this.label=t.label,t.verification&&(this.verification=new iJ(t.verification))),this}__internal_toSnapshot(){var t;return{object:"external_account",id:this.id,identification_id:this.identificationId,provider:this.provider,provider_user_id:this.providerUserId,email_address:this.emailAddress,approved_scopes:this.approvedScopes,first_name:this.firstName,last_name:this.lastName,image_url:this.imageUrl,username:this.username,phone_number:this.phoneNumber,public_metadata:this.publicMetadata,label:this.label,verification:(null===(t=this.verification)||void 0===t?void 0:t.__internal_toSnapshot())||null}}providerSlug(){return this.provider}providerTitle(){return[function(t){let e=t||"";return e.charAt(0).toUpperCase()+e.slice(1)}(this.providerSlug()),"Account"].join(" ")}accountIdentifier(){return this.username||this.emailAddress||this.label}constructor(t,e){super(),p(this,"id",void 0),p(this,"identificationId",void 0),p(this,"provider",void 0),p(this,"providerUserId",""),p(this,"emailAddress",""),p(this,"approvedScopes",""),p(this,"firstName",""),p(this,"lastName",""),p(this,"imageUrl",""),p(this,"username",""),p(this,"phoneNumber",""),p(this,"publicMetadata",{}),p(this,"label",""),p(this,"verification",null),p(this,"reauthorize",t=>{let{additionalScopes:e,redirectUrl:i}=t||{};return this._basePatch({action:"reauthorize",body:{additional_scope:e,redirect_url:i}})}),p(this,"destroy",()=>this._baseDelete()),this.pathRoot=e,this.fromJSON(t)}}class iG extends e8{fromJSON(t){return t&&(this.id=t.id,this.provider=t.provider,this.protocol=t.protocol,this.providerUserId=t.provider_user_id,this.active=t.active,this.emailAddress=t.email_address,this.firstName=t.first_name,this.lastName=t.last_name,this.publicMetadata=t.public_metadata,t.verification&&(this.verification=new iJ(t.verification)),t.enterprise_connection&&(this.enterpriseConnection=new iH(t.enterprise_connection))),this}__internal_toSnapshot(){var t,e;return{object:"enterprise_account",id:this.id,provider:this.provider,protocol:this.protocol,provider_user_id:this.providerUserId,active:this.active,email_address:this.emailAddress,first_name:this.firstName,last_name:this.lastName,public_metadata:this.publicMetadata,verification:(null===(t=this.verification)||void 0===t?void 0:t.__internal_toSnapshot())||null,enterprise_connection:(null===(e=this.enterpriseConnection)||void 0===e?void 0:e.__internal_toSnapshot())||null}}constructor(t,e){super(),p(this,"id",void 0),p(this,"protocol",void 0),p(this,"provider",void 0),p(this,"providerUserId",null),p(this,"active",void 0),p(this,"emailAddress",""),p(this,"firstName",""),p(this,"lastName",""),p(this,"publicMetadata",{}),p(this,"verification",null),p(this,"enterpriseConnection",null),this.pathRoot=e,this.fromJSON(t)}}class iH extends e8{fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.domain=t.domain,this.active=t.active,this.provider=t.provider,this.logoPublicUrl=t.logo_public_url,this.syncUserAttributes=t.sync_user_attributes,this.allowSubdomains=t.allow_subdomains,this.allowIdpInitiated=t.allow_idp_initiated,this.disableAdditionalIdentifications=t.disable_additional_identifications,this.createdAt=is(t.created_at),this.updatedAt=is(t.updated_at)),this}__internal_toSnapshot(){return{object:"enterprise_account_connection",id:this.id,name:this.name,domain:this.domain,active:this.active,protocol:this.protocol,provider:this.provider,logo_public_url:this.logoPublicUrl,sync_user_attributes:this.syncUserAttributes,allow_subdomains:this.allowSubdomains,allow_idp_initiated:this.allowIdpInitiated,disable_additional_identifications:this.disableAdditionalIdentifications,created_at:this.createdAt.getTime(),updated_at:this.updatedAt.getTime()}}constructor(t){super(),p(this,"id",void 0),p(this,"active",void 0),p(this,"allowIdpInitiated",void 0),p(this,"allowSubdomains",void 0),p(this,"disableAdditionalIdentifications",void 0),p(this,"domain",void 0),p(this,"logoPublicUrl",""),p(this,"name",void 0),p(this,"protocol",void 0),p(this,"provider",void 0),p(this,"syncUserAttributes",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),this.fromJSON(t)}}class i$ extends e8{fromJSON(t){return t&&(this.id=t.id,this.type=t.type),this}__internal_toSnapshot(){return{object:"identification_link",id:this.id,type:this.type}}constructor(t){super(),p(this,"id",void 0),p(this,"type",void 0),this.fromJSON(t)}}class iY extends e8{static async create(t){var e;let i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=n;return"string"==typeof n.file?(s=n.file,i=new Headers({"Content-Type":"application/octet-stream"})):n.file&&(s=new FormData).append("file",n.file),new iY(null===(e=await e8._fetch({path:t,method:"POST",body:s,headers:i}))||void 0===e?void 0:e.response)}static async delete(t){var e;return new iY(null===(e=await e8._fetch({path:t,method:"DELETE"}))||void 0===e?void 0:e.response)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.publicUrl=t.public_url),this}constructor(t){super(),p(this,"id",void 0),p(this,"name",null),p(this,"publicUrl",null),this.fromJSON(t)}}class iX extends e8{fromJSON(t){return t&&(this.id=t.id,this.phoneNumber=t.phone_number,this.reservedForSecondFactor=t.reserved_for_second_factor,this.defaultSecondFactor=t.default_second_factor,this.verification=new iJ(t.verification),this.linkedTo=(t.linked_to||[]).map(t=>new i$(t)),this.backupCodes=t.backup_codes),this}__internal_toSnapshot(){return{object:"phone_number",id:this.id||"",phone_number:this.phoneNumber,reserved_for_second_factor:this.reservedForSecondFactor,default_second_factor:this.defaultSecondFactor,verification:this.verification.__internal_toSnapshot(),linked_to:this.linkedTo.map(t=>t.__internal_toSnapshot()),backup_codes:this.backupCodes}}constructor(t,e){super(),p(this,"id",void 0),p(this,"phoneNumber",""),p(this,"reservedForSecondFactor",!1),p(this,"defaultSecondFactor",!1),p(this,"linkedTo",[]),p(this,"verification",void 0),p(this,"backupCodes",void 0),p(this,"create",()=>this._basePost({body:{phone_number:this.phoneNumber}})),p(this,"prepareVerification",()=>this._basePost({action:"prepare_verification",body:{strategy:"phone_code"}})),p(this,"attemptVerification",t=>{let{code:e}=t||{};return this._basePost({action:"attempt_verification",body:{code:e}})}),p(this,"setReservedForSecondFactor",t=>{let{reserved:e}=t||{};return this._basePatch({body:{reserved_for_second_factor:e}})}),p(this,"makeDefaultSecondFactor",()=>this._basePatch({body:{default_second_factor:!0}})),p(this,"destroy",()=>this._baseDelete()),p(this,"toString",()=>{let t=this.phoneNumber.match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:this.phoneNumber}),this.pathRoot=e,this.fromJSON(t)}}function iZ(t){let{pageSize:e,initialPage:i,...n}=t||{},s=null!=e?e:10;return new URLSearchParams({...Object.entries(n).reduce((t,e)=>{let[i,n]=e;return void 0!==n&&(t[i]=n),t},{}),limit:s+"",offset:((null!=i?i:1)-1)*s+""})}class iQ extends e8{static async create(t,e){var i;let{name:n}=e;return new iQ(null===(i=await e8._fetch({path:"/organizations/".concat(t,"/domains"),method:"POST",body:{name:n}}))||void 0===i?void 0:i.response)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.organizationId=t.organization_id,this.enrollmentMode=t.enrollment_mode,this.affiliationEmailAddress=t.affiliation_email_address,this.totalPendingSuggestions=t.total_pending_suggestions,this.totalPendingInvitations=t.total_pending_invitations,t.verification?this.verification={status:t.verification.status,strategy:t.verification.strategy,attempts:t.verification.attempts,expiresAt:is(t.verification.expires_at)}:this.verification=null),this}constructor(t){super(),p(this,"id",void 0),p(this,"name",void 0),p(this,"organizationId",void 0),p(this,"enrollmentMode",void 0),p(this,"verification",void 0),p(this,"affiliationEmailAddress",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"totalPendingInvitations",void 0),p(this,"totalPendingSuggestions",void 0),p(this,"prepareAffiliationVerification",async t=>this._basePost({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id,"/prepare_affiliation_verification"),method:"POST",body:t})),p(this,"attemptAffiliationVerification",async t=>this._basePost({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id,"/attempt_affiliation_verification"),method:"POST",body:t})),p(this,"updateEnrollmentMode",t=>this._basePost({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id,"/update_enrollment_mode"),body:t})),p(this,"delete",()=>this._baseDelete({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id)})),this.fromJSON(t)}}class i0 extends e8{fromJSON(t){return t&&(this.id=t.id,this.organizationId=t.organization_id,this.status=t.status,this.createdAt=is(t.created_at),this.updatedAt=is(t.updated_at),t.public_user_data&&(this.publicUserData=new ny(t.public_user_data))),this}constructor(t){super(),p(this,"id",void 0),p(this,"organizationId",void 0),p(this,"status",void 0),p(this,"publicUserData",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"accept",async()=>await this._basePost({path:"/organizations/".concat(this.organizationId,"/membership_requests/").concat(this.id,"/accept")})),p(this,"reject",async()=>await this._basePost({path:"/organizations/".concat(this.organizationId,"/membership_requests/").concat(this.id,"/reject")})),this.fromJSON(t)}}class i1 extends e8{fromJSON(t){return t&&(this.id=t.id,this.key=t.key,this.name=t.name,this.description=t.description,this.type=t.type,this.createdAt=is(t.created_at),this.updatedAt=is(t.updated_at)),this}constructor(t){super(),p(this,"id",void 0),p(this,"key",void 0),p(this,"name",void 0),p(this,"description",void 0),p(this,"type",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),this.fromJSON(t)}}class i3 extends e8{fromJSON(t){return t&&(this.id=t.id,this.key=t.key,this.name=t.name,this.description=t.description,this.permissions=t.permissions.map(t=>new i1(t)),this.createdAt=is(t.created_at),this.updatedAt=is(t.updated_at)),this}constructor(t){super(),p(this,"id",void 0),p(this,"key",void 0),p(this,"name",void 0),p(this,"description",void 0),p(this,"permissions",[]),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),this.fromJSON(t)}}class i2 extends e8{static async create(t){var e;return new i2(null===(e=await e8._fetch({path:"/organizations",method:"POST",body:t}))||void 0===e?void 0:e.response)}static async get(t){var e;return new i2(null===(e=await e8._fetch({path:"/organizations/".concat(t),method:"GET"}))||void 0===e?void 0:e.response)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.slug=t.slug,this.imageUrl=t.image_url||"",this.hasImage=t.has_image||!1,this.publicMetadata=t.public_metadata||{},this.membersCount=t.members_count||0,this.pendingInvitationsCount=t.pending_invitations_count||0,this.maxAllowedMemberships=t.max_allowed_memberships||0,this.adminDeleteEnabled=t.admin_delete_enabled||!1,this.createdAt=is(t.created_at),this.updatedAt=is(t.updated_at)),this}__internal_toSnapshot(){return{object:"organization",id:this.id,name:this.name,slug:this.slug,image_url:this.imageUrl,has_image:this.hasImage,public_metadata:this.publicMetadata,members_count:this.membersCount,pending_invitations_count:this.pendingInvitationsCount,max_allowed_memberships:this.maxAllowedMemberships,admin_delete_enabled:this.adminDeleteEnabled,created_at:this.createdAt.getTime(),updated_at:this.updatedAt.getTime()}}async reload(t){var e;let{rotatingTokenNonce:i}=t||{},n=null===(e=await e8._fetch({path:"/organizations/".concat(this.id),method:"GET",rotatingTokenNonce:i},{forceUpdateClient:!0}))||void 0===e?void 0:e.response;return this.fromJSON(n)}constructor(t){super(),p(this,"pathRoot","/organizations"),p(this,"id",void 0),p(this,"name",void 0),p(this,"slug",void 0),p(this,"imageUrl",void 0),p(this,"hasImage",void 0),p(this,"publicMetadata",{}),p(this,"adminDeleteEnabled",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"membersCount",0),p(this,"pendingInvitationsCount",0),p(this,"maxAllowedMemberships",void 0),p(this,"update",async t=>this._basePatch({body:t})),p(this,"getRoles",async t=>await e8._fetch({path:"/organizations/".concat(this.id,"/roles"),method:"GET",search:iZ(t)},{forceUpdateClient:!0}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new i3(t))}})),p(this,"getDomains",async t=>await e8._fetch({path:"/organizations/".concat(this.id,"/domains"),method:"GET",search:iZ(t)},{forceUpdateClient:!0}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new iQ(t))}})),p(this,"getDomain",async t=>{var e;let{domainId:i}=t;return new iQ(null===(e=await e8._fetch({path:"/organizations/".concat(this.id,"/domains/").concat(i),method:"GET"}))||void 0===e?void 0:e.response)}),p(this,"getMembershipRequests",async t=>await e8._fetch({path:"/organizations/".concat(this.id,"/membership_requests"),method:"GET",search:iZ(t)}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new i0(t))}})),p(this,"createDomain",async t=>iQ.create(this.id,{name:t})),p(this,"getMemberships",async t=>await e8._fetch({path:"/organizations/".concat(this.id,"/memberships"),method:"GET",search:iZ({...t,paginated:!0})}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new i6(t))}})),p(this,"getInvitations",async t=>await e8._fetch({path:"/organizations/".concat(this.id,"/invitations"),method:"GET",search:iZ(t)},{forceUpdateClient:!0}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new i4(t))}})),p(this,"addMember",async t=>{let{userId:e,role:i}=t;return await e8._fetch({method:"POST",path:"/organizations/".concat(this.id,"/memberships"),body:{userId:e,role:i}}).then(t=>new i6(null==t?void 0:t.response))}),p(this,"inviteMember",async t=>i4.create(this.id,t)),p(this,"inviteMembers",async t=>i4.createBulk(this.id,t)),p(this,"updateMember",async t=>{let{userId:e,role:i}=t;return await e8._fetch({method:"PATCH",path:"/organizations/".concat(this.id,"/memberships/").concat(e),body:{role:i}}).then(t=>new i6(null==t?void 0:t.response))}),p(this,"removeMember",async t=>await e8._fetch({method:"DELETE",path:"/organizations/".concat(this.id,"/memberships/").concat(t)}).then(t=>new i6(null==t?void 0:t.response))),p(this,"__experimental_getSubscriptions",async t=>await e8._fetch({path:"/organizations/".concat(this.id,"/subscriptions"),method:"GET",search:iZ(t)}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new iv(t))}})),p(this,"destroy",async()=>this._baseDelete()),p(this,"setLogo",async t=>{let e,i,{file:n}=t;return null===n?await e8._fetch({path:"/organizations/".concat(this.id,"/logo"),method:"DELETE"}).then(t=>new i2(null==t?void 0:t.response)):("string"==typeof n?(e=n,i=new Headers({"Content-Type":"application/octet-stream"})):(e=new FormData).append("file",n),await e8._fetch({path:"/organizations/".concat(this.id,"/logo"),method:"PUT",body:e,headers:i}).then(t=>new i2(null==t?void 0:t.response)))}),this.fromJSON(t)}}class i4 extends e8{static async create(t,e){var i;let{emailAddress:n,role:s}=e;return new i4(null===(i=await e8._fetch({path:"/organizations/".concat(t,"/invitations"),method:"POST",body:{email_address:n,role:s}}))||void 0===i?void 0:i.response)}static async createBulk(t,e){var i;let{emailAddresses:n,role:s}=e;return(null===(i=await e8._fetch({path:"/organizations/".concat(t,"/invitations/bulk"),method:"POST",body:{email_address:n,role:s}}))||void 0===i?void 0:i.response).map(t=>new i4(t))}fromJSON(t){return t&&(this.id=t.id,this.emailAddress=t.email_address,this.organizationId=t.organization_id,this.publicMetadata=t.public_metadata,this.role=t.role,this.status=t.status,this.createdAt=is(t.created_at),this.updatedAt=is(t.updated_at)),this}constructor(t){super(),p(this,"id",void 0),p(this,"emailAddress",void 0),p(this,"organizationId",void 0),p(this,"publicMetadata",{}),p(this,"status",void 0),p(this,"role",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"revoke",async()=>await this._basePost({path:"/organizations/".concat(this.organizationId,"/invitations/").concat(this.id,"/revoke")})),this.fromJSON(t)}}class i6 extends e8{fromJSON(t){return t&&(this.id=t.id,this.organization=new i2(t.organization),this.publicMetadata=t.public_metadata||{},t.public_user_data&&(this.publicUserData=new ny(t.public_user_data)),this.permissions=Array.isArray(t.permissions)?[...t.permissions]:[],this.role=t.role,this.createdAt=is(t.created_at),this.updatedAt=is(t.updated_at)),this}__internal_toSnapshot(){return{object:"organization_membership",id:this.id,organization:this.organization.__internal_toSnapshot(),public_metadata:this.publicMetadata,public_user_data:this.publicUserData.__internal_toSnapshot(),permissions:this.permissions,role:this.role,created_at:this.createdAt.getTime(),updated_at:this.updatedAt.getTime()}}reload(t){!function(t){throw Error("".concat(eW," Calling ").concat(t,".reload is not currently supported. Please contact support."))}("OrganizationMembership")}constructor(t){super(),p(this,"id",void 0),p(this,"publicMetadata",{}),p(this,"publicUserData",void 0),p(this,"organization",void 0),p(this,"permissions",[]),p(this,"role",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"destroy",async()=>await this._baseDelete({path:"/organizations/".concat(this.organization.id,"/memberships/").concat(this.publicUserData.userId)})),p(this,"update",async t=>{let{role:e}=t;return await this._basePatch({path:"/organizations/".concat(this.organization.id,"/memberships/").concat(this.publicUserData.userId),body:{role:e}})}),this.fromJSON(t)}}p(i6,"retrieve",async t=>await e8._fetch({path:"/me/organization_memberships",method:"GET",search:iZ({...t,paginated:!0})}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new i6(t))}}));class i5 extends e8{static async retrieve(t){return await e8._fetch({path:"/me/organization_suggestions",method:"GET",search:iZ(t)}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new i5(t))}})}fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.publicOrganizationData={hasImage:t.public_organization_data.has_image,imageUrl:t.public_organization_data.image_url,name:t.public_organization_data.name,id:t.public_organization_data.id,slug:t.public_organization_data.slug},this.createdAt=is(t.created_at),this.updatedAt=is(t.updated_at)),this}constructor(t){super(),p(this,"id",void 0),p(this,"publicOrganizationData",void 0),p(this,"status",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"accept",async()=>await this._basePost({path:"/me/organization_suggestions/".concat(this.id,"/accept")})),this.fromJSON(t)}}class i9 extends e8{fromJSON(t){return t&&(this.id=t.id,this.provider=t.provider,this.providerUserId=t.provider_user_id,this.active=t.active,this.emailAddress=t.email_address,this.firstName=t.first_name,this.lastName=t.last_name,t.verification&&(this.verification=new iJ(t.verification)),t.saml_connection&&(this.samlConnection=new i7(t.saml_connection))),this}__internal_toSnapshot(){var t,e;return{object:"saml_account",id:this.id,provider:this.provider,provider_user_id:this.providerUserId,active:this.active,email_address:this.emailAddress,first_name:this.firstName,last_name:this.lastName,verification:(null===(t=this.verification)||void 0===t?void 0:t.__internal_toSnapshot())||null,saml_connection:null===(e=this.samlConnection)||void 0===e?void 0:e.__internal_toSnapshot()}}constructor(t,e){super(),p(this,"id",void 0),p(this,"provider","saml_custom"),p(this,"providerUserId",null),p(this,"active",!1),p(this,"emailAddress",""),p(this,"firstName",""),p(this,"lastName",""),p(this,"verification",null),p(this,"samlConnection",null),this.pathRoot=e,this.fromJSON(t)}}class i7 extends e8{fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.domain=t.domain,this.active=t.active,this.provider=t.provider,this.syncUserAttributes=t.sync_user_attributes,this.allowSubdomains=t.allow_subdomains,this.allowIdpInitiated=t.allow_idp_initiated,this.disableAdditionalIdentifications=t.disable_additional_identifications,this.createdAt=is(t.created_at),this.updatedAt=is(t.updated_at)),this}__internal_toSnapshot(){return{object:"saml_account_connection",id:this.id,name:this.name,domain:this.domain,active:this.active,provider:this.provider,sync_user_attributes:this.syncUserAttributes,allow_subdomains:this.allowSubdomains,allow_idp_initiated:this.allowIdpInitiated,disable_additional_identifications:this.disableAdditionalIdentifications,created_at:this.createdAt.getTime(),updated_at:this.updatedAt.getTime()}}constructor(t){super(),p(this,"id",void 0),p(this,"name",void 0),p(this,"domain",void 0),p(this,"active",void 0),p(this,"provider",void 0),p(this,"syncUserAttributes",void 0),p(this,"allowSubdomains",void 0),p(this,"allowIdpInitiated",void 0),p(this,"disableAdditionalIdentifications",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),this.fromJSON(t)}}var i8={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},nt=new Set(["first_factor","second_factor","multi_factor"]),ne=new Set(["strict_mfa","strict","moderate","lax"]),ni=t=>"number"==typeof t&&t>0,nn=t=>nt.has(t),ns=t=>ne.has(t),nr=(t,e)=>{let{orgId:i,orgRole:n,orgPermissions:s}=e;return(t.role||t.permission)&&i&&n&&s?t.permission?s.includes(t.permission):t.role?n===t.role:null:null},na=(t,e)=>{let{org:i,user:n}=nl(t),[s,r]=e.split(":"),a=r||s;return"org"===s?i.includes(a):"user"===s?n.includes(a):[...i,...n].includes(a)},no=(t,e)=>{let{features:i,plans:n}=e;return t.feature&&i?na(i,t.feature):t.plan&&n?na(n,t.plan):null},nl=t=>{let e=t?t.split(",").map(t=>t.trim()):[];return{org:e.filter(t=>t.split(":")[0].includes("o")).map(t=>t.split(":")[1]),user:e.filter(t=>t.split(":")[0].includes("u")).map(t=>t.split(":")[1])}},nc=t=>{if(!t)return!1;let e="string"==typeof t&&ns(t),i="object"==typeof t&&nn(t.level)&&ni(t.afterMinutes);return(!!e||!!i)&&(t=>"string"==typeof t?i8[t]:t).bind(null,t)},nh=(t,e)=>{let{factorVerificationAge:i}=e;if(!t.reverification||!i)return null;let n=nc(t.reverification);if(!n)return null;let{level:s,afterMinutes:r}=n(),[a,o]=i,l=-1!==a?r>a:null,c=-1!==o?r>o:null;switch(s){case"first_factor":return l;case"second_factor":return -1!==o?c:l;case"multi_factor":return -1===o?l:l&&c}},nd=t=>e=>{if(!t.userId)return!1;let i=no(e,t),n=nr(e,t),s=nh(e,t);return[i||n,s].some(t=>null===t)?[i||n,s].some(t=>!0===t):[i||n,s].every(t=>!0===t)};function nu(){return F()&&"function"==typeof window.PublicKeyCredential}async function np(){try{return nu()&&await window.PublicKeyCredential.isConditionalMediationAvailable()}catch{return!1}}async function nm(){try{return"undefined"!=typeof window&&await window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()}catch{return!1}}class nf extends e8{fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.session=new ng(t.session),this.level=t.level,this.supportedFirstFactors=tA(t.supported_first_factors),this.supportedSecondFactors=tA(t.supported_second_factors),this.firstFactorVerification=new iJ(t.first_factor_verification),this.secondFactorVerification=new iJ(t.second_factor_verification)),this}constructor(t=null){super(),p(this,"status",void 0),p(this,"level",void 0),p(this,"session",void 0),p(this,"supportedFirstFactors",[]),p(this,"supportedSecondFactors",[]),p(this,"firstFactorVerification",new iJ(null)),p(this,"secondFactorVerification",new iJ(null)),this.fromJSON(t)}}var nv=new WeakMap,n_=new WeakSet;class ng extends e8{static isSessionResource(t){return!!t&&t instanceof ng}fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.expireAt=is(t.expire_at),this.abandonAt=is(t.abandon_at),this.factorVerificationAge=t.factor_verification_age,this.lastActiveAt=is(t.last_active_at||void 0),this.lastActiveOrganizationId=t.last_active_organization_id,this.actor=t.actor||null,this.createdAt=is(t.created_at),this.updatedAt=is(t.updated_at),this.user=new nD(t.user),this.tasks=t.tasks||null,t.public_user_data&&(this.publicUserData=new ny(t.public_user_data)),this.lastActiveToken=t.last_active_token?new nz(t.last_active_token):null),this}__internal_toSnapshot(){var t,e;return{object:"session",id:this.id,status:this.status,expire_at:this.expireAt.getTime(),abandon_at:this.abandonAt.getTime(),factor_verification_age:this.factorVerificationAge,last_active_at:this.lastActiveAt.getTime(),last_active_organization_id:this.lastActiveOrganizationId,actor:this.actor,tasks:this.tasks,user:(null===(t=this.user)||void 0===t?void 0:t.__internal_toSnapshot())||null,public_user_data:this.publicUserData.__internal_toSnapshot(),last_active_token:(null===(e=this.lastActiveToken)||void 0===e?void 0:e.__internal_toSnapshot())||null,created_at:this.createdAt.getTime(),updated_at:this.updatedAt.getTime()}}async _getToken(t){if(!this.user)return null;let{leewayInSeconds:e,template:i,skipCache:n=!1}=t||{},s=void 0===(null==t?void 0:t.organizationId)?this.lastActiveOrganizationId:null==t?void 0:t.organizationId;if(!i&&Number(e)>=60)throw Error("Leeway can not exceed the token lifespan (60 seconds)");let r=d(this,n_,nw).call(this,i,s),a=n?void 0:io.get({tokenId:r},e),o=!i&&s===this.lastActiveOrganizationId;if(a){let t=await a.tokenResolver;return o&&iP.emit(iC.TokenUpdate,{token:t}),t.getRawString()||null}let l=i?"".concat(this.path(),"/tokens/").concat(i):"".concat(this.path(),"/tokens"),c=i?{}:{organizationId:s},h=nz.create(l,c);return io.set({tokenId:r,tokenResolver:h}),h.then(t=>(o&&(iP.emit(iC.TokenUpdate,{token:t}),t.jwt&&(this.lastActiveToken=t,iP.emit(iC.SessionTokenResolved,null))),t.getRawString()||null))}get currentTask(){var t;let[e]=null!==(t=this.tasks)&&void 0!==t?t:[];return e}constructor(t){super(),u(this,n_),p(this,"pathRoot","/client/sessions"),p(this,"id",void 0),p(this,"status",void 0),p(this,"lastActiveAt",void 0),p(this,"lastActiveToken",void 0),p(this,"lastActiveOrganizationId",void 0),p(this,"actor",void 0),p(this,"user",void 0),p(this,"publicUserData",void 0),p(this,"factorVerificationAge",null),p(this,"tasks",null),p(this,"expireAt",void 0),p(this,"abandonAt",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"end",()=>(io.clear(),this._basePost({action:"end"}))),p(this,"remove",()=>(io.clear(),this._basePost({action:"remove"}))),p(this,"touch",()=>this._basePost({action:"touch",body:{active_organization_id:this.lastActiveOrganizationId}})),p(this,"clearCache",()=>io.clear()),p(this,"getToken",async t=>eY(()=>this._getToken(t),{factor:1.55,initialDelay:3e3,maxDelayBetweenRetries:5e4,jitter:!1,shouldRetry:(t,e)=>!Y(t)&&e<=8})),p(this,"checkAuthorization",t=>{var e,i,n,s,r,a;let o=((null===(e=this.user)||void 0===e?void 0:e.organizationMemberships)||[]).find(t=>t.organization.id===this.lastActiveOrganizationId);return nd({userId:null===(i=this.user)||void 0===i?void 0:i.id,factorVerificationAge:this.factorVerificationAge,orgId:null==o?void 0:o.id,orgRole:null==o?void 0:o.role,orgPermissions:null==o?void 0:o.permissions,features:(null===(s=this.lastActiveToken)||void 0===s?void 0:null===(n=s.jwt)||void 0===n?void 0:n.claims.fea)||"",plans:(null===(a=this.lastActiveToken)||void 0===a?void 0:null===(r=a.jwt)||void 0===r?void 0:r.claims.pla)||""})(t)}),l(this,nv,{writable:!0,value:t=>{t&&io.set({tokenId:d(this,n_,nw).call(this),tokenResolver:Promise.resolve(t)})}}),p(this,"startVerification",async t=>{var e;let{level:i}=t;return new nf(null===(e=await e8._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify"),body:{level:i}}))||void 0===e?void 0:e.response)}),p(this,"prepareFirstFactorVerification",async t=>{var e;let i;switch(t.strategy){case"email_code":i={emailAddressId:t.emailAddressId};break;case"phone_code":i={phoneNumberId:t.phoneNumberId,default:t.default};break;case"passkey":i={};break;default:ej("Session.prepareFirstFactorVerification",t.strategy)}return new nf(null===(e=await e8._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/prepare_first_factor"),body:{...i,strategy:t.strategy}}))||void 0===e?void 0:e.response)}),p(this,"attemptFirstFactorVerification",async t=>{var e;let i;return i="passkey"===t.strategy?{publicKeyCredential:JSON.stringify(iD(t.publicKeyCredential))}:{...t},new nf(null===(e=await e8._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/attempt_first_factor"),body:{...i,strategy:t.strategy}}))||void 0===e?void 0:e.response)}),p(this,"verifyWithPasskey",async()=>{let{nonce:t=null}=(await this.prepareFirstFactorVerification({strategy:"passkey"})).firstFactorVerification,e=ng.clerk.__internal_isWebAuthnSupported||nu,i=ng.clerk.__internal_getPublicCredentials||iz;if(!e())throw new ta("Passkeys are not supported",{code:"passkey_not_supported"});let n=t?iW(JSON.parse(t)):null;n||eB("get");let{publicKeyCredential:s,error:r}=await i({publicKeyOptions:n,conditionalUI:!1});if(!s)throw r;return this.attemptFirstFactorVerification({strategy:"passkey",publicKeyCredential:s})}),p(this,"prepareSecondFactorVerification",async t=>{var e;return new nf(null===(e=await e8._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/prepare_second_factor"),body:t}))||void 0===e?void 0:e.response)}),p(this,"attemptSecondFactorVerification",async t=>{var e;return new nf(null===(e=await e8._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/attempt_second_factor"),body:t}))||void 0===e?void 0:e.response)}),this.fromJSON(t),a(this,nv).call(this,this.lastActiveToken)}}function nw(t,e){let i=void 0===e?this.lastActiveOrganizationId:e;return[this.id,t,i,this.updatedAt.getTime()].filter(Boolean).join("-")}class nb extends e8{static async create(){return e8._fetch({path:"/me/passkeys",method:"POST"}).then(t=>new nb(null==t?void 0:t.response))}static async attemptVerification(t,e){let i=function(t){let e=t.response;return{...iF(t),response:{clientDataJSON:iL(e.clientDataJSON),attestationObject:iL(e.attestationObject),transports:e.getTransports()}}}(e);return e8._fetch({path:"/me/passkeys/".concat(t,"/attempt_verification"),method:"POST",body:{strategy:"passkey",publicKeyCredential:JSON.stringify(i)}}).then(t=>new nb(null==t?void 0:t.response))}static async registerPasskey(){var t;let e=nb.clerk.__internal_isWebAuthnSupported||nu,i=nb.clerk.__internal_createPublicCredentials||iR,n=nb.clerk.__internal_isWebAuthnPlatformAuthenticatorSupported||nm;if(!e())throw new ta("Passkeys are not supported on this device.",{code:"passkey_not_supported"});let s=await this.create(),{verification:r}=s,a=null==r?void 0:r.publicKey;if(a||eB("create"),(null===(t=a.authenticatorSelection)||void 0===t?void 0:t.authenticatorAttachment)==="platform"&&!await n())throw new ta("Registration requires a platform authenticator but the device does not support it.",{code:"passkey_pa_not_supported"});let{publicKeyCredential:o,error:l}=await i(a);if(!o)throw l;return this.attemptVerification(s.id,o)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.lastUsedAt=t.last_used_at?is(t.last_used_at):null,this.createdAt=is(t.created_at),this.updatedAt=is(t.updated_at),t.verification&&(this.verification=new iV(t.verification))),this}__internal_toSnapshot(){var t,e;return{object:"passkey",id:this.id,name:this.name,verification:(null===(t=this.verification)||void 0===t?void 0:t.__internal_toSnapshot())||null,last_used_at:(null===(e=this.lastUsedAt)||void 0===e?void 0:e.getTime())||null,created_at:this.createdAt.getTime(),updated_at:this.updatedAt.getTime()}}constructor(t){super(),p(this,"id",void 0),p(this,"pathRoot","/me/passkeys"),p(this,"verification",null),p(this,"name",null),p(this,"lastUsedAt",null),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"update",t=>this._basePatch({body:t})),p(this,"delete",async()=>{var t;return new i_(null===(t=await e8._fetch({path:this.path(),method:"DELETE"}))||void 0===t?void 0:t.response)}),this.fromJSON(t)}}class ny{fromJSON(t){return t&&(this.firstName=t.first_name||null,this.lastName=t.last_name||null,this.imageUrl=t.image_url||"",this.hasImage=t.has_image||!1,this.identifier=t.identifier||"",this.userId=t.user_id),this}__internal_toSnapshot(){return{first_name:this.firstName,last_name:this.lastName,image_url:this.imageUrl,has_image:this.hasImage,identifier:this.identifier,user_id:this.userId}}constructor(t){p(this,"firstName",void 0),p(this,"lastName",void 0),p(this,"imageUrl",void 0),p(this,"hasImage",void 0),p(this,"identifier",void 0),p(this,"userId",void 0),this.fromJSON(t)}}let nS=t=>({id:t.id,deviceType:t.device_type,browserName:t.browser_name,browserVersion:t.browser_version,country:t.country,city:t.city,isMobile:t.is_mobile,ipAddress:t.ip_address});class nk extends e8{static retrieve(){var t;let e=null===(t=e8.clerk.session)||void 0===t?void 0:t.id;return this.clerk.getFapiClient().request({method:"GET",path:"/me/sessions/active",sessionId:e}).then(t=>t.payload.map(t=>new nk(t,"/me/sessions"))).catch(()=>[])}revoke(){return this._basePost({action:"revoke",body:{}})}fromJSON(t){var e;return t&&(this.id=t.id,this.status=t.status,this.expireAt=is(t.expire_at),this.abandonAt=is(t.abandon_at),this.lastActiveAt=is(t.last_active_at||void 0),this.latestActivity=nS(null!==(e=t.latest_activity)&&void 0!==e?e:{}),this.actor=t.actor),this}constructor(t,e){super(),p(this,"pathRoot",""),p(this,"id",void 0),p(this,"status",void 0),p(this,"abandonAt",void 0),p(this,"expireAt",void 0),p(this,"lastActiveAt",void 0),p(this,"latestActivity",void 0),p(this,"actor",void 0),this.pathRoot=e,this.fromJSON(t)}}async function nU(t,e,i,n,s){if(!t.client||!n.popup)return;let r=function(t){if(!t)return"";let e=t.replace(/clerk\.accountsstage\./,"accountsstage.").replace(/clerk\.accounts\.|clerk\./,"accounts.");return"https://".concat(e)}(t.frontendApi),{redirectUrl:a}=n,o=new URL(a);o.searchParams.set("sign_in_force_redirect_url",n.redirectUrlComplete),o.searchParams.set("sign_up_force_redirect_url",n.redirectUrlComplete),o.searchParams.set("intent",e);let l=t.buildUrlWithAuth(o.toString()),c=t.buildUrlWithAuth("".concat(r,"/popup-callback")),h=t.buildUrlWithAuth("".concat(r,"/popup-callback?return_url=").concat(encodeURIComponent(l))),d=async e=>{if(e.origin!==r)return;let i=!1;if(e.data.session){var s,a;if(!(null===(s=t.client)||void 0===s?void 0:s.sessions.find(t=>t.id===e.data.session)))try{await (null===(a=t.client)||void 0===a?void 0:a.reload())}catch(t){console.error(t)}await t.setActive({session:e.data.session,redirectUrl:n.redirectUrlComplete}),i=!0}else e.data.return_url&&(t.navigate(e.data.return_url),i=!0);i&&window.removeEventListener("message",d)};window.addEventListener("message",d),await i({...n,redirectUrlComplete:c,redirectUrl:h},s)}let nA=()=>Promise.all([i.e("708").then(i.bind(i,384)),i.e("325").then(i.bind(i,706))]).then(t=>{let[e,i]=t,{zxcvbnOptions:n,zxcvbn:s}=e,{dictionary:r,adjacencyGraphs:a}=i;return n.setOptions({dictionary:{...r},graphs:a}),s}),nO=t=>{let e;if(t.allowed_special_characters){let i=t.allowed_special_characters.replace("[","\\[");i=i.replace("]","\\]"),e=new RegExp("[".concat(i,"]"))}else e=/[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~]/;return(t,i)=>{let{minLength:n,maxLength:s}=i;return{max_length:t.length<s,min_length:t.length>=n,require_numbers:/\d/.test(t),require_lowercase:/[a-z]/.test(t),require_uppercase:/[A-Z]/.test(t),require_special_char:e.test(t)}}},nI=(t,e)=>{let{max_length:i,min_length:n,require_special_char:s,require_lowercase:r,require_numbers:a,require_uppercase:o}=e,l=nO(e)(t,{maxLength:e.max_length,minLength:e.min_length}),c={max_length:i,min_length:n,require_special_char:s,require_lowercase:r,require_numbers:a,require_uppercase:o},h=new Map;for(let t in c)c[t]&&(l[t]||h.set(t,!0));return Object.freeze(Object.fromEntries(h))},nC=t=>e=>nI(e,t),nP=t=>{let{min_zxcvbn_strength:e,onResult:i}=t;return t=>n=>{let s=t(n);return(null==i||i(s),s.score>=e&&s.score<3)?{state:"pass",keys:["unstable__errors.zxcvbn.couldBeStronger"],result:s}:s.score>=e?{state:"excellent",result:s}:{state:"fail",keys:["unstable__errors.zxcvbn.notEnough",...s.feedback.suggestions.map(t=>"unstable__errors.zxcvbn.suggestions.".concat(t))],result:s}}},nT=(t,e)=>{let{onValidation:i=tz,onValidationComplexity:n=tz}=e||{},{show_zxcvbn:s,validatePassword:r}=t,a=nC(t),o=nP(t),l={};return(t,e)=>{let{onValidation:c=i,onValidationComplexity:h=n}=e||{};if(!r)return;let d=a(t);h(0===Object.keys(d).length),l={...l,complexity:d},s&&nA().then(e=>{let i=o(e)(t);c({...l={...l,strength:i},strength:i})}),(!l.complexity||0!==Object.keys(l.complexity).length||!s)&&c(l)}};class nE extends e8{fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.supportedIdentifiers=t.supported_identifiers,this.identifier=t.identifier,this.supportedFirstFactors=tA(t.supported_first_factors),this.supportedSecondFactors=tA(t.supported_second_factors),this.firstFactorVerification=new iJ(t.first_factor_verification),this.secondFactorVerification=new iJ(t.second_factor_verification),this.createdSessionId=t.created_session_id,this.userData=new nx(t.user_data)),this}__internal_toSnapshot(){return{object:"sign_in",id:this.id||"",status:this.status||null,supported_identifiers:this.supportedIdentifiers,supported_first_factors:tU(this.supportedFirstFactors),supported_second_factors:tU(this.supportedSecondFactors),first_factor_verification:this.firstFactorVerification.__internal_toSnapshot(),second_factor_verification:this.secondFactorVerification.__internal_toSnapshot(),identifier:this.identifier,created_session_id:this.createdSessionId,user_data:this.userData.__internal_toSnapshot()}}constructor(t=null){super(),p(this,"pathRoot","/client/sign_ins"),p(this,"id",void 0),p(this,"status",null),p(this,"supportedIdentifiers",[]),p(this,"supportedFirstFactors",[]),p(this,"supportedSecondFactors",null),p(this,"firstFactorVerification",new iJ(null)),p(this,"secondFactorVerification",new iJ(null)),p(this,"identifier",null),p(this,"createdSessionId",null),p(this,"userData",new nx(null)),p(this,"create",t=>this._basePost({path:this.pathRoot,body:t})),p(this,"resetPassword",t=>this._basePost({body:t,action:"reset_password"})),p(this,"prepareFirstFactor",t=>{let e;switch(t.strategy){case"passkey":e={};break;case"email_link":e={emailAddressId:t.emailAddressId,redirectUrl:t.redirectUrl};break;case"email_code":case"reset_password_email_code":e={emailAddressId:t.emailAddressId};break;case"phone_code":e={phoneNumberId:t.phoneNumberId,default:t.default};break;case"web3_metamask_signature":case"web3_coinbase_wallet_signature":case"web3_okx_wallet_signature":e={web3WalletId:t.web3WalletId};break;case"reset_password_phone_code":e={phoneNumberId:t.phoneNumberId};break;case"saml":case"enterprise_sso":e={redirectUrl:t.redirectUrl,actionCompleteRedirectUrl:t.actionCompleteRedirectUrl};break;default:ej("SignIn.prepareFirstFactor",t.strategy)}return this._basePost({body:{...e,strategy:t.strategy},action:"prepare_first_factor"})}),p(this,"attemptFirstFactor",t=>{let e;return e="passkey"===t.strategy?{publicKeyCredential:JSON.stringify(iD(t.publicKeyCredential))}:{...t},this._basePost({body:{...e,strategy:t.strategy},action:"attempt_first_factor"})}),p(this,"createEmailLinkFlow",()=>{let{run:t,stop:e}=ik();return{startEmailLinkFlow:async i=>{let{emailAddressId:n,redirectUrl:s}=i;return this.id||eL("SignIn"),await this.prepareFirstFactor({strategy:"email_link",emailAddressId:n,redirectUrl:s}),new Promise((i,n)=>{t(()=>this.reload().then(t=>{let n=t.firstFactorVerification.status;("verified"===n||"expired"===n)&&(e(),i(t))}).catch(t=>{e(),n(t)}))})},cancelEmailLinkFlow:e}}),p(this,"prepareSecondFactor",t=>this._basePost({body:t,action:"prepare_second_factor"})),p(this,"attemptSecondFactor",t=>this._basePost({body:t,action:"attempt_second_factor"})),p(this,"authenticateWithRedirectOrPopup",async(t,e)=>{let{strategy:i,redirectUrl:n,redirectUrlComplete:s,identifier:r}=t||{},{firstFactorVerification:a}=("saml"===i||"enterprise_sso"===i)&&this.id?await this.prepareFirstFactor({strategy:i,redirectUrl:nE.clerk.buildUrlWithAuth(n),actionCompleteRedirectUrl:s}):await this.create({strategy:i,identifier:r,redirectUrl:nE.clerk.buildUrlWithAuth(n),actionCompleteRedirectUrl:s}),{status:o,externalVerificationRedirectURL:l}=a;"unverified"===o&&l?e(l):eK(o,nE.fapiClient.buildEmailAddress("support"))}),p(this,"authenticateWithRedirect",async t=>this.authenticateWithRedirectOrPopup(t,tD)),p(this,"authenticateWithPopup",async t=>{let{popup:e}=t||{};return e||eV("popup"),nU(nE.clerk,"signIn",this.authenticateWithRedirectOrPopup,t,t=>{e.location.href=t.toString()})}),p(this,"authenticateWithWeb3",async t=>{var e;let i;let{identifier:n,generateSignature:s,strategy:r="web3_metamask_signature"}=t||{},a=r.replace("web3_","").replace("_signature","");"function"!=typeof s&&eV("generateSignature"),await this.create({identifier:n});let o=null===(e=this.supportedFirstFactors)||void 0===e?void 0:e.find(t=>t.strategy===r);o||eJ("SignIn"),await this.prepareFirstFactor(o);let{message:l}=this.firstFactorVerification;l||eJ("SignIn");try{i=await s({identifier:n,nonce:l,provider:a})}catch(t){if("coinbase_wallet"===a&&4001===t.code)i=await s({identifier:n,nonce:l,provider:a});else throw t}return this.attemptFirstFactor({signature:i,strategy:r})}),p(this,"authenticateWithMetamask",async()=>{let t=await eA();return this.authenticateWithWeb3({identifier:t,generateSignature:eC,strategy:"web3_metamask_signature"})}),p(this,"authenticateWithCoinbaseWallet",async()=>{let t=await eO();return this.authenticateWithWeb3({identifier:t,generateSignature:eP,strategy:"web3_coinbase_wallet_signature"})}),p(this,"authenticateWithOKXWallet",async()=>{let t=await eI();return this.authenticateWithWeb3({identifier:t,generateSignature:eT,strategy:"web3_okx_wallet_signature"})}),p(this,"authenticateWithPasskey",async t=>{let{flow:e}=t||{},i=nE.clerk.__internal_isWebAuthnSupported||nu,n=nE.clerk.__internal_getPublicCredentials||iz,s=nE.clerk.__internal_isWebAuthnAutofillSupported||np;if(!i())throw new ta("Passkeys are not supported",{code:"passkey_not_supported"});if("autofill"===e||"discoverable"===e)await this.create({strategy:"passkey"});else{let t=this.supportedFirstFactors.find(t=>"passkey"===t.strategy);t||function(){throw Error("".concat(eW," You need to start a SignIn flow by calling SignIn.create({ strategy: 'passkey' }) first"))}(),await this.prepareFirstFactor(t)}let{nonce:r}=this.firstFactorVerification,a=r?iW(JSON.parse(r)):null;a||eB("get");let o=!1;"autofill"===e&&(o=await s());let{publicKeyCredential:l,error:c}=await n({publicKeyOptions:a,conditionalUI:o});if(!l)throw c;return this.attemptFirstFactor({publicKeyCredential:l,strategy:"passkey"})}),p(this,"validatePassword",(t,e)=>{var i,n;if(null===(i=nE.clerk.__unstable__environment)||void 0===i?void 0:i.userSettings.passwordSettings)return nT({...null===(n=nE.clerk.__unstable__environment)||void 0===n?void 0:n.userSettings.passwordSettings,validatePassword:!0})(t,e)}),this.fromJSON(t)}}class nx{fromJSON(t){if(t){var e,i;this.firstName=t.first_name,this.lastName=t.last_name,this.imageUrl=null!==(e=t.image_url)&&void 0!==e?e:void 0,this.hasImage=null!==(i=t.has_image)&&void 0!==i?i:void 0}return this}__internal_toSnapshot(){return{first_name:this.firstName,last_name:this.lastName,image_url:this.imageUrl||null,has_image:this.hasImage||null}}constructor(t){p(this,"firstName",void 0),p(this,"lastName",void 0),p(this,"imageUrl",void 0),p(this,"hasImage",void 0),this.fromJSON(t)}}function nR(t){let{unsafeMetadata:e}={...t},i=e?"object"==typeof e?JSON.stringify(e):e:"";return{...t,...e?{unsafeMetadata:i}:{}}}class nM extends e8{fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.requiredFields=t.required_fields,this.optionalFields=t.optional_fields,this.missingFields=t.missing_fields,this.unverifiedFields=t.unverified_fields,this.verifications=new iK(t.verifications),this.username=t.username,this.firstName=t.first_name,this.lastName=t.last_name,this.emailAddress=t.email_address,this.phoneNumber=t.phone_number,this.hasPassword=t.has_password,this.unsafeMetadata=t.unsafe_metadata,this.createdSessionId=t.created_session_id,this.createdUserId=t.created_user_id,this.abandonAt=t.abandon_at,this.web3wallet=t.web3_wallet,this.legalAcceptedAt=t.legal_accepted_at),this}__internal_toSnapshot(){var t;return{object:"sign_up",id:this.id||"",status:this.status||null,required_fields:this.requiredFields,optional_fields:this.optionalFields,missing_fields:this.missingFields,unverified_fields:this.unverifiedFields,verifications:this.verifications.__internal_toSnapshot(),username:this.username,first_name:this.firstName,last_name:this.lastName,email_address:this.emailAddress,phone_number:this.phoneNumber,has_password:this.hasPassword,unsafe_metadata:this.unsafeMetadata,created_session_id:this.createdSessionId,created_user_id:this.createdUserId,abandon_at:this.abandonAt,web3_wallet:this.web3wallet,legal_accepted_at:this.legalAcceptedAt,external_account:this.externalAccount,external_account_strategy:null===(t=this.externalAccount)||void 0===t?void 0:t.strategy}}clientBypass(){var t;return null===(t=nM.clerk.client)||void 0===t?void 0:t.captchaBypass}shouldBypassCaptchaForAttempt(t){if(!t.strategy)return!1;let e=nM.clerk.__unstable__environment.displayConfig.captchaOauthBypass;return!!(e.some(e=>e===t.strategy)||t.transfer&&e.some(t=>t===nM.clerk.client.signIn.firstFactorVerification.strategy))}constructor(t=null){super(),p(this,"pathRoot","/client/sign_ups"),p(this,"id",void 0),p(this,"status",null),p(this,"requiredFields",[]),p(this,"optionalFields",[]),p(this,"missingFields",[]),p(this,"unverifiedFields",[]),p(this,"verifications",new iK(null)),p(this,"username",null),p(this,"firstName",null),p(this,"lastName",null),p(this,"emailAddress",null),p(this,"phoneNumber",null),p(this,"web3wallet",null),p(this,"externalAccount",void 0),p(this,"hasPassword",!1),p(this,"unsafeMetadata",{}),p(this,"createdSessionId",null),p(this,"createdUserId",null),p(this,"abandonAt",null),p(this,"legalAcceptedAt",null),p(this,"create",async t=>{let e=t;if(!this.clientBypass()&&!this.shouldBypassCaptchaForAttempt(e)){let t=new e9(nM.clerk),i=await t.managedOrInvisible({action:"signup"});if(!i)throw new ti("",{code:"captcha_unavailable"});e={...e,...i}}if(e.transfer&&this.shouldBypassCaptchaForAttempt(e)){var i;e.strategy=null===(i=nM.clerk.client)||void 0===i?void 0:i.signIn.firstFactorVerification.strategy}return this._basePost({path:this.pathRoot,body:nR(e)})}),p(this,"prepareVerification",t=>this._basePost({body:t,action:"prepare_verification"})),p(this,"attemptVerification",t=>this._basePost({body:t,action:"attempt_verification"})),p(this,"prepareEmailAddressVerification",t=>this.prepareVerification(t||{strategy:"email_code"})),p(this,"attemptEmailAddressVerification",t=>this.attemptVerification({...t,strategy:"email_code"})),p(this,"createEmailLinkFlow",()=>{let{run:t,stop:e}=ik();return{startEmailLinkFlow:async i=>{let{redirectUrl:n}=i;return this.id||eL("SignUp"),await this.prepareEmailAddressVerification({strategy:"email_link",redirectUrl:n}),new Promise((i,n)=>{t(()=>this.reload().then(t=>{let n=t.verifications.emailAddress.status;("verified"===n||"expired"===n)&&(e(),i(t))}).catch(t=>{e(),n(t)}))})},cancelEmailLinkFlow:e}}),p(this,"preparePhoneNumberVerification",t=>this.prepareVerification(t||{strategy:"phone_code"})),p(this,"attemptPhoneNumberVerification",t=>this.attemptVerification({...t,strategy:"phone_code"})),p(this,"prepareWeb3WalletVerification",t=>this.prepareVerification({strategy:"web3_metamask_signature",...t})),p(this,"attemptWeb3WalletVerification",async t=>{let{signature:e,strategy:i="web3_metamask_signature"}=t;return this.attemptVerification({signature:e,strategy:i})}),p(this,"authenticateWithWeb3",async t=>{let e;let{generateSignature:i,identifier:n,unsafeMetadata:s,strategy:r="web3_metamask_signature",legalAccepted:a}=t||{},o=r.replace("web3_","").replace("_signature","");"function"!=typeof i&&eV("generateSignature");let l=n||this.web3wallet;await this.create({web3Wallet:l,unsafeMetadata:s,legalAccepted:a}),await this.prepareWeb3WalletVerification({strategy:r});let{message:c}=this.verifications.web3Wallet;c||eJ("SignUp");try{e=await i({identifier:n,nonce:c,provider:o})}catch(t){if("coinbase_wallet"===o&&4001===t.code)e=await i({identifier:n,nonce:c,provider:o});else throw t}return this.attemptWeb3WalletVerification({signature:e,strategy:r})}),p(this,"authenticateWithMetamask",async t=>{let e=await eA();return this.authenticateWithWeb3({identifier:e,generateSignature:eC,unsafeMetadata:null==t?void 0:t.unsafeMetadata,strategy:"web3_metamask_signature",legalAccepted:null==t?void 0:t.legalAccepted})}),p(this,"authenticateWithCoinbaseWallet",async t=>{let e=await eO();return this.authenticateWithWeb3({identifier:e,generateSignature:eP,unsafeMetadata:null==t?void 0:t.unsafeMetadata,strategy:"web3_coinbase_wallet_signature",legalAccepted:null==t?void 0:t.legalAccepted})}),p(this,"authenticateWithOKXWallet",async t=>{let e=await eI();return this.authenticateWithWeb3({identifier:e,generateSignature:eT,unsafeMetadata:null==t?void 0:t.unsafeMetadata,strategy:"web3_okx_wallet_signature",legalAccepted:null==t?void 0:t.legalAccepted})}),p(this,"authenticateWithRedirectOrPopup",async(t,e)=>{let{redirectUrl:i,redirectUrlComplete:n,strategy:s,continueSignUp:r=!1,unsafeMetadata:a,emailAddress:o,legalAccepted:l}=t,c=()=>{let t={strategy:s,redirectUrl:nM.clerk.buildUrlWithAuth(i),actionCompleteRedirectUrl:n,unsafeMetadata:a,emailAddress:o,legalAccepted:l};return r&&this.id?this.update(t):this.create(t)},{verifications:h}=await c().catch(async t=>{if(X(t)&&["captcha_invalid","captcha_not_enabled","captcha_missing_token"].includes(t.errors[0].code))return await nM.clerk.__unstable__environment.reload(),c();throw t}),{externalAccount:d}=h,{status:u,externalVerificationRedirectURL:p}=d;"unverified"===u&&p?e(p):eK(u,nM.fapiClient.buildEmailAddress("support"))}),p(this,"authenticateWithRedirect",async t=>this.authenticateWithRedirectOrPopup(t,tD)),p(this,"authenticateWithPopup",async t=>{let{popup:e}=t||{};return e||eV("popup"),nU(nM.clerk,"signUp",this.authenticateWithRedirectOrPopup,t,t=>{e.location.href=t instanceof URL?t.toString():t})}),p(this,"update",t=>this._basePatch({body:nR(t)})),p(this,"upsert",t=>this.id?this.update(t):this.create(t)),p(this,"validatePassword",(t,e)=>{var i,n;if(null===(i=nM.clerk.__unstable__environment)||void 0===i?void 0:i.userSettings.passwordSettings)return nT({...null===(n=nM.clerk.__unstable__environment)||void 0===n?void 0:n.userSettings.passwordSettings,validatePassword:!0})(t,e)}),this.fromJSON(t)}}class nz extends e8{static async create(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new nz(await e8._fetch({path:t,method:"POST",body:e}),t)}fromJSON(t){return t&&(this.jwt=ec(t.jwt)),this}__internal_toSnapshot(){return{object:"token",id:this.id||"",jwt:this.getRawString()}}constructor(t,e){super(),p(this,"pathRoot","tokens"),p(this,"jwt",void 0),p(this,"getRawString",()=>{var t;return(null===(t=this.jwt)||void 0===t?void 0:t.claims.__raw)||""}),e&&(this.pathRoot=e),(null==t?void 0:t.jwt)&&(this.jwt=ec(t.jwt))}}class nN extends e8{fromJSON(t){return t&&(this.id=t.id,this.secret=t.secret,this.uri=t.uri,this.verified=t.verified,this.backupCodes=t.backup_codes,this.updatedAt=is(t.updated_at),this.createdAt=is(t.created_at)),this}constructor(t){super(),p(this,"pathRoot","/me"),p(this,"id",""),p(this,"secret",void 0),p(this,"uri",void 0),p(this,"verified",!1),p(this,"backupCodes",void 0),p(this,"updatedAt",null),p(this,"createdAt",null),this.fromJSON(t)}}let nW=t=>{let{firstName:e,lastName:i,name:n}=t;return n||[e,i].join(" ").trim()||""};class nF extends e8{fromJSON(t){return t&&(this.id=t.id,this.codes=t.codes,this.updatedAt=is(t.updated_at),this.createdAt=is(t.created_at)),this}constructor(t){super(),p(this,"pathRoot","/me"),p(this,"id",void 0),p(this,"codes",[]),p(this,"updatedAt",null),p(this,"createdAt",null),this.fromJSON(t)}}class nD extends e8{static isUserResource(t){return!!t&&t instanceof nD}path(){return this.pathRoot}get verifiedExternalAccounts(){return this.externalAccounts.filter(t=>{var e;return(null===(e=t.verification)||void 0===e?void 0:e.status)=="verified"})}get unverifiedExternalAccounts(){return this.externalAccounts.filter(t=>{var e;return(null===(e=t.verification)||void 0===e?void 0:e.status)!="verified"})}get verifiedWeb3Wallets(){return this.web3Wallets.filter(t=>{var e;return(null===(e=t.verification)||void 0===e?void 0:e.status)=="verified"})}get hasVerifiedEmailAddress(){return this.emailAddresses.filter(t=>"verified"===t.verification.status).length>0}get hasVerifiedPhoneNumber(){return this.phoneNumbers.filter(t=>"verified"===t.verification.status).length>0}fromJSON(t){return t&&(this.id=t.id,this.externalId=t.external_id||null,this.firstName=t.first_name||null,this.lastName=t.last_name||null,(this.firstName||this.lastName)&&(this.fullName=nW({firstName:this.firstName,lastName:this.lastName})),this.imageUrl=t.image_url||"",this.hasImage=t.has_image||!1,this.username=t.username||null,this.passwordEnabled=t.password_enabled||!1,this.emailAddresses=(t.email_addresses||[]).map(t=>new iU(t,this.path()+"/email_addresses")),this.primaryEmailAddressId=t.primary_email_address_id||null,this.primaryEmailAddress=this.emailAddresses.find(t=>{let{id:e}=t;return e===this.primaryEmailAddressId})||null,this.phoneNumbers=(t.phone_numbers||[]).map(t=>new iX(t,this.path()+"/phone_numbers")),this.primaryPhoneNumberId=t.primary_phone_number_id||null,this.primaryPhoneNumber=this.phoneNumbers.find(t=>{let{id:e}=t;return e===this.primaryPhoneNumberId})||null,this.web3Wallets=(t.web3_wallets||[]).map(t=>new nj(t,this.path()+"/web3_wallets")),this.primaryWeb3WalletId=t.primary_web3_wallet_id||null,this.primaryWeb3Wallet=this.web3Wallets.find(t=>{let{id:e}=t;return e===this.primaryWeb3WalletId})||null,this.externalAccounts=(t.external_accounts||[]).map(t=>new iq(t,this.path()+"/external_accounts")),this.passkeys=(t.passkeys||[]).map(t=>new nb(t)),this.organizationMemberships=(t.organization_memberships||[]).map(t=>new i6(t)),this.samlAccounts=(t.saml_accounts||[]).map(t=>new i9(t,this.path()+"/saml_accounts")),this.enterpriseAccounts=(t.enterprise_accounts||[]).map(t=>new iG(t,this.path()+"/enterprise_accounts")),this.publicMetadata=t.public_metadata||{},this.unsafeMetadata=t.unsafe_metadata||{},this.totpEnabled=t.totp_enabled||!1,this.backupCodeEnabled=t.backup_code_enabled||!1,this.twoFactorEnabled=t.two_factor_enabled||!1,this.createOrganizationEnabled=t.create_organization_enabled||!1,this.createOrganizationsLimit=t.create_organizations_limit||null,this.deleteSelfEnabled=t.delete_self_enabled||!1,t.last_sign_in_at&&(this.lastSignInAt=is(t.last_sign_in_at)),t.legal_accepted_at&&(this.legalAcceptedAt=is(t.legal_accepted_at)),this.updatedAt=is(t.updated_at||void 0),this.createdAt=is(t.created_at||void 0)),this}__internal_toSnapshot(){var t,e,i,n;return{object:"user",id:this.id,external_id:this.externalId,first_name:this.firstName,last_name:this.lastName,username:this.username,public_metadata:this.publicMetadata,unsafe_metadata:this.unsafeMetadata,image_url:this.imageUrl,has_image:this.hasImage,email_addresses:this.emailAddresses.map(t=>t.__internal_toSnapshot()),phone_numbers:this.phoneNumbers.map(t=>t.__internal_toSnapshot()),web3_wallets:this.web3Wallets.map(t=>t.__internal_toSnapshot()),external_accounts:this.externalAccounts.map(t=>t.__internal_toSnapshot()),passkeys:this.passkeys.map(t=>t.__internal_toSnapshot()),organization_memberships:this.organizationMemberships.map(t=>t.__internal_toSnapshot()),saml_accounts:this.samlAccounts.map(t=>t.__internal_toSnapshot()),enterprise_accounts:this.enterpriseAccounts.map(t=>t.__internal_toSnapshot()),totp_enabled:this.totpEnabled,backup_code_enabled:this.backupCodeEnabled,two_factor_enabled:this.twoFactorEnabled,create_organization_enabled:this.createOrganizationEnabled,create_organizations_limit:this.createOrganizationsLimit,delete_self_enabled:this.deleteSelfEnabled,primary_email_address_id:this.primaryEmailAddressId,primary_phone_number_id:this.primaryPhoneNumberId,primary_web3_wallet_id:this.primaryWeb3WalletId,password_enabled:this.passwordEnabled,profile_image_id:this.imageUrl,last_sign_in_at:(null===(t=this.lastSignInAt)||void 0===t?void 0:t.getTime())||null,legal_accepted_at:(null===(e=this.legalAcceptedAt)||void 0===e?void 0:e.getTime())||null,updated_at:(null===(i=this.updatedAt)||void 0===i?void 0:i.getTime())||null,created_at:(null===(n=this.createdAt)||void 0===n?void 0:n.getTime())||null}}constructor(t){super(),p(this,"pathRoot","/me"),p(this,"id",""),p(this,"externalId",null),p(this,"username",null),p(this,"emailAddresses",[]),p(this,"phoneNumbers",[]),p(this,"web3Wallets",[]),p(this,"externalAccounts",[]),p(this,"enterpriseAccounts",[]),p(this,"passkeys",[]),p(this,"samlAccounts",[]),p(this,"organizationMemberships",[]),p(this,"passwordEnabled",!1),p(this,"firstName",null),p(this,"lastName",null),p(this,"fullName",null),p(this,"primaryEmailAddressId",null),p(this,"primaryEmailAddress",null),p(this,"primaryPhoneNumberId",null),p(this,"primaryPhoneNumber",null),p(this,"primaryWeb3WalletId",null),p(this,"primaryWeb3Wallet",null),p(this,"imageUrl",""),p(this,"hasImage",!1),p(this,"twoFactorEnabled",!1),p(this,"totpEnabled",!1),p(this,"backupCodeEnabled",!1),p(this,"publicMetadata",{}),p(this,"unsafeMetadata",{}),p(this,"createOrganizationEnabled",!1),p(this,"createOrganizationsLimit",null),p(this,"deleteSelfEnabled",!1),p(this,"lastSignInAt",null),p(this,"legalAcceptedAt",null),p(this,"updatedAt",null),p(this,"createdAt",null),p(this,"cachedSessionsWithActivities",null),p(this,"isPrimaryIdentification",t=>{switch(t.constructor){case iU:return this.primaryEmailAddressId===t.id;case iX:return this.primaryPhoneNumberId===t.id;case nj:return this.primaryWeb3WalletId===t.id;default:return!1}}),p(this,"createEmailAddress",t=>{let{email:e}=t||{};return new iU({email_address:e},this.path()+"/email_addresses/").create()}),p(this,"createPasskey",()=>nb.registerPasskey()),p(this,"createPhoneNumber",t=>{let{phoneNumber:e}=t||{};return new iX({phone_number:e},this.path()+"/phone_numbers/").create()}),p(this,"createWeb3Wallet",t=>{let{web3Wallet:e}=t||{};return new nj({web3_wallet:e},this.path()+"/web3_wallets/").create()}),p(this,"createExternalAccount",async t=>{var e;let{strategy:i,redirectUrl:n,additionalScopes:s}=t||{};return new iq(null===(e=await e8._fetch({path:"/me/external_accounts",method:"POST",body:{strategy:i,redirect_url:n,additional_scope:s}}))||void 0===e?void 0:e.response,this.path()+"/external_accounts")}),p(this,"createTOTP",async()=>{var t;return new nN(null===(t=await e8._fetch({path:"/me/totp",method:"POST"}))||void 0===t?void 0:t.response)}),p(this,"verifyTOTP",async t=>{var e;let{code:i}=t;return new nN(null===(e=await e8._fetch({path:"/me/totp/attempt_verification",method:"POST",body:{code:i}}))||void 0===e?void 0:e.response)}),p(this,"disableTOTP",async()=>{var t;return new i_(null===(t=await e8._fetch({path:"/me/totp",method:"DELETE"}))||void 0===t?void 0:t.response)}),p(this,"createBackupCode",async()=>{var t;return new nF(null===(t=await e8._fetch({path:this.path()+"/backup_codes/",method:"POST"}))||void 0===t?void 0:t.response)}),p(this,"update",t=>this._basePatch({body:nR(t)})),p(this,"updatePassword",t=>this._basePost({body:t,path:"".concat(this.path(),"/change_password")})),p(this,"removePassword",t=>this._basePost({body:t,path:"".concat(this.path(),"/remove_password")})),p(this,"delete",()=>this._baseDelete({path:"/me"}).then(t=>(iP.emit(iC.UserSignOut,null),t))),p(this,"getSessions",async()=>{if(this.cachedSessionsWithActivities)return this.cachedSessionsWithActivities;let t=await nk.retrieve();return this.cachedSessionsWithActivities=t,t}),p(this,"setProfileImage",t=>{let{file:e}=t||{};return null===e?iY.delete("".concat(this.path(),"/profile_image")):iY.create("".concat(this.path(),"/profile_image"),{file:e})}),p(this,"getOrganizationInvitations",t=>nL.retrieve(t)),p(this,"getOrganizationSuggestions",t=>i5.retrieve(t)),p(this,"getOrganizationMemberships",t=>i6.retrieve(t)),p(this,"leaveOrganization",async t=>{var e;return new i_(null===(e=await e8._fetch({path:"".concat(this.path(),"/organization_memberships/").concat(t),method:"DELETE"}))||void 0===e?void 0:e.response)}),this.fromJSON(t)}}class nL extends e8{static async retrieve(t){return await e8._fetch({path:"/me/organization_invitations",method:"GET",search:iZ(t)}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new nL(t))}})}fromJSON(t){return t&&(this.id=t.id,this.emailAddress=t.email_address,this.publicOrganizationData={hasImage:t.public_organization_data.has_image,imageUrl:t.public_organization_data.image_url,name:t.public_organization_data.name,id:t.public_organization_data.id,slug:t.public_organization_data.slug},this.publicMetadata=t.public_metadata,this.role=t.role,this.status=t.status,this.createdAt=is(t.created_at),this.updatedAt=is(t.updated_at)),this}constructor(t){super(),p(this,"id",void 0),p(this,"emailAddress",void 0),p(this,"publicOrganizationData",void 0),p(this,"publicMetadata",{}),p(this,"status",void 0),p(this,"role",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"accept",async()=>await this._basePost({path:"/me/organization_invitations/".concat(this.id,"/accept")})),this.fromJSON(t)}}class nj extends e8{create(){return this._basePost({body:{web3_wallet:this.web3Wallet}})}destroy(){return this._baseDelete()}toString(){return this.web3Wallet}fromJSON(t){return t&&(this.id=t.id,this.web3Wallet=t.web3_wallet,this.verification=new iJ(t.verification)),this}__internal_toSnapshot(){return{object:"web3_wallet",id:this.id,web3_wallet:this.web3Wallet,verification:this.verification.__internal_toSnapshot()}}constructor(t,e){super(),p(this,"id",void 0),p(this,"web3Wallet",""),p(this,"verification",void 0),p(this,"prepareVerification",t=>this._basePost({action:"prepare_verification",body:{...t}})),p(this,"attemptVerification",t=>{let{signature:e}=t;return this._basePost({action:"attempt_verification",body:{signature:e}})}),this.pathRoot=e,this.fromJSON(t)}}class nJ extends e8{fromJSON(t){return t&&(this.id=t.id,this.updatedAt=is(t.updated_at),this.createdAt=is(t.created_at)),this}static async join(t){var e;return new nJ(null===(e=await e8._fetch({path:"/waitlist",method:"POST",body:t}))||void 0===e?void 0:e.response)}constructor(t){super(),p(this,"pathRoot","/waitlist"),p(this,"id",""),p(this,"updatedAt",null),p(this,"createdAt",null),this.fromJSON(t)}}function nV(t,e){var i,n,s,r;return t.id!==e.id||t.updatedAt.getTime()<e.updatedAt.getTime()||(i=e,n=t,i.organizationMemberships.length!==n.organizationMemberships.length||(null===(s=i.organizationMemberships[0])||void 0===s?void 0:s.updatedAt)!==(null===(r=n.organizationMemberships[0])||void 0===r?void 0:r.updatedAt))}function nK(t,e){return!function(t,e){if(!t&&e||t&&!e)return!0;if(!t&&t===e)return!1;if(!t||!e)return!0;try{var i,n,s,r,a,o,l,c;if(il.isClientResource(t))return t.id!==e.id||t.updatedAt.getTime()<e.updatedAt.getTime()||t.sessions.length!==e.sessions.length;if(ng.isSessionResource(t)){return t.id!==e.id||t.updatedAt.getTime()<e.updatedAt.getTime()||(null===(s=t.lastActiveToken)||void 0===s?void 0:null===(n=s.jwt)||void 0===n?void 0:null===(i=n.claims)||void 0===i?void 0:i.__raw)!==(null===(o=e.lastActiveToken)||void 0===o?void 0:null===(a=o.jwt)||void 0===a?void 0:null===(r=a.claims)||void 0===r?void 0:r.__raw)||function(t,e){var i,n,s,r,a,o;if(t.lastActiveOrganizationId!==e.lastActiveOrganizationId)return!0;let l=null===(n=t.user)||void 0===n?void 0:null===(i=n.organizationMemberships)||void 0===i?void 0:i.find(e=>e.organization.id===t.lastActiveOrganizationId),c=null===(r=e.user)||void 0===r?void 0:null===(s=r.organizationMemberships)||void 0===s?void 0:s.find(e=>e.organization.id===t.lastActiveOrganizationId);return(null==l?void 0:null===(a=l.permissions)||void 0===a?void 0:a.length)!==(null==c?void 0:null===(o=c.permissions)||void 0===o?void 0:o.length)}(t,e)||(l=t,c=e,!!l.user!=!!c.user||!!l.user&&!!c.user&&nV(l.user,c.user))}if(nD.isUserResource(t))return nV(t,e)}catch{}return!0}(t,e)?t:e}var nB=t=>Object.entries(t).reduce((t,e)=>{let[i,n]=e;return null!=n&&(t[i]=n),t},{}),nq=(t,e)=>{let i={};for(let n in t)i[n]=e(t[n],n);return i},nG=(t,e)=>{let i={};for(let n in t)t[n]&&e(t[n])&&(i[n]=t[n]);return i},nH=new WeakSet,n$=new WeakSet,nY=new WeakSet,nX=new WeakSet,nZ=new WeakSet,nQ=new WeakSet,n0=new WeakSet,n1=new WeakMap;class n3{getAfterSignInUrl(){return d(this,nX,n5).call(this,"signIn")}getAfterSignUpUrl(){return d(this,nX,n5).call(this,"signUp")}getPreservedSearchParams(){return d(this,nH,n2).call(this,d(this,n$,n4).call(this))}toSearchParams(){return d(this,nH,n2).call(this,d(this,nY,n6).call(this))}constructor(t,e={},i={},n){u(this,nH),u(this,n$),u(this,nY),u(this,nX),u(this,nZ),u(this,nQ),u(this,n0),p(this,"options",void 0),p(this,"fromOptions",void 0),p(this,"fromProps",void 0),p(this,"fromSearchParams",void 0),p(this,"mode",void 0),l(this,n1,{writable:!0,value:t=>{var e;return nG(t,eo(null===(e=this.options)||void 0===e?void 0:e.allowedRedirectOrigins,window.location.origin))}}),this.options=t,this.fromOptions=d(this,nZ,n9).call(this,t||{}),this.fromProps=d(this,nZ,n9).call(this,e||{}),this.fromSearchParams=d(this,nQ,n7).call(this,i||{}),this.mode=n}}function n2(t){return new URLSearchParams(nB(Object.fromEntries(Object.entries(t).map(t=>{let[e,i]=t;return[tS(e),i]}))))}function n4(){return Object.fromEntries(Object.entries({...this.fromSearchParams}).filter(t=>{let[e]=t;return n3.preserved.includes(e)}))}function n6(){let t=this.fromSearchParams.signUpForceRedirectUrl||this.fromProps.signUpForceRedirectUrl||this.fromOptions.signUpForceRedirectUrl,e=this.fromSearchParams.signUpFallbackRedirectUrl||this.fromProps.signUpFallbackRedirectUrl||this.fromOptions.signUpFallbackRedirectUrl,i=this.fromSearchParams.signInForceRedirectUrl||this.fromProps.signInForceRedirectUrl||this.fromOptions.signInForceRedirectUrl,n=this.fromSearchParams.signInFallbackRedirectUrl||this.fromProps.signInFallbackRedirectUrl||this.fromOptions.signInFallbackRedirectUrl,s=this.fromSearchParams.afterSignInUrl||this.fromProps.afterSignInUrl||this.fromOptions.afterSignInUrl,r={signUpForceRedirectUrl:t,signUpFallbackRedirectUrl:e,signInFallbackRedirectUrl:n,signInForceRedirectUrl:i,afterSignInUrl:s,afterSignUpUrl:this.fromSearchParams.afterSignUpUrl||this.fromProps.afterSignUpUrl||this.fromOptions.afterSignUpUrl,redirectUrl:this.fromSearchParams.redirectUrl||this.fromProps.redirectUrl||this.fromOptions.redirectUrl};return t&&delete r.signUpFallbackRedirectUrl,i&&delete r.signInFallbackRedirectUrl,r}function n5(t){var e,i;let n,s;let r="".concat(t,"ForceRedirectUrl"),a="".concat(t,"FallbackRedirectUrl"),o="after".concat(t[0].toUpperCase()).concat(t.slice(1),"Url");(s=this.fromSearchParams[r]||this.fromProps[r]||this.fromOptions[r])&&(n=r),s||(s=this.fromSearchParams.redirectUrl),s&&(n="redirectUrl"),s||(s=this.fromSearchParams[a]||this.fromProps[a]||this.fromOptions[a]),s&&(n=a);let l=this.fromSearchParams[o]||this.fromProps[o]||this.fromProps.redirectUrl||this.fromOptions[o];return(e=n,(i=s)&&l&&tw.warnOnce('Clerk: The "'.concat(e,'" prop ("').concat(i,'") has priority over the legacy "').concat(o,'" (or "redirectUrl") ("').concat(l,'"), which will be completely ignored in this case. "').concat(o,'" (or "redirectUrl" prop) should be replaced with the new "fallbackRedirectUrl" or "forceRedirectUrl" props instead. Learn more: https://clerk.com/docs/guides/custom-redirects#redirect-url-props')),s||(s=l),s||"modal"!==this.mode)?s||"/":window.location.href}function n9(t){ex(t);let e={};return n3.keys.forEach(i=>{e[i]=t[i]}),nq(a(this,n1).call(this,d(this,n0,n8).call(this,nG(e,Boolean))),t=>t.toString())}function n7(t){ex(t);let e={};return n3.keys.forEach(i=>{t instanceof URLSearchParams?e[i]=t.get(tS(i)):e[i]=t[tS(i)]}),nq(a(this,n1).call(this,d(this,n0,n8).call(this,nG(e,Boolean))),t=>t.toString())}function n8(t){return nq(t,t=>en(t,window.location.origin))}function st(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}p(n3,"keys",["signInForceRedirectUrl","signInFallbackRedirectUrl","signUpForceRedirectUrl","signUpFallbackRedirectUrl","afterSignInUrl","afterSignUpUrl","redirectUrl"]),p(n3,"preserved",["redirectUrl"]);var se=function t(e,i){function n(t,n,s){if("undefined"!=typeof document){"number"==typeof(s=st({},i,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var a in s){if(s[a])r+="; "+a,!0!==s[a]&&(r+="="+s[a].split(";")[0])}return document.cookie=t+"="+e.write(n,t)+r}}return Object.create({set:n,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var i=document.cookie?document.cookie.split("; "):[],n={},s=0;s<i.length;s++){var r=i[s].split("="),a=r.slice(1).join("=");try{var o=decodeURIComponent(r[0]);if(n[o]=e.read(a,o),t===o)break}catch(t){}}return t?n[t]:n}},remove:function(t,e){n(t,"",st({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,st({},this.attributes,e))},withConverter:function(e){return t(st({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function si(t){return{get:()=>se.get(t),set(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};se.set(t,e,i)},remove(e){se.remove(t,e)}}}var sn="__clerk_db_jwt";function ss(t,e){let i=new URL(t),n=i.searchParams.get(sn);i.searchParams.delete(sn);let s=n||e;return s&&i.searchParams.set(sn,s),i}var sr=t=>t.searchParams.get(sn)||"",sa=t=>so(sl(t)),so=t=>{let e=new URL(t);return e.searchParams.delete(sn),e},sl=t=>{let e=new URL(t);return e.searchParams.delete("__dev_session"),e.hash=decodeURI(e.hash).replace(/__clerk_db_jwt\[(.*)\]/,""),e.href.endsWith("#")&&(e.hash=""),e};function sc(t,e){let i=function(t){try{return new Date(t||new Date)}catch{return new Date}}(t);return i.setFullYear(i.getFullYear()+e),i}let sh=si("__clerk_test_etld"),sd=t=>"https:"===window.location.protocol||"None"===t&&void 0===window.safari&&(void 0!==window.isSecureContext?window.isSecureContext:"localhost"===window.location.hostname),su="__client_uat",sp=t=>{let e=si(su),i=si(tv(su,t));return{set:t=>{let s=sc(Date.now(),1),r=ep()?"None":"Strict",a=sd(r),o=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hostname,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sh;if(n)return n;if(["localhost","127.0.0.1","0.0.0.0"].includes(t))return t;let i=t.split(".");if(1===i.length)return t;for(let t=i.length-2;t>=0;t--){let s=i.slice(t).join(".");if(e.set("1",{domain:s}),"1"===e.get())return e.remove({domain:s}),n=s,s;e.remove({domain:s})}}(),l="0";t&&t.updatedAt&&t.signedInSessions.length>0&&(l=Math.floor(t.updatedAt.getTime()/1e3).toString()),i.remove(),e.remove(),i.set(l,{expires:s,sameSite:r,domain:o,secure:a}),e.set(l,{expires:s,sameSite:r,domain:o,secure:a})},get:()=>parseInt(i.get()||e.get()||"0",10)}},sm="__session",sf=t=>{let e=si(sm),i=si(tv(sm,t));return{set:t=>{let n=sc(Date.now(),1),s=ep()?"None":"Lax",r=sd(s);i.set(t,{expires:n,sameSite:s,secure:r}),e.set(t,{expires:n,sameSite:s,secure:r})},remove:()=>{i.remove(),e.remove()},get:()=>i.get()||e.get()}};async function sv(t){let e;try{e=await tf(t)}catch(a){tw.logOnce("Suffixed cookie failed due to ".concat(a.message," (secure-context: ").concat(window.isSecureContext,", url: ").concat(window.location.href,")"));let{default:n}=await Promise.all([i.e("192"),i.e("199")]).then(i.t.bind(i,394,23)),{default:s}=await Promise.all([i.e("192"),i.e("199")]).then(i.t.bind(i,202,23)),r=n(t);e=s.stringify(r).replace(/\+/gi,"-").replace(/\//gi,"_").substring(0,8)}return e}let s_=t=>{let e=si(sn),i=si(tv(sn,t));return{get:()=>i.get()||e.get(),set:t=>{let n=sc(Date.now(),1),s=ep()?"None":"Lax",r=sd(s);i.set(t,{expires:n,sameSite:s,secure:r}),e.set(t,{expires:n,sameSite:s,secure:r})},remove:()=>{i.remove(),e.remove()}}};var sg=i(19),sw=i.n(sg);class sb{startPollingForSessionToken(t){if(this.timerId||this.initiated)return;let e=async()=>{this.initiated=!0,await this.lock.acquireLockAndRun(t),this.timerId=this.workerTimers.setTimeout(e,5e3)};e()}stopPollingForSessionToken(){null!=this.timerId&&(this.workerTimers.clearTimeout(this.timerId),this.timerId=null),this.initiated=!1}constructor(){p(this,"lock",function(t){let e=new(sw());return window.addEventListener("beforeunload",async()=>{await e.releaseLock(t)}),{acquireLockAndRun:async i=>{if("locks"in navigator&&isSecureContext){let e=new AbortController,n=setTimeout(()=>e.abort(),4999);return await navigator.locks.request(t,{signal:e.signal},async()=>(clearTimeout(n),await i())).catch(()=>!1)}if(await e.acquireLock(t,5e3))try{return await i()}finally{await e.releaseLock(t)}}}}("clerk.lock.refreshSessionToken")),p(this,"workerTimers",iS()),p(this,"timerId",null),p(this,"initiated",!1)}}class sy{static async create(t,e,i){let n=await sv(t.publishableKey),s=new sy(t,e,n,i);return await s.setup(),s}async setup(){return"production"===this.instanceType?this.setupProduction():this.setupDevelopment()}isSignedOut(){return this.clerk.loaded?!!this.clerk.user:0>=this.clientUat.get()}async handleUnauthenticatedDevBrowser(){this.devBrowser.clear(),await this.devBrowser.setup()}decorateUrlWithDevBrowserToken(t){let e=this.devBrowser.getDevBrowserJWT();return e?ss(t,e):function(){throw Error("".concat(eW," Missing dev browser jwt. Please contact support."))}()}async setupDevelopment(){await this.devBrowser.setup()}setupProduction(){this.devBrowser.clear()}startPollingForToken(){this.poller||(this.poller=new sb,this.poller.startPollingForSessionToken(()=>this.refreshSessionToken()))}stopPollingForToken(){this.poller&&(this.poller.stopPollingForSessionToken(),this.poller=null)}refreshTokenOnFocus(){window.addEventListener("focus",()=>{"visible"===document.visibilityState&&this.refreshSessionToken({updateCookieImmediately:!0})})}async refreshSessionToken(){let{updateCookieImmediately:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.clerk.session)try{let e=await this.clerk.session.getToken();t&&this.updateSessionCookie(e)}catch(t){return this.handleGetTokenError(t)}}updateSessionCookie(t){if(document.hasFocus()||this.isCurrentOrganizationActive())return this.setActiveOrganizationInStorage(),t?this.sessionCookie.set(t):this.sessionCookie.remove()}setClientUatCookieForDevelopmentInstances(){"production"!==this.instanceType&&this.inCustomDevelopmentDomain()&&this.clientUat.set(this.clerk.client)}inCustomDevelopmentDomain(){let t=this.clerk.frontendApi.replace("clerk.","");return!window.location.host.endsWith(t)}handleGetTokenError(t){if((X(t)||Z(t)||("".concat(t.message).concat(t.name)||"").toLowerCase().replace(/\s+/g,"").includes("networkerror"))&&Y(t)){this.clerk.handleUnauthenticated().catch(tz);return}}setActiveOrganizationInStorage(){var t;(null===(t=this.clerk.organization)||void 0===t?void 0:t.id)?this.activeOrgCookie.set(this.clerk.organization.id):this.activeOrgCookie.remove()}isCurrentOrganizationActive(){var t,e;let i=this.activeOrgCookie.get();return!i&&(null===(t=this.clerk.organization)||void 0===t||!t.id)||(null===(e=this.clerk.organization)||void 0===e?void 0:e.id)===i}getSessionCookie(){return this.sessionCookie.get()}constructor(t,e,i,n){p(this,"clerk",void 0),p(this,"instanceType",void 0),p(this,"poller",void 0),p(this,"clientUat",void 0),p(this,"sessionCookie",void 0),p(this,"activeOrgCookie",void 0),p(this,"devBrowser",void 0),this.clerk=t,this.instanceType=n,this.poller=null,iP.on(iC.TokenUpdate,t=>{let{token:e}=t;this.updateSessionCookie(e&&e.getRawString()),this.setClientUatCookieForDevelopmentInstances()}),this.refreshTokenOnFocus(),this.startPollingForToken(),this.clientUat=sp(i),this.sessionCookie=sf(i),this.activeOrgCookie=si("clerk_active_org"),this.devBrowser=function(t){let{cookieSuffix:e,frontendApi:i,fapiClient:n}=t,s=s_(e);function r(){return s.get()}function a(t){s.set(t)}function o(){s.remove()}return{clear:function(){o()},setup:async function(){if(!t9(i))return;n.onBeforeRequest(t=>{let e=r();e&&(null==t?void 0:t.url)&&(t.url=ss(t.url,e))}),n.onAfterResponse((t,e)=>{var i;let n=null==e?void 0:null===(i=e.headers)||void 0===i?void 0:i.get("Clerk-Db-Jwt");n&&a(n)});let t=function(t){let e=sr(t);return sa(t).href!==t.href&&void 0!==globalThis.history&&globalThis.history.replaceState(null,"",sa(t)),e}(new URL(window.location.href));if(t){a(t);return}if(s.get())return;let e=n.buildUrl({path:"/dev_browser"}),o=await fetch(e.toString(),{method:"POST"});if(!o.ok){let t=Q((await o.json()).errors);t[0]?eF(t[0].longMessage):eF()}let l=await o.json();a(null==l?void 0:l.id)},getDevBrowserJWT:r,setDevBrowserJWT:a,removeDevBrowserJWT:o}}({frontendApi:t.frontendApi,fapiClient:e,cookieSuffix:i})}}class sS{async start(){this.isEnabled()&&(await this.challengeAndSend(),this.timers.setInterval(()=>{this.challengeAndSend()},this.intervalInMs()))}async challengeAndSend(){if(!(!this.clerk.client||this.clientBypass()))try{let t=await this.captchaChallenge.invisible({action:"heartbeat"});await this.clerk.client.__internal_sendCaptchaToken(t)}catch{}}isEnabled(){var t,e;return!!(null===(e=this.clerk.__unstable__environment)||void 0===e?void 0:null===(t=e.displayConfig)||void 0===t?void 0:t.captchaHeartbeat)}clientBypass(){var t;return null===(t=this.clerk.client)||void 0===t?void 0:t.captchaBypass}intervalInMs(){var t,e,i;return null!==(i=null===(e=this.clerk.__unstable__environment)||void 0===e?void 0:null===(t=e.displayConfig)||void 0===t?void 0:t.captchaHeartbeatIntervalMs)&&void 0!==i?i:6e5}constructor(t,e=new e9(t),i=iS()){p(this,"clerk",void 0),p(this,"captchaChallenge",void 0),p(this,"timers",void 0),this.clerk=t,this.captchaChallenge=e,this.timers=i}}let sk="__clerk_synced",sU="__clerk_satellite_url",sA={FORM_IDENTIFIER_NOT_FOUND:"form_identifier_not_found"},sO=["/client","/waitlist"];var sI=t=>{let{per:e,fpm:i}=t;if(!e||!i)return{permissions:[],featurePermissionMap:[]};let n=e.split(",").map(t=>t.trim()).reverse(),s=i.split(",").map(t=>Number.parseInt(t.trim(),10)).map(t=>t.toString(2).padStart(n.length,"0").split("").map(t=>Number.parseInt(t,10))).filter(Boolean);return{permissions:n,featurePermissionMap:s}},sC=t=>{var e,i,n,s,r,a,o,l;let c,h,d,u;let p=null!==(e=t.fva)&&void 0!==e?e:null,m=null!==(i=t.sts)&&void 0!==i?i:null;if(2===t.v){if(t.o){c=null===(n=t.o)||void 0===n?void 0:n.id,d=null===(s=t.o)||void 0===s?void 0:s.slg,(null===(r=t.o)||void 0===r?void 0:r.rol)&&(h="org:".concat(null===(l=t.o)||void 0===l?void 0:l.rol));let{org:e}=nl(t.fea),{permissions:i,featurePermissionMap:p}=sI({per:null===(a=t.o)||void 0===a?void 0:a.per,fpm:null===(o=t.o)||void 0===o?void 0:o.fpm});u=function(t){let{features:e,permissions:i,featurePermissionMap:n}=t;if(!e||!i||!n)return[];let s=[];for(let t=0;t<e.length;t++){let r=e[t];if(t>=n.length)continue;let a=n[t];if(a)for(let t=0;t<a.length;t++)1===a[t]&&s.push("org:".concat(r,":").concat(i[t]))}return s}({features:e,featurePermissionMap:p,permissions:i})}}else c=t.org_id,h=t.org_role,d=t.org_slug,u=t.org_permissions;return{sessionClaims:t,sessionId:t.sid,sessionStatus:m,actor:t.act,userId:t.sub,orgId:c,orgRole:h,orgSlug:d,orgPermissions:u,factorVerificationAge:p}};class sP{constructor(){p(this,"getPlans",async t=>{let{data:e}=await e8._fetch({path:"/commerce/products",method:"GET",search:{payerType:(null==t?void 0:t.subscriberType)||""}}),i=e.find(t=>t.is_default);return(null==i?void 0:i.plans.map(t=>new im(t)))||[]}),p(this,"getSubscriptions",async t=>{let{orgId:e,...i}=t;return await e8._fetch({path:e?"/organizations/".concat(e,"/subscriptions"):"/me/commerce/subscriptions",method:"GET",search:iZ(i)}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new iv(t))}})}),p(this,"startCheckout",async t=>{var e;let{orgId:i,...n}=t;return new ic(null===(e=await e8._fetch({path:i?"/organizations/".concat(i,"/commerce/checkouts"):"/me/commerce/checkouts",method:"POST",body:n}))||void 0===e?void 0:e.response,i)})}}class sT{get __experimental_billing(){return sT._billing||(sT._billing=new sP),sT._billing}constructor(){p(this,"initializePaymentSource",async t=>{var e;let{orgId:i,...n}=t;return new ip(null===(e=await e8._fetch({path:i?"/organizations/".concat(i,"/commerce/payment_sources/initialize"):"/me/commerce/payment_sources/initialize",method:"POST",body:n}))||void 0===e?void 0:e.response)}),p(this,"addPaymentSource",async t=>{var e;let{orgId:i,...n}=t;return new iu(null===(e=await e8._fetch({path:i?"/organizations/".concat(i,"/commerce/payment_sources"):"/me/commerce/payment_sources",method:"POST",body:n}))||void 0===e?void 0:e.response)}),p(this,"getPaymentSources",async t=>{let{orgId:e,...i}=t;return await e8._fetch({path:e?"/organizations/".concat(e,"/commerce/payment_sources"):"/me/commerce/payment_sources",method:"GET",search:iZ(i)}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new iu(t))}})})}}p(sT,"_billing",void 0);let sE={org:"add-organization"};function sx(t,e){let{componentNavigationContext:i,globalNavigate:n,options:s,environment:r}=e,a="/tasks/".concat(sE[t]);if(i)return i.navigate(i.indexPath+a);let o=s.signInUrl||r.displayConfig.signInUrl,l=s.signUpUrl||r.displayConfig.signUpUrl;return n(et({base:window.location.href.startsWith(l)?l:o,hashPath:a},{stringify:!0}))}let sR=t=>"\uD83D\uDD12 Clerk:\n".concat(t.trim(),"\n(This notice only appears in development)"),sM={cannotRenderComponentWhenSessionExists:"The <SignUp/> and <SignIn/> components cannot render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, Clerk is redirecting to the Home URL instead.",cannotRenderSignUpComponentWhenSessionExists:"The <SignUp/> component cannot render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, Clerk is redirecting to the value set in `afterSignUp` URL instead.",cannotRenderSignUpComponentWhenTaskExists:"The <SignUp/> component cannot render when a user has a pending task, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, Clerk is redirecting to the task instead.",cannotRenderSignInComponentWhenSessionExists:"The <SignIn/> component cannot render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, Clerk is redirecting to the `afterSignIn` URL instead.",cannotRenderSignInComponentWhenTaskExists:"The <SignIn/> component cannot render when a user has a pending task, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, Clerk is redirecting to the task instead.",cannotRenderComponentWhenUserDoesNotExist:"<UserProfile/> cannot render unless a user is signed in. Since no user is signed in, this is no-op.",cannotRenderComponentWhenOrgDoesNotExist:"<OrganizationProfile/> cannot render unless an organization is active. Since no organization is currently active, this is no-op.",cannotRenderAnyOrganizationComponent:t=>sR("The <".concat(t,"/> cannot be rendered when the feature is turned off. Visit 'dashboard.clerk.com' to enable the feature. Since the feature is turned off, this is no-op.")),cannotRenderAnyCommerceComponent:t=>sR("The <".concat(t,"/> component cannot be rendered when commerce is disabled. Visit 'https://dashboard.clerk.com/last-active?path=commerce/settings' to follow the necessary steps to enable commerce. Since commerce is disabled, this is no-op.")),cannotOpenUserProfile:"The UserProfile modal cannot render unless a user is signed in. Since no user is signed in, this is no-op.",cannotOpenSignInOrSignUp:"The SignIn or SignUp modals do not render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, this is no-op."};for(let t of Object.keys(sM)){let e=sM[t];"function"!=typeof e&&(sM[t]=sR(e))}let sz={polling:!0,standardBrowser:!0,touchSession:!0,isSatellite:!1,signInUrl:void 0,signUpUrl:void 0,afterSignOutUrl:void 0,signInFallbackRedirectUrl:void 0,signUpFallbackRedirectUrl:void 0,signInForceRedirectUrl:void 0,signUpForceRedirectUrl:void 0,treatPendingAsSignedOut:!0};var sN=new WeakMap,sW=new WeakMap,sF=new WeakMap,sD=new WeakMap,sL=new WeakMap,sj=new WeakMap,sJ=new WeakMap,sV=new WeakMap,sK=new WeakMap,sB=new WeakMap,sq=new WeakMap,sG=new WeakMap,sH=new WeakMap,s$=new WeakMap,sY=new WeakMap,sX=new WeakMap,sZ=new WeakSet,sQ=new WeakMap,s0=new WeakMap,s1=new WeakMap,s3=new WeakMap,s2=new WeakMap,s4=new WeakMap,s6=new WeakMap,s5=new WeakMap,s9=new WeakMap,s7=new WeakMap,s8=new WeakMap,rt=new WeakMap,re=new WeakMap,ri=new WeakMap,rn=new WeakMap,rs=new WeakMap,rr=new WeakMap,ra=new WeakMap,ro=new WeakMap,rl=new WeakMap,rc=new WeakMap,rh=new WeakMap,rd=new WeakMap,ru=new WeakMap,rp=new WeakMap,rm=new WeakMap,rf=new WeakMap;class rv{get publishableKey(){return a(this,sN)}get version(){return rv.version}set sdkMetadata(t){rv.sdkMetadata=t}get sdkMetadata(){return rv.sdkMetadata}get loaded(){return a(this,sB)}get isSatellite(){return!!ed()&&tN(a(this,sH).isSatellite,new URL(window.location.href),!1)}get domain(){if(ed()){let t=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(t||"").replace(/^.+:\/\//,"")}(tN(a(this,sW),new URL(window.location.href)));return"production"===a(this,sK)?function(t){let e;if(!t)return"";if(t.match(/^(clerk\.)+\w*$/))e=/(clerk\.)*(?=clerk\.)/;else{if(t.match(/\.clerk.accounts/))return t;e=/^(clerk\.)*/gi}let i=t.replace(e,"");return"clerk.".concat(i)}(t):t}return""}get proxyUrl(){if(ed()){let t=tN(a(this,sF),new URL(window.location.href));return!(!t||tb(t)||ty(t))&&tX.throwInvalidProxyUrl({url:t}),t?ty(t)?new URL(t,window.location.origin).toString():t:""}return""}get frontendApi(){let t=tp(this.publishableKey);return t?t.frontendApi:tX.throwInvalidPublishableKeyError({key:this.publishableKey})}get instanceType(){return a(this,sK)}get isStandardBrowser(){return a(this,sH).standardBrowser||!1}get __experimental_commerce(){var t;if(!(null===(t=a(this,sH).experimental)||void 0===t?void 0:t.commerce))throw Error("Clerk: commerce functionality is currently in an experimental state. To enable, pass `experimental.commerce = true`.");return rv._commerce||(rv._commerce=new sT),rv._commerce}__internal_getOption(t){return a(this,sH)[t]}get isSignedIn(){var t;let{treatPendingAsSignedOut:e}=a(this,sH),i=(null===this||void 0===this?void 0:null===(t=this.session)||void 0===t?void 0:t.status)==="pending";return(!e||!i)&&!!this.session}buildUrlWithAuth(t){if("production"===a(this,sK))return t;let e=new URL(t,window.location.origin);return e.origin!==window.location.origin&&a(this,sD)?a(this,sD).decorateUrlWithDevBrowserToken(e).href:e.href}buildSignInUrl(t){return a(this,rd).call(this,"signInUrl",{...t,redirectUrl:(null==t?void 0:t.redirectUrl)||window.location.href},null==t?void 0:t.initialValues)}buildSignUpUrl(t){return a(this,rd).call(this,"signUpUrl",{...t,redirectUrl:(null==t?void 0:t.redirectUrl)||window.location.href},null==t?void 0:t.initialValues)}buildUserProfileUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.userProfileUrl):""}buildHomeUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.homeUrl):""}buildAfterSignInUrl(){let{params:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buildUrlWithAuth(new n3(a(this,sH),{},t).getAfterSignInUrl())}buildAfterSignUpUrl(){let{params:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buildUrlWithAuth(new n3(a(this,sH),{},t).getAfterSignUpUrl())}buildAfterSignOutUrl(){return a(this,sH).afterSignOutUrl?this.buildUrlWithAuth(a(this,sH).afterSignOutUrl):"/"}buildWaitlistUrl(t){return this.environment&&this.environment.displayConfig?et({base:a(this,sH).waitlistUrl||this.environment.displayConfig.waitlistUrl,hashSearchParams:[new URLSearchParams((null==t?void 0:t.initialValues)||{})]},{stringify:!0}):""}buildAfterMultiSessionSingleSignOutUrl(){if(!a(this,sH).afterMultiSessionSingleSignOutUrl){var t;return this.buildUrlWithAuth(et({base:a(this,sH).signInUrl?"".concat(a(this,sH).signInUrl,"/choose"):null===(t=this.environment)||void 0===t?void 0:t.displayConfig.afterSignOutOneUrl},{stringify:!0}))}return this.buildUrlWithAuth(a(this,sH).afterMultiSessionSingleSignOutUrl)}buildCreateOrganizationUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.createOrganizationUrl):""}buildOrganizationProfileUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.organizationProfileUrl):""}updateEnvironment(t){this.environment=t}get __internal_last_error(){let t=this.internal_last_error;return this.internal_last_error=null,t}set __internal_last_error(t){this.internal_last_error=t}get __unstable__environment(){return this.environment}__internal_navigateWithError(t,e){return this.__internal_last_error=e,this.navigate(t)}assertComponentsReady(t){if(!rv.mountComponentRenderer)throw Error("ClerkJS was loaded without UI components.");if(!t)throw Error("ClerkJS components are not ready yet.")}constructor(t,e){var i=this;if(u(this,sZ),l(this,rf,{get:rg,set:void 0}),p(this,"client",void 0),p(this,"session",void 0),p(this,"organization",void 0),p(this,"user",void 0),p(this,"__internal_country",void 0),p(this,"telemetry",void 0),p(this,"internal_last_error",null),p(this,"environment",void 0),l(this,sN,{writable:!0,value:""}),l(this,sW,{writable:!0,value:void 0}),l(this,sF,{writable:!0,value:void 0}),l(this,sD,{writable:!0,value:void 0}),l(this,sL,{writable:!0,value:void 0}),l(this,sj,{writable:!0,value:null}),l(this,sJ,{writable:!0,value:void 0}),l(this,sV,{writable:!0,value:void 0}),l(this,sK,{writable:!0,value:void 0}),l(this,sB,{writable:!0,value:!1}),l(this,sq,{writable:!0,value:[]}),l(this,sG,{writable:!0,value:[]}),l(this,sH,{writable:!0,value:{}}),l(this,s$,{writable:!0,value:null}),l(this,sY,{writable:!0,value:0}),l(this,sX,{writable:!0,value:null}),p(this,"__internal_getCachedResources",void 0),p(this,"__internal_createPublicCredentials",void 0),p(this,"__internal_getPublicCredentials",void 0),p(this,"__internal_isWebAuthnSupported",void 0),p(this,"__internal_isWebAuthnAutofillSupported",void 0),p(this,"__internal_isWebAuthnPlatformAuthenticatorSupported",void 0),p(this,"__internal_setActiveInProgress",!1),p(this,"getFapiClient",()=>a(this,sV)),p(this,"load",async t=>{!this.loaded&&("development"===a(this,sK)&&tw.warnOnce("Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview"),h(this,sH,a(this,rp).call(this,t)),iP.on(iC.SessionTokenResolved,()=>{a(this,ro).call(this,this.session),a(this,rn).call(this)}),ex(a(this,sH)),a(this,sH).sdkMetadata&&(rv.sdkMetadata=a(this,sH).sdkMetadata),!1!==a(this,sH).telemetry&&(this.telemetry=new tP({clerkVersion:rv.version,samplingRate:1,publishableKey:this.publishableKey,...a(this,sH).telemetry})),a(this,sH).standardBrowser?h(this,sB,await a(this,s7).call(this)):h(this,sB,await a(this,s8).call(this)))}),p(this,"signOut",async(t,e)=>{var i,n,s;if(!this.client||0===this.client.sessions.length)return;let r="undefined"!=typeof window&&"function"==typeof window.__unstable__onBeforeSetActive?window.__unstable__onBeforeSetActive:tz,o="undefined"!=typeof window&&"function"==typeof window.__unstable__onAfterSetActive?window.__unstable__onAfterSetActive:tz,l=t&&"object"==typeof t?t:e||{},c=(null==l?void 0:l.redirectUrl)||this.buildAfterSignOutUrl(),h="function"==typeof t?t:void 0,d=async()=>{let t=tj(a(this,sH).standardBrowser);iP.emit(iC.UserSignOut,null),iP.emit(iC.TokenUpdate,{token:null}),a(this,rr).call(this),await t.track(async()=>{h?await h():await this.navigate(c)}),!t.isUnloading()&&(a(this,ro).call(this),a(this,rn).call(this),await o())};if(await r(),!l.sessionId||1===this.client.signedInSessions.length){null===(s=null===(n=a(this,sH).experimental)||void 0===n?void 0:n.persistClient)||void 0===s||s?await this.client.removeSessions():await this.client.destroy(),await d();return}let u=this.client.signedInSessions.find(t=>t.id===l.sessionId),p=(null==u?void 0:u.id)&&(null===(i=this.session)||void 0===i?void 0:i.id)===u.id;await (null==u?void 0:u.remove()),p&&await d()}),p(this,"openGoogleOneTap",t=>{var e;this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted({preloadHint:"GoogleOneTap"}).then(e=>e.openModal("googleOneTap",t||{})),null===(e=this.telemetry)||void 0===e||e.record(tx("GoogleOneTap",t))}),p(this,"closeGoogleOneTap",()=>{this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted().then(t=>t.closeModal("googleOneTap"))}),p(this,"openSignIn",t=>{var e,i;if(this.assertComponentsReady(a(this,sJ)),tB(this,this.environment)){if("development"===a(this,sK))throw new ti(sM.cannotOpenSignInOrSignUp,{code:"cannot_render_single_session_enabled"});return}a(this,sJ).ensureMounted({preloadHint:"SignIn"}).then(e=>e.openModal("signIn",t||{}));let n={withSignUp:null!==(i=null==t?void 0:t.withSignUp)&&void 0!==i?i:d(this,sZ,r_).call(this)};null===(e=this.telemetry)||void 0===e||e.record(tx("SignIn",t,n))}),p(this,"closeSignIn",()=>{this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted().then(t=>t.closeModal("signIn"))}),p(this,"__internal_openCheckout",t=>{this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted({preloadHint:"Checkout"}).then(e=>e.openDrawer("checkout",t||{}))}),p(this,"__internal_closeCheckout",()=>{this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted().then(t=>t.closeDrawer("checkout"))}),p(this,"__internal_openReverification",t=>{var e;if(this.assertComponentsReady(a(this,sJ)),tq(this)){if("development"===a(this,sK))throw new ti(sM.cannotOpenUserProfile,{code:"cannot_render_user_missing"});return}a(this,sJ).ensureMounted({preloadHint:"UserVerification"}).then(e=>e.openModal("userVerification",t||{})),null===(e=this.telemetry)||void 0===e||e.record(tx("UserVerification",t))}),p(this,"__internal_closeReverification",()=>{this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted().then(t=>t.closeModal("userVerification"))}),p(this,"__internal_openBlankCaptchaModal",()=>(this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted({preloadHint:"BlankCaptchaModal"}).then(t=>t.openModal("blankCaptcha",{})))),p(this,"__internal_closeBlankCaptchaModal",()=>(this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted({preloadHint:"BlankCaptchaModal"}).then(t=>t.closeModal("blankCaptcha")))),p(this,"openSignUp",t=>{var e;if(this.assertComponentsReady(a(this,sJ)),tB(this,this.environment)){if("development"===a(this,sK))throw new ti(sM.cannotOpenSignInOrSignUp,{code:"cannot_render_single_session_enabled"});return}a(this,sJ).ensureMounted({preloadHint:"SignUp"}).then(e=>e.openModal("signUp",t||{})),null===(e=this.telemetry)||void 0===e||e.record(tx("SignUp",t))}),p(this,"closeSignUp",()=>{this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted().then(t=>t.closeModal("signUp"))}),p(this,"openUserProfile",t=>{var e,i;if(this.assertComponentsReady(a(this,sJ)),tq(this)){if("development"===a(this,sK))throw new ti(sM.cannotOpenUserProfile,{code:"cannot_render_user_missing"});return}a(this,sJ).ensureMounted({preloadHint:"UserProfile"}).then(e=>e.openModal("userProfile",t||{}));let n=(null==t?void 0:null===(e=t.customPages)||void 0===e?void 0:e.length)?{customPages:!0}:void 0;null===(i=this.telemetry)||void 0===i||i.record(tx("UserProfile",t,n))}),p(this,"closeUserProfile",()=>{this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted().then(t=>t.closeModal("userProfile"))}),p(this,"openOrganizationProfile",t=>{var e;if(this.assertComponentsReady(a(this,sJ)),tH(this,this.environment)){if("development"===a(this,sK))throw new ti(sM.cannotRenderAnyOrganizationComponent("OrganizationProfile"),{code:"cannot_render_organizations_disabled"});return}if(tG(this)){if("development"===a(this,sK))throw new ti(sM.cannotRenderComponentWhenOrgDoesNotExist,{code:"cannot_render_organization_missing"});return}a(this,sJ).ensureMounted({preloadHint:"OrganizationProfile"}).then(e=>e.openModal("organizationProfile",t||{})),null===(e=this.telemetry)||void 0===e||e.record(tx("OrganizationProfile",t))}),p(this,"closeOrganizationProfile",()=>{this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted().then(t=>t.closeModal("organizationProfile"))}),p(this,"openCreateOrganization",t=>{var e;if(this.assertComponentsReady(a(this,sJ)),tH(this,this.environment)){if("development"===a(this,sK))throw new ti(sM.cannotRenderAnyOrganizationComponent("CreateOrganization"),{code:"cannot_render_organizations_disabled"});return}a(this,sJ).ensureMounted({preloadHint:"CreateOrganization"}).then(e=>e.openModal("createOrganization",t||{})),null===(e=this.telemetry)||void 0===e||e.record(tx("CreateOrganization",t))}),p(this,"closeCreateOrganization",()=>{this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted().then(t=>t.closeModal("createOrganization"))}),p(this,"openWaitlist",t=>{var e;this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted({preloadHint:"Waitlist"}).then(e=>e.openModal("waitlist",t||{})),null===(e=this.telemetry)||void 0===e||e.record(tx("Waitlist",t))}),p(this,"closeWaitlist",()=>{this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted().then(t=>t.closeModal("waitlist"))}),p(this,"mountSignIn",(t,e)=>{var i,n;this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted({preloadHint:"SignIn"}).then(i=>i.mountComponent({name:"SignIn",appearanceKey:"signIn",node:t,props:e}));let s={withSignUp:null!==(n=null==e?void 0:e.withSignUp)&&void 0!==n?n:d(this,sZ,r_).call(this)};null===(i=this.telemetry)||void 0===i||i.record(tE("SignIn",e,s))}),p(this,"unmountSignIn",t=>{this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountSignUp",(t,e)=>{var i;this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted({preloadHint:"SignUp"}).then(i=>i.mountComponent({name:"SignUp",appearanceKey:"signUp",node:t,props:e})),null===(i=this.telemetry)||void 0===i||i.record(tE("SignUp",e))}),p(this,"unmountSignUp",t=>{this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountUserProfile",(t,e)=>{var i,n;if(this.assertComponentsReady(a(this,sJ)),tq(this)){if("development"===a(this,sK))throw new ti(sM.cannotRenderComponentWhenUserDoesNotExist,{code:"cannot_render_user_missing"});return}a(this,sJ).ensureMounted({preloadHint:"UserProfile"}).then(i=>i.mountComponent({name:"UserProfile",appearanceKey:"userProfile",node:t,props:e}));let s=(null==e?void 0:null===(i=e.customPages)||void 0===i?void 0:i.length)?{customPages:!0}:void 0;null===(n=this.telemetry)||void 0===n||n.record(tE("UserProfile",e,s))}),p(this,"unmountUserProfile",t=>{this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountOrganizationProfile",(t,e)=>{var i;if(this.assertComponentsReady(a(this,sJ)),tH(this,this.environment)){if("development"===a(this,sK))throw new ti(sM.cannotRenderAnyOrganizationComponent("OrganizationProfile"),{code:"cannot_render_organizations_disabled"});return}let n=!tq(this);if(tG(this)&&n){if("development"===a(this,sK))throw new ti(sM.cannotRenderComponentWhenOrgDoesNotExist,{code:"cannot_render_organization_missing"});return}a(this,sJ).ensureMounted({preloadHint:"OrganizationProfile"}).then(i=>i.mountComponent({name:"OrganizationProfile",appearanceKey:"userProfile",node:t,props:e})),null===(i=this.telemetry)||void 0===i||i.record(tE("OrganizationProfile",e))}),p(this,"unmountOrganizationProfile",t=>{this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountCreateOrganization",(t,e)=>{var i,n;if(this.assertComponentsReady(a(this,sJ)),tH(this,this.environment)){if("development"===a(this,sK))throw new ti(sM.cannotRenderAnyOrganizationComponent("CreateOrganization"),{code:"cannot_render_organizations_disabled"});return}null===(i=a(this,sJ))||void 0===i||i.ensureMounted({preloadHint:"CreateOrganization"}).then(i=>i.mountComponent({name:"CreateOrganization",appearanceKey:"createOrganization",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(tE("CreateOrganization",e))}),p(this,"unmountCreateOrganization",t=>{var e;this.assertComponentsReady(a(this,sJ)),null===(e=a(this,sJ))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountOrganizationSwitcher",(t,e)=>{var i,n,s;if(this.assertComponentsReady(a(this,sJ)),tH(this,this.environment)){if("development"===a(this,sK))throw new ti(sM.cannotRenderAnyOrganizationComponent("OrganizationSwitcher"),{code:"cannot_render_organizations_disabled"});return}null===(i=a(this,sJ))||void 0===i||i.ensureMounted({preloadHint:"OrganizationSwitcher"}).then(i=>i.mountComponent({name:"OrganizationSwitcher",appearanceKey:"organizationSwitcher",node:t,props:e})),null===(s=this.telemetry)||void 0===s||s.record(tE("OrganizationSwitcher",{...e,forceOrganizationSelection:null===(n=this.environment)||void 0===n?void 0:n.organizationSettings.forceOrganizationSelection}))}),p(this,"unmountOrganizationSwitcher",t=>{var e;this.assertComponentsReady(a(this,sJ)),null===(e=a(this,sJ))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"__experimental_prefetchOrganizationSwitcher",()=>{var t;this.assertComponentsReady(a(this,sJ)),null===(t=a(this,sJ))||void 0===t||t.ensureMounted({preloadHint:"OrganizationSwitcher"}).then(t=>t.prefetch("organizationSwitcher"))}),p(this,"mountOrganizationList",(t,e)=>{var i,n,s;if(this.assertComponentsReady(a(this,sJ)),tH(this,this.environment)){if("development"===a(this,sK))throw new ti(sM.cannotRenderAnyOrganizationComponent("OrganizationList"),{code:"cannot_render_organizations_disabled"});return}null===(i=a(this,sJ))||void 0===i||i.ensureMounted({preloadHint:"OrganizationList"}).then(i=>i.mountComponent({name:"OrganizationList",appearanceKey:"organizationList",node:t,props:e})),null===(s=this.telemetry)||void 0===s||s.record(tE("OrganizationList",{...e,forceOrganizationSelection:null===(n=this.environment)||void 0===n?void 0:n.organizationSettings.forceOrganizationSelection}))}),p(this,"unmountOrganizationList",t=>{var e;this.assertComponentsReady(a(this,sJ)),null===(e=a(this,sJ))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountUserButton",(t,e)=>{var i,n,s;this.assertComponentsReady(a(this,sJ)),null===(i=a(this,sJ))||void 0===i||i.ensureMounted({preloadHint:"UserButton"}).then(i=>i.mountComponent({name:"UserButton",appearanceKey:"userButton",node:t,props:e}));let r={...(null==e?void 0:null===(n=e.customMenuItems)||void 0===n?void 0:n.length)?{customItems:!0}:void 0,...(null==e?void 0:e.__experimental_asStandalone)?{standalone:!0}:void 0};null===(s=this.telemetry)||void 0===s||s.record(tE("UserButton",e,r))}),p(this,"unmountUserButton",t=>{var e;this.assertComponentsReady(a(this,sJ)),null===(e=a(this,sJ))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountWaitlist",(t,e)=>{var i,n;this.assertComponentsReady(a(this,sJ)),null===(i=a(this,sJ))||void 0===i||i.ensureMounted({preloadHint:"Waitlist"}).then(i=>i.mountComponent({name:"Waitlist",appearanceKey:"waitlist",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(tE("Waitlist",e))}),p(this,"unmountWaitlist",t=>{var e;this.assertComponentsReady(a(this,sJ)),null===(e=a(this,sJ))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"__experimental_mountPricingTable",(t,e)=>{var i;if(this.assertComponentsReady(a(this,sJ)),t$(this,this.environment)){if("development"===a(this,sK))throw new ti(sM.cannotRenderAnyCommerceComponent("PricingTable"),{code:"cannot_render_commerce_disabled"});return}a(this,sJ).ensureMounted({preloadHint:"PricingTable"}).then(i=>i.mountComponent({name:"PricingTable",appearanceKey:"pricingTable",node:t,props:e})),null===(i=this.telemetry)||void 0===i||i.record(tE("PricingTable",e))}),p(this,"__experimental_unmountPricingTable",t=>{this.assertComponentsReady(a(this,sJ)),a(this,sJ).ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"setActive",async t=>{let{session:e,organization:i,beforeEmit:n,redirectUrl:s}=t;this.__internal_setActiveInProgress=!0;try{if(!this.client)throw Error("setActive is being called before the client is loaded. Wait for init.");if(void 0===e&&!this.session)throw Error("setActive should either be called with a session param or there should be already an active session.");let t="undefined"!=typeof window&&"function"==typeof window.__unstable__onBeforeSetActive?window.__unstable__onBeforeSetActive:tz,r="undefined"!=typeof window&&"function"==typeof window.__unstable__onAfterSetActive?window.__unstable__onAfterSetActive:tz;"string"==typeof e&&(e=this.client.sessions.find(t=>t.id===e)||null);let o=void 0===e?this.session:e,l=void 0!==i;if(o&&l){let t="string"==typeof i?i:null==i?void 0:i.id;if("string"==typeof t&&t.startsWith("org_"))o.lastActiveOrganizationId=t||null;else{let e=o.user.organizationMemberships.find(e=>e.organization.slug===t);o.lastActiveOrganizationId=(null==e?void 0:e.organization.id)||null}}if((null==o?void 0:o.status)==="pending"){await a(this,sQ).call(this,o);return}(null==e?void 0:e.lastActiveToken)&&iP.emit(iC.TokenUpdate,{token:e.lastActiveToken}),await t(null===o?"sign-out":void 0),(eu()||!a(this,sH).standardBrowser)&&(await a(this,ri).call(this,o),o=a(this,rl).call(this,null==o?void 0:o.id)),await (null==o?void 0:o.getToken())||iP.emit(iC.TokenUpdate,{token:null});let c=tj(a(this,sH).standardBrowser);if(n&&($("Clerk.setActive({beforeEmit})",'Use the `redirectUrl` property instead. Example `Clerk.setActive({redirectUrl:"/"})`'),await c.track(async()=>{a(this,rr).call(this),await n(o)})),s&&!n&&await c.track(async()=>{if(this.client){if(a(this,rr).call(this),this.client.isEligibleForTouch()){let t=new URL(s,window.location.href);await this.navigate(this.buildUrlWithAuth(this.client.buildTouchUrl({redirectUrl:t})))}else await this.navigate(s)}}),c.isUnloading())return;a(this,ro).call(this,o),a(this,rn).call(this),await r()}finally{this.__internal_setActiveInProgress=!1}}),l(this,sQ,{writable:!0,value:async t=>{if(!this.environment)return;let e=t;if(eu()||!a(this,sH).standardBrowser){var i;await a(this,ri).call(this,t),e=null!==(i=a(this,rl).call(this,t.id))&&void 0!==i?i:t}await t.getToken()||iP.emit(iC.TokenUpdate,{token:null}),(null==e?void 0:e.currentTask)&&a(this,sX)&&await sx(t.currentTask.key,{options:a(this,sH),environment:this.environment,globalNavigate:this.navigate,componentNavigationContext:a(this,sX)}),a(this,ro).call(this,t),a(this,rn).call(this)}}),p(this,"__experimental_nextTask",async function(){var t,e;let{redirectUrlComplete:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=await (null===(t=i.session)||void 0===t?void 0:t.reload());if(!s||!i.environment)return;if("pending"===s.status){await sx(s.currentTask.key,{options:a(i,sH),environment:i.environment,globalNavigate:i.navigate,componentNavigationContext:a(i,sX)});return}let r=tj(a(i,sH).standardBrowser),o=(null===(e=i.client)||void 0===e||e.signUp,i.buildAfterSignUpUrl());a(i,rr).call(i),await r.track(async()=>{await i.navigate(null!=n?n:o)}),!r.isUnloading()&&(a(i,ro).call(i,s),a(i,rn).call(i))}),p(this,"addListener",t=>{var e;let i;return e=t,t=t=>{var n;i||(i={...t}),e(i={client:nK((n=i).client,t.client),session:nK(n.session,t.session),user:nK(n.user,t.user),organization:nK(n.organization,t.organization)})},a(this,sq).push(t),this.client&&t({client:this.client,session:this.session,user:this.user,organization:this.organization}),()=>{h(this,sq,a(this,sq).filter(e=>e!==t))}}),p(this,"__internal_addNavigationListener",t=>(a(this,sG).push(t),()=>{h(this,sG,a(this,sG).filter(e=>e!==t))})),p(this,"__internal_setComponentNavigationContext",t=>(h(this,sX,t),()=>h(this,sX,null))),p(this,"navigate",async(t,e)=>{var i;if(!t||!ed())return;setTimeout(()=>{a(this,rs).call(this)},0);let n=new URL(t,window.location.href);a(this,rf).includes(n.protocol)||(console.warn('Clerk: "'.concat(n.protocol,'" is not a valid protocol. Redirecting to "/" instead. If you think this is a mistake, please open an issue.')),n=new URL("/",window.location.href));let s=(null==e?void 0:e.replace)&&a(this,sH).routerReplace?a(this,sH).routerReplace:a(this,sH).routerPush;if(a(this,sH).routerDebug&&console.log("Clerk is navigating to: ".concat(n)),"null"!==n.origin&&n.origin!==window.location.origin||!s){tD(n);return}let r={...(null==e?void 0:e.metadata)?{__internal_metadata:null==e?void 0:e.metadata}:{},windowNavigate:tD};return await s((i=new URL((i=n).toString(),window.location.origin)).href.replace(i.origin,""),r)}),l(this,s0,{writable:!0,value:async()=>{if(!ed())return;let t=new URLSearchParams({[sk]:"true"}),e=tZ(sU);e&&tb(e)||function(){throw Error("".concat(eW," Invalid redirect_url. A valid http or https url should be used for the redirection."))}();let i=et({base:tZ(sU),searchParams:t},{stringify:!0});return this.navigate(this.buildUrlWithAuth(i))}}),p(this,"redirectWithAuth",async t=>{if(ed())return this.navigate(this.buildUrlWithAuth(t))}),p(this,"redirectToSignIn",async t=>{if(ed())return this.navigate(this.buildSignInUrl(t))}),p(this,"redirectToSignUp",async t=>{if(ed())return this.navigate(this.buildSignUpUrl(t))}),p(this,"redirectToUserProfile",async()=>{if(ed())return this.navigate(this.buildUserProfileUrl())}),p(this,"redirectToCreateOrganization",async()=>{if(ed())return this.navigate(this.buildCreateOrganizationUrl())}),p(this,"redirectToOrganizationProfile",async()=>{if(ed())return this.navigate(this.buildOrganizationProfileUrl())}),p(this,"redirectToAfterSignIn",async()=>{if(ed())return this.navigate(this.buildAfterSignInUrl())}),p(this,"redirectToAfterSignUp",async()=>{if(ed())return this.navigate(this.buildAfterSignUpUrl())}),p(this,"redirectToAfterSignOut",async()=>{if(ed())return this.navigate(this.buildAfterSignOutUrl())}),p(this,"redirectToWaitlist",async()=>{if(ed())return this.navigate(this.buildWaitlistUrl())}),p(this,"handleEmailLinkVerification",async(t,e)=>{if(!this.client)return;let i=tZ("__clerk_status");if("expired"===i)throw new tn(ts.Expired);if("client_mismatch"===i)throw new tn(ts.ClientMismatch);if("verified"!==i)throw new tn(ts.Failed);let n=tZ("__clerk_created_session"),{signIn:s,signUp:r,sessions:a}=this.client,o=a.some(t=>t.id===n),l="needs_second_factor"===s.status||"missing_requirements"===r.status,c=t=>e&&"function"==typeof e?e(t):this.navigate(t),h=t.redirectUrl?()=>c(t.redirectUrl):tz;return o?this.setActive({session:n,redirectUrl:t.redirectUrlComplete}):l?h():("function"==typeof t.onVerifiedOnOtherDevice&&t.onVerifiedOnOtherDevice(),null)}),p(this,"handleGoogleOneTapCallback",async(t,e,i)=>{if(!this.loaded||!this.environment||!this.client)return;let{signIn:n,signUp:s}=this.client,r="identifier"in(t||{})?t:n,a="missingFields"in(t||{})?t:s;return this._handleRedirectCallback(e,{signUp:a,signIn:r,navigate:t=>i&&"function"==typeof i?i(this.buildUrlWithAuth(t)):this.navigate(this.buildUrlWithAuth(t))})}),p(this,"_handleRedirectCallback",async(t,e)=>{var i,n,s,r,o,l,c;let{signIn:h,signUp:d,navigate:u}=e;if(!this.loaded||!this.environment||!this.client)return;if(!window.opener&&t.reloadResource)try{"signIn"===t.reloadResource?await h.reload():"signUp"===t.reloadResource&&await d.reload()}catch{}let{displayConfig:p}=this.environment,{firstFactorVerification:m}=h,{externalAccount:f}=d.verifications,v={status:d.status,missingFields:d.missingFields,externalAccountStatus:f.status,externalAccountErrorCode:null===(i=f.error)||void 0===i?void 0:i.code,externalAccountSessionId:null===(s=f.error)||void 0===s?void 0:null===(n=s.meta)||void 0===n?void 0:n.sessionId,sessionId:d.createdSessionId},_={status:h.status,firstFactorVerificationStatus:m.status,firstFactorVerificationErrorCode:null===(r=m.error)||void 0===r?void 0:r.code,firstFactorVerificationSessionId:null===(l=m.error)||void 0===l?void 0:null===(o=l.meta)||void 0===o?void 0:o.sessionId,sessionId:h.createdSessionId},g=t=>()=>u(t),w=g(t.signInUrl||p.signInUrl),b=g(t.signUpUrl||p.signUpUrl),y=g(t.firstFactorUrl||et({base:p.signInUrl,hashPath:"/factor-one"},{stringify:!0})),S=g(t.secondFactorUrl||et({base:p.signInUrl,hashPath:"/factor-two"},{stringify:!0})),k=g(t.resetPasswordUrl||et({base:p.signInUrl,hashPath:"/reset-password"},{stringify:!0})),U=new n3(a(this,sH),t),A=g(t.continueSignUpUrl||et({base:p.signUpUrl,hashPath:"/continue"},{stringify:!0})),O=e=>{let{missingFields:i}=e;return i.length?A():tK({signUp:d,verifyEmailPath:t.verifyEmailAddressUrl||et({base:p.signUpUrl,hashPath:"/verify-email-address"},{stringify:!0}),verifyPhonePath:t.verifyPhoneNumberUrl||et({base:p.signUpUrl,hashPath:"/verify-phone-number"},{stringify:!0}),navigate:u})};if("complete"===_.status)return this.setActive({session:_.sessionId,redirectUrl:U.getAfterSignInUrl()});if("transferable"===v.externalAccountStatus&&"external_account_exists"===v.externalAccountErrorCode){let t=await h.create({transfer:!0});switch(t.status){case"complete":return this.setActive({session:t.createdSessionId,redirectUrl:U.getAfterSignInUrl()});case"needs_first_factor":return y();case"needs_second_factor":return S();case"needs_new_password":return k();default:eD("sign in")}}let I="user_locked"===v.externalAccountErrorCode,C="user_locked"===_.firstFactorVerificationErrorCode;if(I)return b();if(C)return w();if("needs_first_factor"===_.status&&!(null===(c=h.supportedFirstFactors)||void 0===c?void 0:c.every(t=>"enterprise_sso"===t.strategy)))return y();if("needs_new_password"===_.status)return k();if("transferable"===_.firstFactorVerificationStatus){if(!1===t.transferable)return w();let e=await d.create({transfer:!0});switch(e.status){case"complete":return this.setActive({session:e.createdSessionId,redirectUrl:U.getAfterSignUpUrl()});case"missing_requirements":return O({missingFields:e.missingFields});default:eD("sign in")}}if("complete"===v.status)return this.setActive({session:v.sessionId,redirectUrl:U.getAfterSignUpUrl()});if("needs_second_factor"===_.status)return S();let P=("failed"===v.externalAccountStatus||"unverified"===v.externalAccountStatus)&&"identifier_already_signed_in"===v.externalAccountErrorCode&&v.externalAccountSessionId,T="failed"===_.firstFactorVerificationStatus&&"identifier_already_signed_in"===_.firstFactorVerificationErrorCode&&_.firstFactorVerificationSessionId;if(P||T){let t=_.firstFactorVerificationSessionId||v.externalAccountSessionId;if(t)return this.setActive({session:t,redirectUrl:U.getAfterSignInUrl()})}return ei(d)?b():"verified"===v.externalAccountStatus&&"missing_requirements"===v.status?O({missingFields:d.missingFields}):w()}),p(this,"handleRedirectCallback",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(!i.loaded||!i.environment||!i.client)return;let{signIn:n,signUp:s}=i.client;return i._handleRedirectCallback(t,{signUp:s,signIn:n,navigate:t=>e&&"function"==typeof e?e(t):i.navigate(t)})}),p(this,"handleUnauthenticated",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{broadcast:!0};if(i.client&&i.session)try{let e=await il.getOrCreateInstance().fetch();if(i.updateClient(e),i.session)return;return t.broadcast&&iP.emit(iC.UserSignOut,null),i.setActive({session:null})}catch(t){if(X(t)&&[403,500].includes(t.status))return i.setActive({session:null});throw t}}),p(this,"authenticateWithGoogleOneTap",async t=>{var e;return null===(e=this.client)||void 0===e?void 0:e.signIn.create({strategy:"google_one_tap",token:t.token}).catch(e=>{if(X(e)&&"external_account_not_found"===e.errors[0].code){var i;return null===(i=this.client)||void 0===i?void 0:i.signUp.create({strategy:"google_one_tap",token:t.token,legalAccepted:t.legalAccepted})}throw e})}),p(this,"authenticateWithMetamask",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await i.authenticateWithWeb3({...t,strategy:"web3_metamask_signature"})}),p(this,"authenticateWithCoinbaseWallet",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await i.authenticateWithWeb3({...t,strategy:"web3_coinbase_wallet_signature"})}),p(this,"authenticateWithOKXWallet",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await i.authenticateWithWeb3({...t,strategy:"web3_okx_wallet_signature"})}),p(this,"authenticateWithWeb3",async t=>{let e,{redirectUrl:i,signUpContinueUrl:n,customNavigate:s,unsafeMetadata:r,strategy:a,legalAccepted:o,secondFactorUrl:l}=t;if(!this.client||!this.environment)return;let{displayConfig:c}=this.environment,h=a.replace("web3_","").replace("_signature",""),d=await ek({provider:h}),u="metamask"===h?eC:"coinbase_wallet"===h?eP:eT,p=t=>()=>s&&"function"==typeof s?s(t):this.navigate(t),m=p(l||et({base:c.signInUrl,hashPath:"/factor-two"},{stringify:!0})),f=p(n||et({base:c.signUpUrl,hashPath:"/continue"},{stringify:!0}));try{e=await this.client.signIn.authenticateWithWeb3({identifier:d,generateSignature:u,strategy:a})}catch(t){if(tY(t,sA.FORM_IDENTIFIER_NOT_FOUND))e=await this.client.signUp.authenticateWithWeb3({identifier:d,generateSignature:u,unsafeMetadata:r,strategy:a,legalAccepted:o}),n&&"missing_requirements"===e.status&&"verified"===e.verifications.web3Wallet.status&&await f();else throw t}switch(e.status){case"needs_second_factor":await m();break;case"complete":e.createdSessionId&&await this.setActive({session:e.createdSessionId,redirectUrl:i});break;default:return}}),p(this,"createOrganization",async t=>{let{name:e,slug:i}=t;return i2.create({name:e,slug:i})}),p(this,"getOrganization",async t=>i2.get(t)),p(this,"joinWaitlist",async t=>{let{emailAddress:e}=t;return nJ.join({emailAddress:e})}),p(this,"__internal_setCountry",t=>{this.__internal_country||(this.__internal_country=t)}),p(this,"updateClient",t=>{if(!this.client){let e=a(this,sH).selectInitialSession?a(this,sH).selectInitialSession(t):a(this,rt).call(this,t);a(this,ro).call(this,e)}if(this.client=t,this.session){var e;let t=a(this,rl).call(this,this.session.id);a(this,ro).call(this,t),iP.emit(iC.TokenUpdate,{token:null===(e=this.session)||void 0===e?void 0:e.lastActiveToken})}a(this,rn).call(this)}),p(this,"__unstable__setEnvironment",async t=>{this.environment=new iE(t),rv.mountComponentRenderer&&h(this,sJ,rv.mountComponentRenderer(this,this.environment,a(this,sH)))}),p(this,"__unstable__onBeforeRequest",t=>{a(this,sV).onBeforeRequest(t)}),p(this,"__unstable__onAfterResponse",t=>{a(this,sV).onAfterResponse(t)}),p(this,"__unstable__updateProps",t=>{var e;let i={...t,options:a(this,rp).call(this,{...a(this,sH),...t.options})};return null===(e=a(this,sJ))||void 0===e?void 0:e.ensureMounted().then(t=>t.updateProps(i))}),l(this,s1,{writable:!0,value:()=>{let t=new URLSearchParams({[sU]:window.location.href});return et({base:a(this,sH).signInUrl,searchParams:t},{stringify:!0})}}),l(this,s3,{writable:!0,value:()=>{let t;if(this.proxyUrl){let e=new URL(this.proxyUrl);t=new URL("".concat(e.pathname,"/v1/client/sync"),e.origin)}else this.domain&&(t=new URL("/v1/client/sync","https://".concat(this.domain)));return null==t||t.searchParams.append("redirect_url",window.location.href),(null==t?void 0:t.toString())||""}}),l(this,s2,{writable:!0,value:()=>{var t;return"true"!==tZ(sk)&&!!this.isSatellite&&!!(null===(t=a(this,sD))||void 0===t?void 0:t.isSignedOut())}}),l(this,s4,{writable:!0,value:()=>"production"!==a(this,sK)&&!this.isSatellite&&!!tZ(sU)}),l(this,s6,{writable:!0,value:async()=>{"development"===this.instanceType?await this.navigate(a(this,s1).call(this)):"production"===this.instanceType&&await this.navigate(a(this,s3).call(this))}}),l(this,s5,{writable:!0,value:(t,e)=>{let i;try{i=new URL(t)}catch{!function(){throw Error("".concat(eW," The signInUrl needs to have a absolute url format."))}()}i.origin===e&&function(){throw Error("".concat(eW," The signInUrl needs to be on a different origin than your satellite application."))}()}}),l(this,s9,{writable:!0,value:()=>{this.isSatellite&&("development"!==a(this,sK)||a(this,sH).signInUrl||function(){throw Error("".concat(eW," Missing signInUrl. A satellite application needs to specify the signInUrl for development instances."))}(),this.proxyUrl||this.domain||function(){throw Error("".concat(eW," Missing domain and proxyUrl. A satellite application needs to specify a domain or a proxyUrl."))}(),a(this,sH).signInUrl&&a(this,s5).call(this,a(this,sH).signInUrl,window.location.origin))}}),l(this,s7,{writable:!0,value:async()=>{var t,e,i;if(h(this,sD,await sy.create(this,a(this,sV),a(this,sK))),a(this,s9).call(this),a(this,s2).call(this))return await a(this,s6).call(this),!1;if(a(this,s4).call(this))return await a(this,s0).call(this),!1;h(this,s$,eh()),h(this,sj,new t_("clerk")),a(this,re).call(this);let n=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hostname;if(!t)return!1;let e=t7.get(t);if(void 0===e)e=tc.some(e=>t.startsWith("accounts.")&&t.endsWith(e))||th.some(e=>t.endsWith(e)&&!t.endsWith(".clerk"+e)),t7.set(t,e);return e}(null===(t=window)||void 0===t?void 0:t.location.hostname),s="development"===a(this,sK)&&!n,r=0;for(;r<2;){r++;try{let t=iE.getInstance().fetch({touch:s}).then(t=>{this.updateEnvironment(t)}).catch(t=>{let e=eN.getItem(eR,null);if(!e)throw t;this.updateEnvironment(new iE(e))}),n=async()=>il.getOrCreateInstance().fetch().then(t=>this.updateClient(t)).catch(async t=>{var e,i,n;if(Y(t))throw t;let s=null===(e=a(this,sD))||void 0===e?void 0:e.getSessionCookie(),r=function(t){let e;try{e=new nz({jwt:t||"",object:"token",id:void 0})}catch{e=null}if(il.clearInstance(),!(null==e?void 0:e.jwt))return il.getOrCreateInstance({object:"client",last_active_session_id:null,id:"client_init",sessions:[]});let{sessionId:i,userId:n,orgId:s,orgRole:r,orgPermissions:a,orgSlug:o,factorVerificationAge:l}=sC(e.jwt.claims),c={object:"client",last_active_session_id:i,id:"client_init",sessions:[{object:"session",id:i,status:"active",last_active_organization_id:s||null,last_active_token:{id:void 0,object:"token",jwt:t},factor_verification_age:l||null,public_user_data:{user_id:n},user:{object:"user",id:n,organization_memberships:s&&o&&r?[{object:"organization_membership",id:s,role:r,permissions:a||[],organization:{object:"organization",id:s,name:o,slug:o,members_count:1,max_allowed_memberships:1}}]:[]}}]};return il.getOrCreateInstance(c)}(s);return this.updateClient(r),null===(i=a(this,sD))||void 0===i||i.stopPollingForToken(),await (null===(n=this.session)||void 0===n?void 0:n.getToken({skipCache:!0}).catch(()=>null).finally(()=>{var t;null===(t=a(this,sD))||void 0===t||t.startPollingForToken()})),null}),r=()=>{rv.mountComponentRenderer&&!a(this,sJ)&&h(this,sJ,rv.mountComponentRenderer(this,this.environment,a(this,sH)))},[o,l]=await (i=[t,n()],Promise.all(Array.from(i).map(t=>t.then(t=>({status:"fulfilled",value:t}),t=>({status:"rejected",reason:t})))));if("rejected"===l.status){let e=l.reason;if(tY(e,"requires_captcha"))"rejected"===o.status&&await t,r(),await n();else throw e}if(await t,null===(e=a(this,sD))||void 0===e||e.setClientUatCookieForDevelopmentInstances(),await a(this,ru).call(this))return!1;r();break}catch(t){if(tY(t,"dev_browser_unauthenticated"))await a(this,sD).handleUnauthenticatedDevBrowser();else if(!(D()&&F()))return console.warn(t),!1;else throw t}r>=2&&function(){throw Error("".concat(eW," Something went wrong initializing Clerk."))}()}return h(this,sL,new sS(this)),a(this,sL).start(),a(this,rm).call(this),a(this,rc).call(this),a(this,rh).call(this),!0}}),p(this,"shouldFallbackToCachedResources",()=>!!this.__internal_getCachedResources),l(this,s8,{writable:!0,value:async()=>{let t,e;let i=this.shouldFallbackToCachedResources()?1:void 0;try{[t,e]=await Promise.all([iE.getInstance().fetch({touch:!1,fetchMaxTries:i}),il.getOrCreateInstance().fetch({fetchMaxTries:i})])}catch(i){if(Z(i)&&"network_error"===i.code&&this.shouldFallbackToCachedResources()){var n;let i=await (null===(n=this.__internal_getCachedResources)||void 0===n?void 0:n.call(this));t=new iE(null==i?void 0:i.environment),il.clearInstance(),e=il.getOrCreateInstance(null==i?void 0:i.client)}else throw i}return this.updateClient(e),this.updateEnvironment(t),rv.mountComponentRenderer&&h(this,sJ,rv.mountComponentRenderer(this,this.environment,a(this,sH))),!0}}),p(this,"__internal_reloadInitialResources",async()=>{let[t,e]=await Promise.all([iE.getInstance().fetch({touch:!1,fetchMaxTries:1}),il.getOrCreateInstance().fetch({fetchMaxTries:1})]);this.updateClient(e),this.updateEnvironment(t),a(this,rn).call(this)}),l(this,rt,{writable:!0,value:t=>{if(t.lastActiveSessionId){let e=t.signedInSessions.find(e=>e.id===t.lastActiveSessionId);if(e)return e}return t.signedInSessions[0]||null}}),l(this,re,{writable:!0,value:()=>{var t,e;m()&&(null===(t=a(this,s$))||void 0===t||t.onPageFocus(()=>{!(!this.session||a(this,sY)>Date.now())&&(h(this,sY,Date.now()+5e3),a(this,ri).call(this,this.session))}),null===(e=a(this,sj))||void 0===e||e.addEventListener("message",t=>{let{data:e}=t;"signout"===e.type&&this.handleUnauthenticated({broadcast:!1})}),iP.on(iC.UserSignOut,()=>{var t;null===(t=a(this,sj))||void 0===t||t.postMessage({type:"signout"})}),iP.on(iC.EnvironmentUpdate,()=>{var t;eN.setItem(eR,null===(t=this.environment)||void 0===t?void 0:t.__internal_toSnapshot(),864e5)}))}}),l(this,ri,{writable:!0,value:async t=>{if(!t||!a(this,sH).touchSession)return Promise.resolve();await t.touch().catch(t=>{Y(t)&&this.handleUnauthenticated()})}}),l(this,rn,{writable:!0,value:()=>{if(this.client)for(let t of a(this,sq))t({client:this.client,session:this.session,user:this.user,organization:this.organization})}}),l(this,rs,{writable:!0,value:()=>{for(let t of a(this,sG))t()}}),l(this,rr,{writable:!0,value:()=>{this.session=void 0,this.organization=void 0,this.user=void 0,a(this,rn).call(this)}}),l(this,ra,{writable:!0,value:()=>{var t;return((null===(t=this.session)||void 0===t?void 0:t.user.organizationMemberships)||[]).map(t=>t.organization).find(t=>{var e;return t.id===(null===(e=this.session)||void 0===e?void 0:e.lastActiveOrganizationId)})||null}}),l(this,ro,{writable:!0,value:t=>{this.session=t||null,this.organization=a(this,ra).call(this),this.user=this.session?this.session.user:null}}),l(this,rl,{writable:!0,value:t=>{var e;return(null===(e=this.client)||void 0===e?void 0:e.signedInSessions.find(e=>e.id===t))||null}}),l(this,rc,{writable:!0,value:()=>{this.addListener(t=>{let{session:e}=t;if(null==e?void 0:e.actor){var i;null===(i=a(this,sJ))||void 0===i||i.ensureMounted().then(t=>t.mountImpersonationFab())}})}}),l(this,rh,{writable:!0,value:()=>{if(a(this,sH).__internal_keyless_claimKeylessApplicationUrl){var t;null===(t=a(this,sJ))||void 0===t||t.ensureMounted().then(t=>{t.updateProps({options:{__internal_keyless_claimKeylessApplicationUrl:a(this,sH).__internal_keyless_claimKeylessApplicationUrl,__internal_keyless_copyInstanceKeysUrl:a(this,sH).__internal_keyless_copyInstanceKeysUrl,__internal_keyless_dismissPrompt:a(this,sH).__internal_keyless_dismissPrompt}})})}}}),l(this,rd,{writable:!0,value:(t,e,i)=>{if(!t||!this.loaded||!this.environment||!this.environment.displayConfig)return"";let n=a(this,sH)[t]||this.environment.displayConfig[t];d(this,sZ,r_).call(this)&&(n=a(this,sH).signInUrl);let s=new n3(a(this,sH),e).toSearchParams(),r=new URLSearchParams(i||{}),o=et({base:n,hashPath:d(this,sZ,r_).call(this)&&"signUpUrl"===t?"/create":"",hashSearchParams:[r,s]},{stringify:!0});return this.buildUrlWithAuth(o)}}),l(this,ru,{writable:!0,value:async()=>{var t,e;let i=new URLSearchParams(window.location.search).get("redirect_url"),n="production"===this.instanceType,s=null!==i&&function(t,e){let i=new URL(e,t6),n=i.pathname,s=er.includes(n)||ea.includes(n);return t===i.host&&s}(this.frontendApi,i);if(n||!s)return!1;let r=this.session,o=a(this,sH).signInUrl||(null===(t=this.environment)||void 0===t?void 0:t.displayConfig.signInUrl),l=o&&window.location.href.startsWith(o),c=a(this,sH).signUpUrl||(null===(e=this.environment)||void 0===e?void 0:e.displayConfig.signUpUrl),h=c&&window.location.href.startsWith(c);return(!function(t){let e=new URL(t,t6);return er.includes(e.pathname)}(i)||!!r||!l&&!h)&&(await this.navigate(this.buildUrlWithAuth(i)),!0)}}),l(this,rp,{writable:!0,value:t=>({...sz,...t,allowedRedirectOrigins:function(t,e,i){if(Array.isArray(t)&&t.length)return t;let n=[];return"undefined"!=typeof window&&window.location&&n.push(window.location.origin),n.push("https://".concat(t8(e))),n.push("https://*.".concat(t8(e))),"development"===i&&n.push("https://".concat(e)),n}(null==t?void 0:t.allowedRedirectOrigins,this.frontendApi,this.instanceType)})}),l(this,rm,{writable:!0,value:()=>{try{tQ(sk),tQ("suffixed_cookies"),tQ("__clerk_handshake"),tQ("__clerk_help")}catch{}}}),!(t=(t||"").trim()))return tX.throwMissingPublishableKeyError();let n=tp(t);if(!n)return tX.throwInvalidPublishableKeyError({key:t});h(this,sW,null==e?void 0:e.domain),h(this,sF,null==e?void 0:e.proxyUrl),this.environment=iE.getInstance(),h(this,sK,n.instanceType),h(this,sN,t),h(this,sV,function(t){let e=[],i=[];async function n(t){for await(let i of["undefined"!=typeof window&&window.__unstable__onBeforeRequest,...e].filter(t=>t))if(await i(t)===!1)return!1;return!0}async function s(t,e){for await(let n of["undefined"!=typeof window&&window.__unstable__onAfterResponse,...i].filter(t=>t))if(await n(t,e)===!1)return!1;return!0}function r(e){let{method:i,path:n,sessionId:s,search:r,rotatingTokenNonce:a}=e,o=new URLSearchParams(r);return o.append("__clerk_api_version","2025-04-10"),o.append("_clerk_js_version","5.61.0"),a&&o.append("rotating_token_nonce",a),t.domain&&"development"===t.instanceType&&t.isSatellite&&o.append("__domain",t.domain),i&&"GET"!==i&&"POST"!==i&&o.append("_method",i),n&&!sO.some(t=>n.startsWith(t))&&s&&o.append("_clerk_session_id",s),t4([...o.entries()].reduce((t,e)=>{let[i,n]=e;return t[i]=n.includes(",")?n.split(","):n,t},{}))}function a(e){let{path:i,pathPrefix:n="v1"}=e;if(t.proxyUrl){let s=new URL(t.proxyUrl),a=s.pathname.slice(1,s.pathname.length);return et({base:s.origin,pathname:"".concat(a,"/").concat(n).concat(i),search:r(e)},{stringify:!1})}let s="production"===t.instanceType?t.domain:"";return et({base:"https://".concat(s||t.frontendApi),pathname:"".concat(n).concat(i),search:r(e)},{stringify:!1})}async function o(e,i){let r;let o={...e},{method:l="GET",body:c}=o;o.url=a({...o,sessionId:t.getSessionId()}),o.headers=new Headers(o.headers),"GET"===l||c instanceof FormData||o.headers.has("content-type")||o.headers.set("content-type","application/x-www-form-urlencoded"),"application/x-www-form-urlencoded"===o.headers.get("content-type")&&(o.body=c?t4(c,{keyEncoder:tS}):c);let h=await n(o),d="GET"===l?"GET":"POST",u=o.url.toString(),p={...o,credentials:"include",method:d};try{if(h){var m;let t=null!==(m=null==i?void 0:i.fetchMaxTries)&&void 0!==m?m:D()?4:11;r=await eY(()=>fetch(u,p),{retryImmediately:!0,initialDelay:700,maxDelayBetweenRetries:5e3,shouldRetry:(e,i)=>"GET"===d&&i<t})}else r=new Response("{}",o)}catch(t){!function(t,e){throw Error("".concat(eW,' Network error at "').concat(t,'" - ').concat(e,". Please try again."))}(u,t)}let f=204!==r.status?await r.json():null,v=Object.assign(r,{payload:f});return await s(o,v),v}return{buildEmailAddress:function(e){return function(t){let{localPart:e,frontendApi:i}=t,n=i?i.replace("clerk.",""):"clerk.com";return"".concat(e,"@").concat(n)}({localPart:e,frontendApi:t.frontendApi})},buildUrl:a,onAfterResponse:function(t){i.push(t)},onBeforeRequest:function(t){e.push(t)},request:o}}({domain:this.domain,frontendApi:this.frontendApi,instanceType:this.instanceType,isSatellite:this.isSatellite,getSessionId:()=>{var t;return null===(t=this.session)||void 0===t?void 0:t.id},proxyUrl:this.proxyUrl})),e8.clerk=this}}function r_(){return!!(!a(this,sH).signUpUrl&&a(this,sH).signInUrl&&!tM(a(this,sH).signInUrl))}function rg(){let t=tF;return a(this,sH).allowedRedirectProtocols&&(t=t.concat(a(this,sH).allowedRedirectProtocols)),t}p(rv,"mountComponentRenderer",void 0),p(rv,"version","5.61.0"),p(rv,"sdkMetadata",{name:"@clerk/clerk-js",version:"5.61.0",environment:"production"}),p(rv,"_commerce",void 0),t=i.hmd(t);let rw=(null===(M=document.querySelector("script[data-clerk-publishable-key]"))||void 0===M?void 0:M.getAttribute("data-clerk-publishable-key"))||window.__clerk_publishable_key||"",rb=(null===(z=document.querySelector("script[data-clerk-proxy-url]"))||void 0===z?void 0:z.getAttribute("data-clerk-proxy-url"))||window.__clerk_proxy_url||"",ry=(null===(N=document.querySelector("script[data-clerk-domain]"))||void 0===N?void 0:N.getAttribute("data-clerk-domain"))||window.__clerk_domain||"";window.Clerk||(window.Clerk=new rv(rw,{proxyUrl:rb,domain:ry})),t.hot&&t.hot.accept()},19:function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(s,r){function a(t){try{l(n.next(t))}catch(t){r(t)}}function o(t){try{l(n.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,o)}l((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var i,n,s,r,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(i)throw TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(s=2&r[0]?n.return:r[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;switch(n=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(s=(s=a.trys).length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){a.label=r[1];break}if(6===r[0]&&a.label<s[1]){a.label=s[1],s=r;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(r);break}s[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],n=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(570),a="browser-tabs-lock-key";function o(t){return new Promise(function(e){return setTimeout(e,t)})}function l(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",i="",n=0;n<t;n++){var s=Math.floor(Math.random()*e.length);i+=e[s]}return i}var c=function(){function t(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+l(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===t.waiters&&(t.waiters=[])}return t.prototype.acquireLock=function(e,i){return void 0===i&&(i=5e3),n(this,void 0,void 0,function(){var n,r,c,h,d,u;return s(this,function(s){switch(s.label){case 0:n=Date.now()+l(4),r=Date.now()+i,c=a+"-"+e,h=window.localStorage,s.label=1;case 1:if(!(Date.now()<r))return[3,8];return[4,o(30)];case 2:if(s.sent(),null!==h.getItem(c))return[3,5];return d=this.id+"-"+e+"-"+n,[4,o(Math.floor(25*Math.random()))];case 3:return s.sent(),h.setItem(c,JSON.stringify({id:this.id,iat:n,timeoutKey:d,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:if(s.sent(),null!==(u=h.getItem(c))&&(u=JSON.parse(u)).id===this.id&&u.iat===n)return this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(c,n),[2,!0];return[3,7];case 5:return t.lockCorrector(),[4,this.waitForSomethingToChange(r)];case 6:s.sent(),s.label=7;case 7:return n=Date.now()+l(4),[3,1];case 8:return[2,!1]}})})},t.prototype.refreshLockWhileAcquired=function(t,e){return n(this,void 0,void 0,function(){var i=this;return s(this,function(a){return setTimeout(function(){return n(i,void 0,void 0,function(){var i,n;return s(this,function(s){switch(s.label){case 0:return[4,r.default().lock(e)];case 1:if(s.sent(),!this.acquiredIatSet.has(e)||null===(n=(i=window.localStorage).getItem(t)))return r.default().unlock(e),[2];return(n=JSON.parse(n)).timeRefreshed=Date.now(),i.setItem(t,JSON.stringify(n)),r.default().unlock(e),this.refreshLockWhileAcquired(t,e),[2]}})})},1e3),[2]})})},t.prototype.waitForSomethingToChange=function(e){return n(this,void 0,void 0,function(){return s(this,function(i){switch(i.label){case 0:return[4,new Promise(function(i){var n=!1,s=Date.now(),r=!1;function a(){if(r||(window.removeEventListener("storage",a),t.removeFromWaiting(a),clearTimeout(o),r=!0),!n){n=!0;var e=50-(Date.now()-s);e>0?setTimeout(i,e):i()}}window.addEventListener("storage",a),t.addToWaiting(a);var o=setTimeout(a,Math.max(0,e-Date.now()))})];case 1:return i.sent(),[2]}})})},t.addToWaiting=function(e){this.removeFromWaiting(e),void 0!==t.waiters&&t.waiters.push(e)},t.removeFromWaiting=function(e){void 0!==t.waiters&&(t.waiters=t.waiters.filter(function(t){return t!==e}))},t.notifyWaiters=function(){void 0!==t.waiters&&t.waiters.slice().forEach(function(t){return t()})},t.prototype.releaseLock=function(t){return n(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.releaseLock__private__(t)];case 1:return[2,e.sent()]}})})},t.prototype.releaseLock__private__=function(e){return n(this,void 0,void 0,function(){var i,n,o;return s(this,function(s){switch(s.label){case 0:if(i=window.localStorage,n=a+"-"+e,null===(o=i.getItem(n)))return[2];if((o=JSON.parse(o)).id!==this.id)return[3,2];return[4,r.default().lock(o.iat)];case 1:s.sent(),this.acquiredIatSet.delete(o.iat),i.removeItem(n),r.default().unlock(o.iat),t.notifyWaiters(),s.label=2;case 2:return[2]}})})},t.lockCorrector=function(){for(var e=Date.now()-5e3,i=window.localStorage,n=Object.keys(i),s=!1,r=0;r<n.length;r++){var o=n[r];if(o.includes(a)){var l=i.getItem(o);null!==l&&(void 0===(l=JSON.parse(l)).timeRefreshed&&l.timeAcquired<e||void 0!==l.timeRefreshed&&l.timeRefreshed<e)&&(i.removeItem(o),s=!0)}}s&&t.notifyWaiters()},t.waiters=void 0,t}();e.default=c},570:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){var t=this;this.locked=new Map,this.addToLocked=function(e,i){var n=t.locked.get(e);void 0===n?void 0===i?t.locked.set(e,[]):t.locked.set(e,[i]):void 0!==i&&(n.unshift(i),t.locked.set(e,n))},this.isLocked=function(e){return t.locked.has(e)},this.lock=function(e){return new Promise(function(i,n){t.isLocked(e)?t.addToLocked(e,i):(t.addToLocked(e),i())})},this.unlock=function(e){var i=t.locked.get(e);if(void 0===i||0===i.length){t.locked.delete(e);return}var n=i.pop();t.locked.set(e,i),void 0!==n&&setTimeout(n,0)}}return t.getInstance=function(){return void 0===t.instance&&(t.instance=new t),t.instance},t}();e.default=function(){return i.getInstance()}},763:function(t){t.exports=function(t,e){if("string"!=typeof t)throw TypeError("Expected a string");for(var i,n=String(t),s="",r=!!e&&!!e.extended,a=!!e&&!!e.globstar,o=!1,l=e&&"string"==typeof e.flags?e.flags:"",c=0,h=n.length;c<h;c++)switch(i=n[c]){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":s+="\\"+i;break;case"?":if(r){s+=".";break}case"[":case"]":if(r){s+=i;break}case"{":if(r){o=!0,s+="(";break}case"}":if(r){o=!1,s+=")";break}case",":if(o){s+="|";break}s+="\\"+i;break;case"*":for(var d=n[c-1],u=1;"*"===n[c+1];)u++,c++;var p=n[c+1];a?u>1&&("/"===d||void 0===d)&&("/"===p||void 0===p)?(s+="((?:[^/]*(?:/|$))*)",c++):s+="([^/]*)":s+=".*";break;default:s+=i}return l&&~l.indexOf("g")||(s="^"+s+"$"),new RegExp(s,l)}},647:function(t){var e=function(t){"use strict";var e,i=Object.prototype,n=i.hasOwnProperty,s=Object.defineProperty||function(t,e,i){t[e]=i.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,i){return t[e]=i}}function h(t,i,n,r){var a,o,l,c,h=Object.create((i&&i.prototype instanceof v?i:v).prototype);return s(h,"_invoke",{value:(a=t,o=n,l=new I(r||[]),c=u,function(t,i){if(c===p)throw Error("Generator is already running");if(c===m){if("throw"===t)throw i;return P()}for(l.method=t,l.arg=i;;){var n=l.delegate;if(n){var s=function t(i,n){var s=n.method,r=i.iterator[s];if(e===r)return n.delegate=null,"throw"===s&&i.iterator.return&&(n.method="return",n.arg=e,t(i,n),"throw"===n.method)||"return"!==s&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+s+"' method")),f;var a=d(r,i.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,f;var o=a.arg;return o?o.done?(n[i.resultName]=o.value,n.next=i.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,f):o:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,f)}(n,l);if(s){if(s===f)continue;return s}}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(c===u)throw c=m,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);c=p;var r=d(a,o,l);if("normal"===r.type){if(c=l.done?m:"suspendedYield",r.arg===f)continue;return{value:r.arg,done:l.done}}"throw"===r.type&&(c=m,l.method="throw",l.arg=r.arg)}})}),h}function d(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var u="suspendedStart",p="executing",m="completed",f={};function v(){}function _(){}function g(){}var w={};c(w,a,function(){return this});var b=Object.getPrototypeOf,y=b&&b(b(C([])));y&&y!==i&&n.call(y,a)&&(w=y);var S=g.prototype=v.prototype=Object.create(w);function k(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function U(t,e){var i;s(this,"_invoke",{value:function(s,r){function a(){return new e(function(i,a){!function i(s,r,a,o){var l=d(t[s],t,r);if("throw"===l.type)o(l.arg);else{var c=l.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then(function(t){i("next",t,a,o)},function(t){i("throw",t,a,o)}):e.resolve(h).then(function(t){c.value=t,a(c)},function(t){return i("throw",t,a,o)})}}(s,r,i,a)})}return i=i?i.then(a,a):a()}})}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var i=t[a];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var s=-1,r=function i(){for(;++s<t.length;)if(n.call(t,s))return i.value=t[s],i.done=!1,i;return i.value=e,i.done=!0,i};return r.next=r}}return{next:P}}function P(){return{value:e,done:!0}}return _.prototype=g,s(S,"constructor",{value:g,configurable:!0}),s(g,"constructor",{value:_,configurable:!0}),_.displayName=c(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},k(U.prototype),c(U.prototype,o,function(){return this}),t.AsyncIterator=U,t.async=function(e,i,n,s,r){void 0===r&&(r=Promise);var a=new U(h(e,i,n,s),r);return t.isGeneratorFunction(i)?a:a.next().then(function(t){return t.done?t.value:a.next()})},k(S),c(S,l,"Generator"),c(S,a,function(){return this}),c(S,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function s(n,s){return o.type="throw",o.arg=t,i.next=n,s&&(i.method="next",i.arg=e),!!s}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return s("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return s(a.catchLoc,!0);if(this.prev<a.finallyLoc)return s(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return s(a.catchLoc,!0)}else if(c){if(this.prev<a.finallyLoc)return s(a.finallyLoc)}else throw Error("try statement without catch or finally")}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i];if(s.tryLoc<=this.prev&&n.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var r=s;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return(a.type=t,a.arg=e,r)?(this.method="next",this.next=r.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),O(i),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var s=n.arg;O(i)}return s}}throw Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:C(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),f}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var r=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}return i.m=t,i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;i.t=function(n,s){if(1&s&&(n=this(n)),8&s||"object"==typeof n&&n&&(4&s&&n.__esModule||16&s&&"function"==typeof n.then))return n;var r=Object.create(null);i.r(r);var a={};t=t||[null,e({}),e([]),e(e)];for(var o=2&s&&n;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach(t=>{a[t]=()=>n[t]});return a.default=()=>n,i.d(r,a),r}})(),i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.f={},i.e=t=>Promise.all(Object.keys(i.f).reduce((e,n)=>(i.f[n](t,e),e),[])),i.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),i.u=t=>""+({192:"vendors",199:"cookieSuffix",325:"zxcvbn-common",708:"zxcvbn-ts-core",956:"coinbase-wallet-sdk"})[t]+"_"+i.h().slice(0,6)+"_5.61.0.js",i.h=()=>"3f3c163d3e03fe20",(()=>{i.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}})()})(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="@clerk/clerk-js:";i.l=function(n,s,r,a){if(t[n]){t[n].push(s);return}if(void 0!==r)for(var o,l,c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var d=c[h];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==e+r){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.setAttribute("data-webpack",e+r),o.src=n),t[n]=[s];var u=function(e,i){o.onerror=o.onload=null,clearTimeout(p);var s=t[n];if(delete t[n],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach(function(t){return t(i)}),e)return e(i)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),l&&document.head.appendChild(o)}})(),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{i.g.importScripts&&(t=i.g.location+"");var t,e=i.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var s=n.length-1;s>-1&&(!t||!/^http(s?):/.test(t));)t=n[s--].src}if(!t)throw Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),(()=>{var t={567:0};i.f.j=function(e,n){var s=i.o(t,e)?t[e]:void 0;if(0!==s){if(s)n.push(s[2]);else{var r=new Promise((i,n)=>s=t[e]=[i,n]);n.push(s[2]=r);var a=i.p+i.u(e),o=Error();i.l(a,function(n){if(i.o(t,e)&&(0!==(s=t[e])&&(t[e]=void 0),s)){var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",o.name="ChunkLoadError",o.type=r,o.request=a,s[1](o)}},"chunk-"+e,e)}}};var e=(e,n)=>{var s,r,a=n[0],o=n[1],l=n[2],c=0;if(a.some(e=>0!==t[e])){for(s in o)i.o(o,s)&&(i.m[s]=o[s]);l&&l(i)}for(e&&e(n);c<a.length;c++)r=a[c],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0},n=globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),i(23)})());